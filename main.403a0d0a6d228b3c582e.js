(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"1gqn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.1","app")},KKCa:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},MCLT:function(t,e,n){var r=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}})),u=i[n];n<o;u=i[++n])p(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(t,n){if(y(global.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return t.apply(this,arguments)}};var i,o={};function s(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,t,r.depth)}function a(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function u(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=c(t,i,r)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):p(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(O(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return l(n)}var u,b="",E=!1,C=["{","}"];return f(n)&&(E=!0,C=["[","]"]),O(n)&&(b=" [Function"+(n.name?": "+n.name:"")+"]"),v(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),_(n)&&(b=" "+l(n)),0!==s.length||E&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=E?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)x(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return h(t,n,r,a,e,E)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,b,C)):C[0]+b+C[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),x(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=p(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function p(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function y(t){return void 0===t}function v(t){return b(t)&&"[object RegExp]"===E(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===E(t)}function _(t){return b(t)&&("[object Error]"===E(t)||t instanceof Error)}function O(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(i)&&(i=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=process.pid;o[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=d,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=v,e.isObject=b,e.isDate=w,e.isError=_,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("1gqn");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n("KKCa"),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return bs})),n.d(e,"b",(function(){return Wf})),n.d(e,"c",(function(){return Hf})),n.d(e,"d",(function(){return Ff})),n.d(e,"e",(function(){return Uf})),n.d(e,"f",(function(){return Vd})),n.d(e,"g",(function(){return Id})),n.d(e,"h",(function(){return Tt})),n.d(e,"i",(function(){return Bo})),n.d(e,"j",(function(){return rd})),n.d(e,"k",(function(){return Af})),n.d(e,"l",(function(){return vc})),n.d(e,"m",(function(){return Xf})),n.d(e,"n",(function(){return jf})),n.d(e,"o",(function(){return bc})),n.d(e,"p",(function(){return er})),n.d(e,"q",(function(){return Nh})),n.d(e,"r",(function(){return nt})),n.d(e,"s",(function(){return m})),n.d(e,"t",(function(){return et})),n.d(e,"u",(function(){return vs})),n.d(e,"v",(function(){return Nf})),n.d(e,"w",(function(){return Mc})),n.d(e,"x",(function(){return Fc})),n.d(e,"y",(function(){return Kf})),n.d(e,"z",(function(){return Lf})),n.d(e,"A",(function(){return vt})),n.d(e,"B",(function(){return Td})),n.d(e,"C",(function(){return yt})),n.d(e,"D",(function(){return _d})),n.d(e,"E",(function(){return sd})),n.d(e,"F",(function(){return y})),n.d(e,"G",(function(){return Pf})),n.d(e,"H",(function(){return Gf})),n.d(e,"I",(function(){return Bf})),n.d(e,"J",(function(){return kf})),n.d(e,"K",(function(){return Ec})),n.d(e,"L",(function(){return _c})),n.d(e,"M",(function(){return Oc})),n.d(e,"N",(function(){return Sc})),n.d(e,"O",(function(){return Gr})),n.d(e,"P",(function(){return b})),n.d(e,"Q",(function(){return kd})),n.d(e,"R",(function(){return zc})),n.d(e,"S",(function(){return pd})),n.d(e,"T",(function(){return Wo})),n.d(e,"U",(function(){return xc})),n.d(e,"V",(function(){return Ic})),n.d(e,"W",(function(){return Gc})),n.d(e,"X",(function(){return jt})),n.d(e,"Y",(function(){return Od})),n.d(e,"Z",(function(){return br})),n.d(e,"ab",(function(){return M})),n.d(e,"bb",(function(){return vr})),n.d(e,"cb",(function(){return Rd})),n.d(e,"db",(function(){return yd})),n.d(e,"eb",(function(){return $f})),n.d(e,"fb",(function(){return is})),n.d(e,"gb",(function(){return al})),n.d(e,"hb",(function(){return zr})),n.d(e,"ib",(function(){return Sr})),n.d(e,"jb",(function(){return cr})),n.d(e,"kb",(function(){return hr})),n.d(e,"lb",(function(){return gr})),n.d(e,"mb",(function(){return dr})),n.d(e,"nb",(function(){return fr})),n.d(e,"ob",(function(){return pr})),n.d(e,"pb",(function(){return rl})),n.d(e,"qb",(function(){return Pd})),n.d(e,"rb",(function(){return il})),n.d(e,"sb",(function(){return ol})),n.d(e,"tb",(function(){return lr})),n.d(e,"ub",(function(){return G})),n.d(e,"vb",(function(){return Ls})),n.d(e,"wb",(function(){return Sa})),n.d(e,"xb",(function(){return Ca})),n.d(e,"yb",(function(){return nl})),n.d(e,"zb",(function(){return ih})),n.d(e,"Ab",(function(){return fe})),n.d(e,"Bb",(function(){return D})),n.d(e,"Cb",(function(){return ur})),n.d(e,"Db",(function(){return Is})),n.d(e,"Eb",(function(){return ie})),n.d(e,"Fb",(function(){return gc})),n.d(e,"Gb",(function(){return yi})),n.d(e,"Hb",(function(){return Gs})),n.d(e,"Ib",(function(){return cu})),n.d(e,"Jb",(function(){return Vu})),n.d(e,"Kb",(function(){return su})),n.d(e,"Lb",(function(){return $h})),n.d(e,"Mb",(function(){return Pt})),n.d(e,"Nb",(function(){return Ht})),n.d(e,"Ob",(function(){return S})),n.d(e,"Pb",(function(){return I})),n.d(e,"Qb",(function(){return Mt})),n.d(e,"Rb",(function(){return qt})),n.d(e,"Sb",(function(){return fa})),n.d(e,"Tb",(function(){return ba})),n.d(e,"Ub",(function(){return _a})),n.d(e,"Vb",(function(){return wa})),n.d(e,"Wb",(function(){return va})),n.d(e,"Xb",(function(){return ya})),n.d(e,"Yb",(function(){return Ea})),n.d(e,"Zb",(function(){return Jn})),n.d(e,"ac",(function(){return sc})),n.d(e,"bc",(function(){return Yl})),n.d(e,"cc",(function(){return nh})),n.d(e,"dc",(function(){return th})),n.d(e,"ec",(function(){return eh})),n.d(e,"fc",(function(){return ft})),n.d(e,"gc",(function(){return da})),n.d(e,"hc",(function(){return ef})),n.d(e,"ic",(function(){return Ia})),n.d(e,"jc",(function(){return Qh})),n.d(e,"kc",(function(){return ka})),n.d(e,"lc",(function(){return Ch})),n.d(e,"mc",(function(){return Sh})),n.d(e,"nc",(function(){return Ih})),n.d(e,"oc",(function(){return Va})),n.d(e,"pc",(function(){return Pa})),n.d(e,"qc",(function(){return ga})),n.d(e,"rc",(function(){return La})),n.d(e,"sc",(function(){return Ma})),n.d(e,"tc",(function(){return uh})),n.d(e,"uc",(function(){return ch})),n.d(e,"vc",(function(){return lh})),n.d(e,"wc",(function(){return hh})),n.d(e,"xc",(function(){return zh})),n.d(e,"yc",(function(){return ha})),n.d(e,"zc",(function(){return Re})),n.d(e,"Ac",(function(){return Kr})),n.d(e,"Bc",(function(){return Ft})),n.d(e,"Cc",(function(){return Kh})),n.d(e,"Dc",(function(){return Bh})),n.d(e,"Ec",(function(){return ou})),n.d(e,"Fc",(function(){return la})),n.d(e,"Gc",(function(){return tf})),n.d(e,"Hc",(function(){return Ou})),n.d(e,"Ic",(function(){return Eu})),n.d(e,"Jc",(function(){return Cu})),n.d(e,"Kc",(function(){return Su})),n.d(e,"Lc",(function(){return Gh}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__annotations__",l="__parameters__",h="__prop__metadata__";function f(t,e,n,r,i){return u(()=>{const o=d(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(c)?n[c]:Object.defineProperty(n,c,{value:[]})[c]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function d(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function p(t,e,n){return u(()=>{const r=d(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function g(t,e,n,r){return u(()=>{const i=d(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(h)?o[h]:Object.defineProperty(o,h,{value:{}})[h];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const m=p("Inject",t=>({token:t})),y=p("Optional"),v=p("Self"),b=p("SkipSelf"),w=p("Host"),_=p("Attribute",t=>({attributeName:t}));var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return T(t,t[A])||T(t,t[P])}function T(t,e){return e&&e.token===t?e:null}function j(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(R))?t[k]:null}const A=E({"\u0275prov":E}),k=E({"\u0275inj":E}),N=E({"\u0275provFallback":E}),P=E({ngInjectableDef:E}),R=E({ngInjectorDef:E});function D(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(D).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function V(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return D(this())},t}function F(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===M}const H="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,G=H||B||q||z;var W=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function $(){const t=G.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const K=E({"\u0275cmp":E}),X=E({"\u0275dir":E}),Q=E({"\u0275pipe":E}),J=E({"\u0275mod":E}),Z=E({"\u0275loc":E}),Y=E({"\u0275fac":E}),tt=E({__NG_ELEMENT_ID__:E});class et{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const nt=new et("INJECTOR",-1),rt={},it=/\n/gm,ot="__source",st=E({provide:String,useValue:E});let at,ut=void 0;function ct(t){const e=ut;return ut=t,e}function lt(t){const e=at;return at=t,e}function ht(t,e=O.Default){if(void 0===ut)throw new Error("inject() must be called from an injection context");return null===ut?pt(t,void 0,e):ut.get(t,e&O.Optional?null:void 0,e)}function ft(t,e=O.Default){return(at||ht)(F(t),e)}function dt(t){throw new Error("invalid")}function pt(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${D(t)}]`)}function gt(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof y||"Optional"===i.ngMetadataName||i===y?n|=O.Optional:i instanceof b||"SkipSelf"===i.ngMetadataName||i===b?n|=O.SkipSelf:i instanceof v||"Self"===i.ngMetadataName||i===v?n|=O.Self:t=i instanceof m||i===m?i.token:i}e.push(ft(t,n))}else e.push(ft(r))}return e}class mt{get(t,e=rt){if(e===rt){const e=new Error(`NullInjectorError: No provider for ${D(t)}!`);throw e.name="NullInjectorError",e}return e}}class yt{}class vt{}function bt(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function wt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),wt(r,e)):e!==t&&e.push(r)}return e}function _t(t,e){t.forEach(t=>Array.isArray(t)?_t(t,e):e(t))}function Ot(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Et(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ct(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function St(t,e,n){let r=xt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function It(t,e){const n=xt(t,e);if(n>=0)return t[1|n]}function xt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Tt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),jt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const At={},kt=[];let Nt=0;function Pt(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||jt.Emulated,id:"c",styles:t.styles||kt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Nt++,n.inputs=Ut(t.inputs,e),n.outputs=Ut(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Dt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Vt):null,n})}function Rt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(Dt),r.pipeDefs=()=>n.map(Vt)}function Dt(t){return zt(t)||Bt(t)}function Vt(t){return Gt(t)}const Lt={};function Mt(t){const e={type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{Lt[t.id]=t.type}),e}function Ft(t,e){return u(()=>{const n=$t(t,!0);n.declarations=e.declarations||kt,n.imports=e.imports||kt,n.exports=e.exports||kt})}function Ut(t,e){if(null==t)return At;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Ht=Pt;function qt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function zt(t){return t[K]||null}function Bt(t){return t[X]||null}function Gt(t){return t[Q]||null}function Wt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}function $t(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${D(t)} does not have '\u0275mod' property.`);return n}const Kt=20,Xt=10;function Qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Jt(t){return Array.isArray(t)&&!0===t[1]}function Zt(t){return 0!=(8&t.flags)}function Yt(t){return 2==(2&t.flags)}function te(t){return 1==(1&t.flags)}function ee(t){return null!==t.template}function ne(t){return 0!=(512&t[2])}class re{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ie(){return oe}function oe(t){return t.type.prototype.ngOnChanges&&(t.setInput=ae),se}function se(){const t=ue(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===At)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ae(t,e,n,r){const i=ue(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:At,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new re(u&&u.currentValue,e,s===At),t[r]=e}function ue(t){return t.__ngSimpleChanges__||null}ie.ngInherit=!0;const ce="http://www.w3.org/2000/svg",le="http://www.w3.org/1998/MathML/";let he=void 0;function fe(t){he=t}function de(){return void 0!==he?he:"undefined"!=typeof document?document:void 0}function pe(t){return!!t.listen}const ge={createRenderer:(t,e)=>de()};function me(t){for(;Array.isArray(t);)t=t[0];return t}function ye(t,e){return me(e[t+Kt])}function ve(t,e){return me(e[t.index])}function be(t,e){return t.data[e+Kt]}function we(t,e){return t[e+Kt]}function _e(t,e){const n=e[t];return Qt(n)?n:n[0]}function Oe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ee(t){return 4==(4&t[2])}function Ce(t){return 128==(128&t[2])}function Se(t,e){return null===t||null==e?null:t[e]}function Ie(t){t[18]=0}function xe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Te={lFrame:tn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function je(){return Te.bindingsEnabled}function Ae(){Te.bindingsEnabled=!0}function ke(){Te.bindingsEnabled=!1}function Ne(){return Te.lFrame.lView}function Pe(){return Te.lFrame.tView}function Re(t){Te.lFrame.contextLView=t}function De(){return Te.lFrame.currentTNode}function Ve(t,e){Te.lFrame.currentTNode=t,Te.lFrame.isParent=e}function Le(){return Te.lFrame.isParent}function Me(){Te.lFrame.isParent=!1}function Fe(){return Te.checkNoChangesMode}function Ue(t){Te.checkNoChangesMode=t}function He(){const t=Te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qe(){return Te.lFrame.bindingIndex}function ze(t){return Te.lFrame.bindingIndex=t}function Be(){return Te.lFrame.bindingIndex++}function Ge(t){const e=Te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function We(t,e){const n=Te.lFrame;n.bindingIndex=n.bindingRootIndex=t,$e(e)}function $e(t){Te.lFrame.currentDirectiveIndex=t}function Ke(t){const e=Te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Xe(){return Te.lFrame.currentQueryIndex}function Qe(t){Te.lFrame.currentQueryIndex=t}function Je(t,e){const n=Ye();Te.lFrame=n,n.currentTNode=e,n.lView=t}function Ze(t){const e=Ye(),n=t[1];Te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Ye(){const t=Te.lFrame,e=null===t?null:t.child;return null===e?tn(t):e}function tn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function en(){const t=Te.lFrame;return Te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nn=en;function rn(){const t=en();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function on(){return Te.lFrame.selectedIndex}function sn(t){Te.lFrame.selectedIndex=t}function an(){const t=Te.lFrame;return be(t.tView,t.selectedIndex)}function un(){Te.lFrame.currentNamespace=ce}function cn(){Te.lFrame.currentNamespace=le}function ln(){Te.lFrame.currentNamespace=null}function hn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function fn(t,e,n){gn(t,e,3,n)}function dn(t,e,n,r){(3&t[2])===n&&gn(t,e,n,r)}function pn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function gn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(mn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function mn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const yn=-1;class vn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function bn(t,e,n){const r=pe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];_n(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function wn(t){return 3===t||4===t||6===t}function _n(t){return 64===t.charCodeAt(0)}function On(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||En(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function En(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Cn(t){return t!==yn}function Sn(t){return 32767&t}function In(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function xn(t){return"string"==typeof t?t:null==t?"":""+t}function Tn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xn(t)}const jn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function An(t){return{name:"window",target:t.ownerDocument.defaultView}}function kn(t){return{name:"document",target:t.ownerDocument}}function Nn(t){return{name:"body",target:t.ownerDocument.body}}function Pn(t){return t instanceof Function?t():t}let Rn=!0;function Dn(t){const e=Rn;return Rn=t,e}let Vn=0;function Ln(t,e){const n=Fn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Mn(r.data,t),Mn(e,null),Mn(r.blueprint,null));const i=Un(t,e),o=t.injectorIndex;if(Cn(i)){const t=Sn(i),n=In(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Mn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return yn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return yn}function Hn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(tt)&&(r=n[tt]),null==r&&(r=n[tt]=Vn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function qn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(tt)?t[tt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Je(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;throw new Error(`No provider for ${Tn(n)}!`)}finally{nn()}}else if("number"==typeof i){if(-1===i)return new Xn(t,e);let o=null,s=Fn(t,e),a=yn,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?Un(t,e):e[s+8],a!==yn&&Kn(r,!1)?(o=e[1],s=Sn(a),e=In(a,e)):s=-1);-1!==s;){const t=e[1];if($n(i,s,t.data)){const t=Bn(s,e,n,o,r,u);if(t!==zn)return t}a=e[s+8],a!==yn&&Kn(r,e[1].data[s+8]===u)&&$n(i,s,e)?(o=t,s=Sn(a),e=In(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=lt(void 0);try{return t?t.get(n,i,r&O.Optional):pt(n,i,r&O.Optional)}finally{lt(o)}}if(r&O.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Tn(n)}]`)}const zn={};function Bn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Gn(a,s,n,null==r?Yt(a)&&Rn:r!=s&&2===a.type,i&O.Host&&o===a);return null!==u?Wn(e,s,u,a):zn}function Gn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ee(t)&&t.type===n)return u}return null}function Wn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof vn){const s=i;if(s.resolving)throw new Error("Circular dep for "+Tn(o[n]));const a=Dn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?lt(s.injectImpl):null;Je(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=oe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&lt(u),Dn(a),s.resolving=!1,nn()}}return i}function $n(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Kn(t,e){return!(t&O.Self||t&O.Host&&e)}class Xn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qn(this._tNode,this._lView,t,void 0,e)}}function Qn(t){const e=t;if(U(t))return()=>{const t=Qn(F(e));return t?t():null};let n=Wt(e);if(null===n){const t=j(e);n=t&&t.factory}return n||null}function Jn(t){return u(()=>{const e=t.prototype.constructor,n=e[Y]||Qn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||Qn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Zn(t){return t.ngDebugContext}function Yn(t){return t.ngOriginalError}function tr(t,...e){t.error(...e)}class er{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||tr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Zn(t)?Zn(t):this._findContext(Yn(t)):null}_findOriginalError(t){let e=Yn(t);for(;e&&Yn(e);)e=Yn(e);return e}}class nr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class rr extends nr{getTypeName(){return"HTML"}}class ir extends nr{getTypeName(){return"Style"}}class or extends nr{getTypeName(){return"Script"}}class sr extends nr{getTypeName(){return"URL"}}class ar extends nr{getTypeName(){return"ResourceURL"}}function ur(t){return t instanceof nr?t.changingThisBreaksApplicationSecurity:t}function cr(t,e){const n=lr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function lr(t){return t instanceof nr&&t.getTypeName()||null}function hr(t){return new rr(t)}function fr(t){return new ir(t)}function dr(t){return new or(t)}function pr(t){return new sr(t)}function gr(t){return new ar(t)}let mr=!0,yr=!1;function vr(){return yr=!0,mr}function br(){if(yr)throw new Error("Cannot enable prod mode after platform setup.");mr=!1}function wr(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new _r:new Or(t)}class _r{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Or{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sr(t){return(t=String(t)).match(Er)||t.match(Cr)?t:(vr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ir(t){return(t=String(t)).split(",").map(t=>Sr(t.trim())).join(", ")}function xr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const jr=xr("area,br,col,hr,img,wbr"),Ar=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kr=xr("rp,rt"),Nr=Tr(kr,Ar),Pr=Tr(jr,Tr(Ar,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tr(kr,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nr),Rr=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dr=xr("srcset"),Vr=Tr(Rr,Dr,xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lr=xr("script,style,template");class Mr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Vr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Rr[i]&&(o=Sr(o)),Dr[i]&&(o=Ir(o)),this.buf.push(" ",e,'="',Hr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Pr.hasOwnProperty(e)&&!jr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const Fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ur=/([^\#-~ |!])/g;function Hr(t){return t.replace(/&/g,"&amp;").replace(Fr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ur,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qr;function zr(t,e){let n=null;try{qr=qr||wr(t);let r=e?String(e):"";n=qr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=qr.getInertBodyElement(r)}while(r!==o);const s=new Mr,a=s.sanitizeChildren(Br(n)||n);return vr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Wr(t){const e=Zr();return e?e.sanitize(Gr.HTML,t)||"":cr(t,"HTML")?ur(t):zr(de(),xn(t))}function $r(t){const e=Zr();return e?e.sanitize(Gr.STYLE,t)||"":cr(t,"Style")?ur(t):xn(t)}function Kr(t){const e=Zr();return e?e.sanitize(Gr.URL,t)||"":cr(t,"URL")?ur(t):Sr(xn(t))}function Xr(t){const e=Zr();if(e)return e.sanitize(Gr.RESOURCE_URL,t)||"";if(cr(t,"ResourceURL"))return ur(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Qr(t){const e=Zr();if(e)return e.sanitize(Gr.SCRIPT,t)||"";if(cr(t,"Script"))return ur(t);throw new Error("unsafe value used in a script context")}function Jr(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Xr:Kr}(e,n)(t)}function Zr(){const t=Ne();return t&&t[12]}function Yr(t,e){t.__ngContext__=e}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 0===t.type&&t.tagName!==ei}function ii(t,e,n){return e===(0!==t.type||n?t.tagName:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(wn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(u))return!1;if(s&&si(u))continue;s=!1,r=u|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=li(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=li(o,i)),e}const fi={};function di(t){const e=t[3];return Jt(e)?e[3]:e}function pi(t){return mi(t[13])}function gi(t){return mi(t[4])}function mi(t){for(;null!==t&&!Jt(t);)t=t[4];return t}function yi(t){vi(Pe(),Ne(),on()+t,Fe())}function vi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&fn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&dn(e,r,0,n)}sn(n)}function bi(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function _i(t){return 2|t}function Oi(t){return(131068&t)>>2}function Ei(t,e){return-131069&t|e<<2}function Ci(t){return 1|t}function Si(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Qe(i),n.contentQueries(2,e[o],o)}}}function Ii(t,e,n){return pe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function xi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ie(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ti(t,e,n,r,i){const o=e+Kt,s=t.data[o]||function(t,e,n,r,i){const o=De(),s=Le(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return Ve(s,!0),s}function ji(t,e,n){Ze(e);try{const r=t.viewQuery;null!==r&&ao(1,r,n);const i=t.template;null!==i&&Ni(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Si(t,e),t.staticViewQueries&&ao(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)no(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,rn()}}function Ai(t,e,n,r){const i=e[2];if(256==(256&i))return;Ze(e);const o=Fe();try{Ie(e),ze(t.bindingStartIndex),null!==n&&Ni(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&fn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&dn(e,n,0,null),pn(e,0)}if(function(t){for(let e=pi(t);null!==e;e=gi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&xe(r,1),n[2]|=1024}}}(e),function(t){for(let e=pi(t);null!==e;e=gi(e))for(let t=Xt;t<e.length;t++){const n=e[t],r=n[1];Ce(n)&&Ai(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Si(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&fn(e,n)}else{const n=t.contentHooks;null!==n&&dn(e,n,1),pn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,sn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(We(r,i),s(2,e[i])),i++)}}}finally{sn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)eo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ao(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&fn(e,n)}else{const n=t.viewHooks;null!==n&&dn(e,n,2),pn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,xe(e[3],-1))}finally{rn()}}function ki(t,e,n,r){const i=e[10],o=!Fe(),s=Ee(e);try{o&&!s&&i.begin&&i.begin(),s&&ji(t,e,r),Ai(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ni(t,e,n,r,i){const o=on();try{sn(-1),2&r&&e.length>Kt&&vi(t,e,0,Fe()),n(r,i)}finally{sn(o)}}function Pi(t,e,n){if(Zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ri(t,e,n){je()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ln(n,e),Yr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ee(r);o&&Qi(e,n,r);const u=Wn(e,t,a,n);Yr(u,e),null!==s&&Zi(0,a-i,u,r,0,s),o&&(_e(n.index,e)[8]=u)}}(t,e,n,ve(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Kt,u=Te.lFrame.currentDirectiveIndex;try{sn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];$e(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Bi(r,i):s&&o.push(null)}}finally{sn(-1),$e(u)}}(t,e,n))}function Di(t,e,n=ve){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Li(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Li(t,e,n,r,i,o,s,a,u,c){const l=Kt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Mi(t,e,n,r){const i=co(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Fi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ui(t,e,n,r,i,o,s,a){const u=ve(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(fo(t,n,c,r,i),Yt(e)&&function(t,e){const n=_e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,pe(o)?o.setProperty(u,r,i):_n(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Hi(t,e,n,r){let i=!1;if(je()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),Hn(Ln(n,e),t,s.type),ee(s)?(Wi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Ki(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Gi(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=On(n.mergedAttrs,c.hostAttrs),Xi(t,e,c),$i(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Kt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Kt),u=!0),qi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:Yi(n,i);o.push(c),s=Fi(n,u,s),a=Fi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),zi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=On(n.mergedAttrs,n.attrs),i}function qi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function zi(t,e,n){for(let r=0;r<n;r++)e.push(fi),t.blueprint.push(fi),t.data.push(null)}function Bi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Gi(t,e,n){const r=Kt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Wi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function $i(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ee(e)&&(n[""]=t)}}function Ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Wt(n.type)),i=new vn(r,ee(n),null);t.blueprint.push(i),e.push(i)}function Qi(t,e,n){const r=ve(e,t),i=Vi(n),o=t[10],s=ro(t,xi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ji(t,e,n,r,i,o){const s=ve(t,e),a=e[11];if(null==r)pe(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?xn(r):i(r,t.tagName||"",n);pe(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function Zi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function to(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function eo(t,e){const n=_e(e,t);if(Ce(n)){const t=n[1];80&n[2]?Ai(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=pi(e);null!==r;r=gi(r))for(let e=Xt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Ai(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=_e(n[r],e);Ce(i)&&i[5]>0&&t(i)}}(n)}}function no(t,e){const n=_e(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ji(r,n,n[8])}function ro(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function io(t){for(;t;){t[2]|=64;const e=di(t);if(ne(t)&&!e)return t;t=e}return null}function oo(t,e,n){const r=e[10];r.begin&&r.begin();try{Ai(t,e,t.template,n)}catch(i){throw ho(e,i),i}finally{r.end&&r.end()}}function so(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Oe(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function ao(t,e,n){Qe(0),e(t,n)}const uo=(()=>Promise.resolve(null))();function co(t){return t[7]||(t[7]=[])}function lo(t,e,n){return(null===t||ee(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ho(t,e){const n=t[9],r=n?n.get(er,null):null;r&&r.handleError(e)}function fo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function po(t,e,n){const r=ye(e,t),i=t[11];pe(i)?i.setValue(r,n):r.textContent=n}function go(t,e,n,r,i){if(null!=r){let o,s=!1;Jt(r)?o=r:Qt(r)&&(s=!0,r=r[0]);const a=me(r);0===t&&null!==n?null==i?Eo(e,n,a):Oo(e,n,a,i||null):1===t&&null!==n?Oo(e,n,a,i||null):2===t?To(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==me(n)&&go(e,t,r,o,i);for(let s=Xt;s<n.length;s++){const i=n[s];Ao(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function mo(t,e){return pe(e)?e.createText(t):e.createTextNode(t)}function yo(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,xe(i,-1)),n.splice(r,1)}function vo(t,e){if(t.length<=Xt)return;const n=Xt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&yo(o,r),e>0&&(t[n-1][4]=r[4]);const s=Et(t,Xt+e);Ao(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function bo(t,e){if(!(256&e[2])){const n=e[11];pe(n)&&n.destroyNode&&Ao(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return wo(t[1],t);for(;e;){let n=null;if(Qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Qt(e)&&wo(e[1],e),e=e[3];null===e&&(e=t),Qt(e)&&wo(e[1],e),n=e&&e[4]}e=n}}(e)}}function wo(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof vn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):me(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&pe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Jt(e[3])){n!==e[3]&&yo(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function _o(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ve(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==jt.ShadowDom&&n!==jt.Native)return null}return ve(r,n)}function Oo(t,e,n,r){pe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Eo(t,e,n){pe(t)?t.appendChild(e,n):e.appendChild(n)}function Co(t,e,n,r){null!==r?Oo(t,e,n,r):Eo(t,e,n)}function So(t,e){return pe(t)?t.parentNode(e):e.parentNode}function Io(t,e){return 3===t.type||4===t.type?ve(t,e):null}function xo(t,e,n,r){const i=_o(t,r,e);if(null!=i){const t=e[11],o=Io(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Co(t,i,n[e],o);else Co(t,i,n,o)}}function To(t,e,n){const r=So(t,e);r&&function(t,e,n,r){pe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function jo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&Yr(me(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(jo(t,e,n.child,r,i,o,!1),go(e,t,i,a,o)):1===u?No(t,e,r,n,i,o):go(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ao(t,e,n,r,i,o){jo(n,r,t.firstChild,e,i,o,!1)}function ko(t,e,n){No(e[11],0,e,n,_o(t,n,e),Io(n.parent||e[6],e))}function No(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)go(e,t,i,a[u],o);else jo(t,e,a,s[3],i,o,!0)}function Po(t,e,n){pe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ro(t,e,n){pe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Do{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(me(s)),Jt(s))for(let e=Xt;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=di(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}bo(this._lView[1],this._lView)}onDestroy(t){Mi(this._lView[1],this._lView,null,t)}markForCheck(){io(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){oo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ue(!0);try{oo(t,e,n)}finally{Ue(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ao(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Vo extends Do{constructor(t){super(t),this._view=t}detectChanges(){so(this._view)}checkNoChanges(){!function(t){Ue(!0);try{so(t)}finally{Ue(!1)}}(this._view)}get context(){return null}}let Lo,Mo,Fo;function Uo(t,e,n){return Lo||(Lo=class extends t{}),new Lo(ve(e,n))}function Ho(t,e,n,r){return Mo||(Mo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=xi(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ji(e,n,t),new Do(n)}}),0===n.type?new Mo(r,n,Uo(e,n,r)):null}function qo(t,e,n,r){let i;Fo||(Fo=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Uo(e,this._hostTNode,this._hostView)}get injector(){return new Xn(this._hostTNode,this._hostView)}get parentInjector(){const t=Un(this._hostTNode,this._hostView);if(Cn(t)){const e=In(t,this._hostView),n=Sn(t);return new Xn(e[1].data[n+8],e)}return new Xn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(yt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Jt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Fo(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Xt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Xt?(e[4]=n[i],Ot(n,Xt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Xt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ve(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Jt(e)?t(-1,e):me(e)}}{const t=n[16],i=t[6],o=di(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=So(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ao(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),Ot(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=vo(this._lContainer,e);n&&(Et(this._lContainer[8],e),bo(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=vo(this._lContainer,e);return n&&null!=Et(this._lContainer[8],e)?new Do(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Jt(o))i=o;else{let t;if(3===n.type)t=me(o);else if(t=r[11].createComment(""),ne(r)){const e=r[11],i=ve(n,r);Oo(e,So(e,i),t,function(t,e){return pe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else xo(r[1],r,t,n);r[n.index]=i=to(o,r,t,n),ro(r,i)}return new Fo(i,n,r)}function zo(t=!1){return function(t,e,n){if(!n&&Yt(t)){const n=_e(t.index,e);return new Do(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Do(e[16],e):null}(De(),Ne(),t)}let Bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Go(),t})();const Go=zo,Wo=Function;function $o(t){return"function"==typeof t}const Ko=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Xo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Qo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Jo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Zo{constructor(t){this._reflect=t||G.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Ct(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Ko.test(n)||Jo.test(n)||Xo.test(n)&&!Qo.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Yo(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(l)&&t[l],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Ct(t.length)}parameters(t){if(!$o(t))return[];const e=ts(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Yo(t.decorators):t.hasOwnProperty(c)?t[c]:null}annotations(t){if(!$o(t))return[];const e=ts(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Yo(e[t])}),n}return t.hasOwnProperty(h)?t[h]:null}propMetadata(t){if(!$o(t))return{};const e=ts(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return $o(t)&&this._ownPropMetadata(t,ts(t))||{}}hasLifecycleHook(t,e){return t instanceof Wo&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+D(t)}resourceUri(t){return"./"+D(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Yo(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function ts(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let es=null;function ns(){return es=es||new Zo}function rs(t){return function(t){const e=$();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const o=e[i];if(void 0===o)continue;const s=Object.getPrototypeOf(o);if(o instanceof y||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof b||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof v||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof w||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof m)n.token=o.token;else if(o instanceof _){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else o===Bo?(n.token=o,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(o)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=W.Invalid):r(e);return n}(e,t))}(ns().parameters(t))}const is=new et("Set Injector scope."),os={},ss={},as=[];let us=void 0;function cs(){return void 0===us&&(us=new mt),us}function ls(t,e=null,n=null,r){return new hs(t,n,e||cs(),r)}class hs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&_t(e,n=>this.processProvider(n,t,e)),_t([t],t=>this.processInjectorType(t,[],i)),this.records.set(nt,ps(void 0,this));const o=this.records.get(is);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:D(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=rt,n=O.Default){this.assertNotDestroyed();const r=ct(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof et)&&x(t);e=n&&this.injectableDefInScope(n)?ps(fs(t),os):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?cs():this.parent).get(t,e=n&O.Optional&&e===rt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(D(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[ot]&&i.unshift(e[ot]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=D(e);if(Array.isArray(e))i=e.map(D).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):D(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(it,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ct(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(D(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=j(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=j(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{_t(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];_t(r,t=>this.processProvider(t,n,r||as))}}this.injectorDefTypes.add(o),this.records.set(o,ps(r.factory,os));const a=r.providers;if(null!=a&&!s){const e=t;_t(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ms(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return gs(t)?ps(void 0,t.useValue):ps(ds(t),os)}(t);if(ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ps(void 0,os,!0),e.factory=()=>gt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===os&&(e.value=ss,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fs(t){const e=x(t),n=null!==e?e.factory:Wt(t);if(null!==n)return n;const r=j(t);if(null!==r)return r.factory;if(t instanceof et)throw new Error(`Token ${D(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Ct(e,"?");throw new Error(`Can't resolve all parameters for ${D(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[P]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n){let r=void 0;if(ms(t)){const e=F(t);return Wt(e)||fs(e)}if(gs(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...gt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ft(F(t.useExisting));else{const e=F(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Wt(e)||fs(e);r=()=>new e(...gt(t.deps))}var i;return r}function ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gs(t){return null!==t&&"object"==typeof t&&st in t}function ms(t){return"function"==typeof t}const ys=function(t,e,n){return function(t,e=null,n=null,r){const i=ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vs=(()=>{class t{static create(t,e){return Array.isArray(t)?ys(t,e,""):ys(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=rt,t.NULL=new mt,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>ft(nt)}),t.__NG_ELEMENT_ID__=-1,t})();const bs=new et("AnalyzeForEntryComponents");let ws=new Map;const _s=new Set;function Os(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function Es(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=V(i,t):2==o&&(r=V(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Cs(t,e){const n=Oe(t)[1],r=n.data.length-1;hn(n,{directiveStart:r,directiveEnd:r+1})}function Ss(t){return Object.getPrototypeOf(t.prototype).constructor}function Is(t){let e=Ss(t.type),n=!0;const r=[t];for(;e;){let i=void 0;if(ee(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=xs(t.inputs),e.declaredInputs=xs(t.declaredInputs),e.outputs=xs(t.outputs);const n=i.hostBindings;n&&As(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ts(t,o),s&&js(t,s),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),ee(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Is&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=On(i.hostAttrs,n=On(n,i.hostAttrs))}}(r)}function xs(t){return t===At?{}:t===kt?[]:t}function Ts(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function js(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function As(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const ks=["providersResolver"],Ns=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ps(t){let e=Ss(t.type),n=void 0;n=ee(t)?e.\u0275cmp:e.\u0275dir;const r=t;for(const i of ks)r[i]=n[i];if(ee(n))for(const i of Ns)r[i]=n[i]}let Rs=null;function Ds(){if(!Rs){const t=G.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}class Vs{constructor(t){this.wrapped=t}static wrap(t){return new Vs(t)}static unwrap(t){return Vs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Vs}}function Ls(t){return!!Ms(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Ms(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,e,n){return t[e]=n}function Us(t,e){return t[e]}function Hs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qs(t,e,n,r){const i=Hs(t,e,n);return Hs(t,e+1,r)||i}function zs(t,e,n,r,i){const o=qs(t,e,n,r);return Hs(t,e+2,i)||o}function Bs(t,e,n,r,i,o){const s=qs(t,e,n,r);return qs(t,e+2,i,o)||s}function Gs(t,e,n,r){const i=Ne();return Hs(i,Be(),e)&&(Pe(),Ji(an(),i,t,e,n,r)),Gs}function Ws(t,e){let n=!1,r=qe();for(let o=1;o<e.length;o+=2)n=Hs(t,r++,e[o])||n;if(ze(r),!n)return fi;let i=e[0];for(let o=1;o<e.length;o+=2)i+=xn(e[o])+e[o+1];return i}function $s(t,e,n,r){return Hs(t,Be(),n)?e+xn(n)+r:fi}function Ks(t,e,n,r,i,o){const s=qs(t,qe(),n,i);return Ge(2),s?e+xn(n)+r+xn(i)+o:fi}function Xs(t,e,n,r,i,o,s,a){const u=zs(t,qe(),n,i,s);return Ge(3),u?e+xn(n)+r+xn(i)+o+xn(s)+a:fi}function Qs(t,e,n,r,i,o,s,a,u,c){const l=Bs(t,qe(),n,i,s,u);return Ge(4),l?e+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c:fi}function Js(t,e,n,r,i,o,s,a,u,c,l,h){const f=qe();let d=Bs(t,f,n,i,s,u);return d=Hs(t,f+4,l)||d,Ge(5),d?e+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h:fi}function Zs(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=qe();let g=Bs(t,p,n,i,s,u);return g=qs(t,p+4,l,f)||g,Ge(6),g?e+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h+xn(f)+d:fi}function Ys(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=qe();let y=Bs(t,m,n,i,s,u);return y=zs(t,m+4,l,f,p)||y,Ge(7),y?e+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h+xn(f)+d+xn(p)+g:fi}function ta(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y){const v=qe();let b=Bs(t,v,n,i,s,u);return b=Bs(t,v+4,l,f,p,m)||b,Ge(8),b?e+xn(n)+r+xn(i)+o+xn(s)+a+xn(u)+c+xn(l)+h+xn(f)+d+xn(p)+g+xn(m)+y:fi}function ea(t,e,n,r,i,o){const s=Ne(),a=$s(s,e,n,r);return a!==fi&&Ji(an(),s,t,a,i,o),ea}function na(t,e,n,r,i,o,s,a){const u=Ne(),c=Ks(u,e,n,r,i,o);return c!==fi&&Ji(an(),u,t,c,s,a),na}function ra(t,e,n,r,i,o,s,a,u,c){const l=Ne(),h=Xs(l,e,n,r,i,o,s,a);return h!==fi&&Ji(an(),l,t,h,u,c),ra}function ia(t,e,n,r,i,o,s,a,u,c,l,h){const f=Ne(),d=Qs(f,e,n,r,i,o,s,a,u,c);return d!==fi&&Ji(an(),f,t,d,l,h),ia}function oa(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Ne(),g=Js(p,e,n,r,i,o,s,a,u,c,l,h);return g!==fi&&Ji(an(),p,t,g,f,d),oa}function sa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Ne(),y=Zs(m,e,n,r,i,o,s,a,u,c,l,h,f,d);return y!==fi&&Ji(an(),m,t,y,p,g),sa}function aa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y){const v=Ne(),b=Ys(v,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return b!==fi&&Ji(an(),v,t,b,m,y),aa}function ua(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v,b){const w=Ne(),_=ta(w,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y);return _!==fi&&Ji(an(),w,t,_,v,b),ua}function ca(t,e,n,r){const i=Ne(),o=Ws(i,e);return o!==fi&&Ji(an(),i,t,o,n,r),ca}function la(t,e,n,r,i,o,s,a){const u=Ne(),c=Pe(),l=t+Kt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ti(e,t,0,s||null,Se(c,a));Hi(e,n,l,Se(c,u)),hn(e,l);const h=l.tViews=Li(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Ve(h,!1);const f=u[11].createComment("");xo(c,u,f,h),Yr(f,u),ro(u,u[l]=to(f,u,f,h)),te(h)&&Ri(c,u,h),null!=s&&Di(u,h,a)}function ha(t){return we(Te.lFrame.contextLView,t)}function fa(t,e=O.Default){const n=Ne();return null===n?ft(t,e):qn(De(),n,F(t),e)}function da(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(wn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(De(),t)}function pa(){throw new Error("invalid")}function ga(t,e,n){const r=Ne();return Hs(r,Be(),e)&&Ui(Pe(),an(),r,t,e,r[11],n,!1),ga}function ma(t,e,n,r,i){const o=i?"class":"style";fo(t,n,e.inputs[o],o,r)}function ya(t,e,n,r){const i=Ne(),o=Pe(),s=Kt+t,a=i[11],u=i[s]=Ii(e,a,Te.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ti(e,t,2,i,Se(a,o));return Hi(e,n,u,Se(a,s)),null!==u.attrs&&Es(u,u.attrs,!1),null!==u.mergedAttrs&&Es(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];Ve(c,!0);const l=c.mergedAttrs;null!==l&&bn(a,u,l);const h=c.classes;null!==h&&Ro(a,u,h);const f=c.styles;null!==f&&Po(a,u,f),xo(o,i,u,c),0===Te.lFrame.elementDepthCount&&Yr(u,i),Te.lFrame.elementDepthCount++,te(c)&&(Ri(o,i,c),Pi(o,c,i)),null!==r&&Di(i,c)}function va(){let t=De();Le()?Me():(t=t.parent,Ve(t,!1));const e=t;Te.lFrame.elementDepthCount--;const n=Pe();n.firstCreatePass&&(hn(n,t),Zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ma(n,e,Ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ma(n,e,Ne(),e.stylesWithoutHost,!1)}function ba(t,e,n,r){ya(t,e,n,r),va()}function wa(t,e,n){const r=Ne(),i=Pe(),o=t+Kt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Se(o,r),a=Ti(e,t,3,"ng-container",s);return null!==s&&Es(a,s,!0),Hi(e,n,a,Se(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Ve(s,!0);const a=r[o]=r[11].createComment("");xo(i,r,a,s),Yr(a,r),te(s)&&(Ri(i,r,s),Pi(i,s,r)),null!=n&&Di(r,s)}function _a(){let t=De();const e=Pe();Le()?Me():(t=t.parent,Ve(t,!1)),e.firstCreatePass&&(hn(e,t),Zt(t)&&e.queries.elementEnd(t))}function Oa(t,e,n){wa(t,e,n),_a()}function Ea(){return Ne()}function Ca(t){return!!t&&"function"==typeof t.then}function Sa(t){return!!t&&"function"==typeof t.subscribe}function Ia(t,e,n=!1,r){const i=Ne(),o=Pe(),s=De();return Ta(o,i,i[11],s,t,e,n,r),Ia}function xa(t,e,n=!1,r){const i=De(),o=Ne(),s=Pe();return Ta(s,o,lo(Ke(s.data),i,o),i,t,e,n,r),xa}function Ta(t,e,n,r,i,o,s=!1,a){const u=te(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=co(e);let h=!0;if(2===r.type){const f=ve(r,e),d=a?a(f):At,p=d.target||f,g=l.length,m=a?t=>a(me(t[r.index])).target:r.index;if(pe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Aa(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Aa(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function ja(t,e,n){try{return!1!==e(n)}catch(r){return ho(t,r),!1}}function Aa(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?_e(t.index,e):e;0==(32&e[2])&&io(s);let a=ja(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=ja(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ka(t=1){return function(t){return(Te.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Te.lFrame.contextLView))[8]}(t)}function Na(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ui(t,o,!0):ci(r,o))return i}else n=i}return n}function Pa(t){const e=Ne()[16][6];if(!e.projection){const n=e.projection=Ct(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Na(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let Ra=!1;function Da(t){Ra=t}function Va(t,e=0,n){const r=Ne(),i=Pe(),o=Ti(i,t,1,null,n||null);null===o.projection&&(o.projection=e),Me(),Ra||ko(i,r,o)}function La(t,e,n){return Ma(t,"",e,"",n),La}function Ma(t,e,n,r,i){const o=Ne(),s=$s(o,e,n,r);return s!==fi&&Ui(Pe(),an(),o,t,s,o[11],i,!1),Ma}function Fa(t,e,n,r,i,o,s){const a=Ne(),u=Ks(a,e,n,r,i,o);return u!==fi&&Ui(Pe(),an(),a,t,u,a[11],s,!1),Fa}function Ua(t,e,n,r,i,o,s,a,u){const c=Ne(),l=Xs(c,e,n,r,i,o,s,a);return l!==fi&&Ui(Pe(),an(),c,t,l,c[11],u,!1),Ua}function Ha(t,e,n,r,i,o,s,a,u,c,l){const h=Ne(),f=Qs(h,e,n,r,i,o,s,a,u,c);return f!==fi&&Ui(Pe(),an(),h,t,f,h[11],l,!1),Ha}function qa(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Ne(),p=Js(d,e,n,r,i,o,s,a,u,c,l,h);return p!==fi&&Ui(Pe(),an(),d,t,p,d[11],f,!1),qa}function za(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Ne(),m=Zs(g,e,n,r,i,o,s,a,u,c,l,h,f,d);return m!==fi&&Ui(Pe(),an(),g,t,m,g[11],p,!1),za}function Ba(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const y=Ne(),v=Ys(y,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return v!==fi&&Ui(Pe(),an(),y,t,v,y[11],m,!1),Ba}function Ga(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v){const b=Ne(),w=ta(b,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y);return w!==fi&&Ui(Pe(),an(),b,t,w,b[11],v,!1),Ga}function Wa(t,e,n){const r=Ne(),i=Ws(r,e);return i!==fi&&Ui(Pe(),an(),r,t,i,r[11],n,!1),Wa}const $a=[];function Ka(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?wi(o):Oi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Xa(t[a],e)&&(u=!0,t[a+1]=r?Ci(n):_i(n)),a=r?wi(n):Oi(n)}u&&(t[n+1]=r?_i(o):Ci(o))}function Xa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&xt(t,e)>=0}const Qa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ja(t){return t.substring(Qa.key,Qa.keyEnd)}function Za(t){return t.substring(Qa.value,Qa.valueEnd)}function Ya(t,e){const n=Qa.textEnd;return n===e?-1:(e=Qa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Qa.key=e,n),nu(t,e,n))}function tu(t,e){const n=Qa.textEnd;let r=Qa.key=nu(t,e,n);return n===r?-1:(r=Qa.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=ru(t,r,n),r=Qa.value=nu(t,r,n),r=Qa.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=iu(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=iu(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),ru(t,r,n))}function eu(t){Qa.key=0,Qa.keyEnd=0,Qa.value=0,Qa.valueEnd=0,Qa.textEnd=t.length}function nu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ru(t,e,n,r){return(e=nu(t,e,n))<n&&e++,e}function iu(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function ou(t,e,n){return hu(t,e,n,!1),ou}function su(t,e){return hu(t,e,null,!0),su}function au(t){fu(yu,uu,t,!1)}function uu(t,e){for(let n=function(t){return eu(t),tu(t,nu(t,0,Qa.textEnd))}(e);n>=0;n=tu(e,n))yu(t,Ja(e),Za(e))}function cu(t){fu(St,lu,t,!0)}function lu(t,e){for(let n=function(t){return eu(t),Ya(t,nu(t,0,Qa.textEnd))}(e);n>=0;n=Ya(e,n))St(t,Ja(e),!0)}function hu(t,e,n,r){const i=Ne(),o=Pe(),s=Ge(2);o.firstUpdatePass&&pu(o,t,s,r),e!==fi&&Hs(i,s,e)&&vu(o,o.data[on()+Kt],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=D(ur(t)))),t}(e,n),r,s)}function fu(t,e,n,r){const i=Pe(),o=Ge(2);i.firstUpdatePass&&pu(i,null,o,r);const s=Ne();if(n!==fi&&Hs(s,o,n)){const a=i.data[on()+Kt];if(_u(a,r)&&!du(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=V(t,n||"")),ma(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===fi&&(i=$a);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&vu(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return $a;const r=[],i=ur(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function du(t,e){return e>=t.expandoStartIndex}function pu(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[on()+Kt],s=du(t,n);_u(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=Ke(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=mu(n=gu(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=gu(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oi(r))return t[wi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=gu(null,t,e,n[1],r),n=mu(n,e.attrs,r),function(t,e,n,r){t[wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=mu(r,t[o].hostAttrs,n);return mu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wi(s),u=Oi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||xt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=wi(t[a+1]);t[r+1]=bi(e,a),0!==e&&(t[e+1]=Ei(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=bi(a,0),0!==a&&(t[a+1]=Ei(t[a+1],r)),a=r;else t[r+1]=bi(u,0),0===a?a=r:t[u+1]=Ei(t[u+1],r),u=r;l&&(t[r+1]=_i(t[r+1])),Ka(t,c,r,!0),Ka(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&xt(o,e)>=0&&(n[r+1]=Ci(n[r+1]))}(e,c,t,r,o),s=bi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function gu(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=mu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),St(t,s,!!n||e[++o]))}return void 0===t?null:t}function yu(t,e,n){St(t,e,ur(n))}function vu(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];wu(1==(1&c)?bu(u,e,n,i,Oi(c),s):void 0)||(wu(o)||2==(2&c)&&(o=bu(u,null,n,i,a,s)),function(t,e,n,r,i){const o=pe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,ye(on(),n),i,o))}function bu(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===fi&&(l=c?$a:void 0);let h=c?It(l,r):u===r?l:void 0;if(o&&!wu(h)&&(h=It(e,r)),wu(h)&&(a=h,s))return a;const f=t[i+1];i=s?wi(f):Oi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=It(t,r))}return a}function wu(t){return void 0!==t}function _u(t,e){return 0!=(t.flags&(e?16:32))}function Ou(t,e=""){const n=Ne(),r=Pe(),i=t+Kt,o=r.firstCreatePass?Ti(r,t,2,null,null):r.data[i],s=n[i]=mo(e,n[11]);xo(r,n,s,o),Ve(o,!1)}function Eu(t){return Cu("",t,""),Eu}function Cu(t,e,n){const r=Ne(),i=$s(r,t,e,n);return i!==fi&&po(r,on(),i),Cu}function Su(t,e,n,r,i){const o=Ne(),s=Ks(o,t,e,n,r,i);return s!==fi&&po(o,on(),s),Su}function Iu(t,e,n,r,i,o,s){const a=Ne(),u=Xs(a,t,e,n,r,i,o,s);return u!==fi&&po(a,on(),u),Iu}function xu(t,e,n,r,i,o,s,a,u){const c=Ne(),l=Qs(c,t,e,n,r,i,o,s,a,u);return l!==fi&&po(c,on(),l),xu}function Tu(t,e,n,r,i,o,s,a,u,c,l){const h=Ne(),f=Js(h,t,e,n,r,i,o,s,a,u,c,l);return f!==fi&&po(h,on(),f),Tu}function ju(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Ne(),p=Zs(d,t,e,n,r,i,o,s,a,u,c,l,h,f);return p!==fi&&po(d,on(),p),ju}function Au(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Ne(),m=Ys(g,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p);return m!==fi&&po(g,on(),m),Au}function ku(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const y=Ne(),v=ta(y,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m);return v!==fi&&po(y,on(),v),ku}function Nu(t){const e=Ne(),n=Ws(e,t);return n!==fi&&po(e,on(),n),Nu}function Pu(t,e,n){fu(St,lu,$s(Ne(),t,e,n),!0)}function Ru(t,e,n,r,i){fu(St,lu,Ks(Ne(),t,e,n,r,i),!0)}function Du(t,e,n,r,i,o,s){fu(St,lu,Xs(Ne(),t,e,n,r,i,o,s),!0)}function Vu(t,e,n,r,i,o,s,a,u){fu(St,lu,Qs(Ne(),t,e,n,r,i,o,s,a,u),!0)}function Lu(t,e,n,r,i,o,s,a,u,c,l){fu(St,lu,Js(Ne(),t,e,n,r,i,o,s,a,u,c,l),!0)}function Mu(t,e,n,r,i,o,s,a,u,c,l,h,f){fu(St,lu,Zs(Ne(),t,e,n,r,i,o,s,a,u,c,l,h,f),!0)}function Fu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){fu(St,lu,Ys(Ne(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p),!0)}function Uu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){fu(St,lu,ta(Ne(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m),!0)}function Hu(t){fu(St,lu,Ws(Ne(),t),!0)}function qu(t,e,n){au($s(Ne(),t,e,n))}function zu(t,e,n,r,i){au(Ks(Ne(),t,e,n,r,i))}function Bu(t,e,n,r,i,o,s){au(Xs(Ne(),t,e,n,r,i,o,s))}function Gu(t,e,n,r,i,o,s,a,u){au(Qs(Ne(),t,e,n,r,i,o,s,a,u))}function Wu(t,e,n,r,i,o,s,a,u,c,l){au(Js(Ne(),t,e,n,r,i,o,s,a,u,c,l))}function $u(t,e,n,r,i,o,s,a,u,c,l,h,f){au(Zs(Ne(),t,e,n,r,i,o,s,a,u,c,l,h,f))}function Ku(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){au(Ys(Ne(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p))}function Xu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){au(ta(Ne(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m))}function Qu(t){au(Ws(Ne(),t))}function Ju(t,e,n,r,i){return hu(t,$s(Ne(),e,n,r),i,!1),Ju}function Zu(t,e,n,r,i,o,s){return hu(t,Ks(Ne(),e,n,r,i,o),s,!1),Zu}function Yu(t,e,n,r,i,o,s,a,u){return hu(t,Xs(Ne(),e,n,r,i,o,s,a),u,!1),Yu}function tc(t,e,n,r,i,o,s,a,u,c,l){return hu(t,Qs(Ne(),e,n,r,i,o,s,a,u,c),l,!1),tc}function ec(t,e,n,r,i,o,s,a,u,c,l,h,f){return hu(t,Js(Ne(),e,n,r,i,o,s,a,u,c,l,h),f,!1),ec}function nc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){return hu(t,Zs(Ne(),e,n,r,i,o,s,a,u,c,l,h,f,d),p,!1),nc}function rc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){return hu(t,Ys(Ne(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g),m,!1),rc}function ic(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v){return hu(t,ta(Ne(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y),v,!1),ic}function oc(t,e,n){return hu(t,Ws(Ne(),e),n,!1),oc}function sc(t,e,n){const r=Ne();return Hs(r,Be(),e)&&Ui(Pe(),an(),r,t,e,r[11],n,!0),sc}function ac(t,e,n){const r=Ne();if(Hs(r,Be(),e)){const i=Pe(),o=an();Ui(i,o,r,t,e,lo(Ke(i.data),o,r),n,!0)}return ac}function uc(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)uc(t[o],e,n,r,i);else{const o=Pe(),s=Ne();let a=ms(t)?t:F(t.provide),u=ds(t);const c=De(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ms(t)||!t.multi){const r=new vn(u,i,fa),d=hc(a,e,i?l:l+f,h);-1===d?(Hn(Ln(c,s),o,a),cc(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=hc(a,e,l+f,h),p=hc(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Hn(Ln(c,s),o,a);const l=function(t,e,n,r,i){const o=new vn(t,n,fa);return o.multi=[],o.index=e,o.componentProviders=0,lc(o,i,r&&!n),o}(i?dc:fc,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),cc(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else cc(o,t,d>-1?d:p,lc(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function cc(t,e,n,r){const i=ms(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function lc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hc(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fc(t,e,n,r){return pc(this.multi,[])}function dc(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Wn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),pc(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],pc(i,o);return o}function pc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function gc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Pe();if(r.firstCreatePass){const i=ee(t);uc(n,r.data,r.blueprint,i,!0),uc(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class mc{}class yc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${D(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let vc=(()=>{class t{}return t.NULL=new yc,t})(),bc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>wc(t),t})();const wc=function(t){return Uo(t,De(),Ne())};class _c{}var Oc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ec=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Cc(),t})();const Cc=function(){const t=Ne(),e=_e(De().index,t);return function(t){const e=t[11];if(pe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Qt(e)?e:t)};let Sc=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ic{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xc=new Ic("10.1.6");class Tc{constructor(){}supports(t){return Ls(t)}create(t){return new Ac(t)}}const jc=(t,e)=>e;class Ac{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||jc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Rc(n,r,i)?e:n,s=Rc(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ls(t))throw new Error(`Error trying to diff '${D(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new kc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Pc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Pc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Nc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Dc{constructor(){}supports(t){return t instanceof Map||Ms(t)}create(){return new Vc}}class Vc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ms(t)))throw new Error(`Error trying to diff '${D(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Mc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Tc])}),t})(),Fc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Dc])}),t})();const Uc=[new Dc],Hc=new Mc([new Tc]),qc=new Fc(Uc);let zc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bc(t,bc),t})();const Bc=function(t,e){return Ho(t,e,De(),Ne())};let Gc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Wc(t,bc),t})();const Wc=function(t,e){return qo(t,e,De(),Ne())},$c={};class Kc extends vc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=zt(t);return new Jc(e,this.ngModule)}}function Xc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qc=new et("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>jn});class Jc extends mc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Xc(this.componentDef.inputs)}get outputs(){return Xc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,$c,i);return o!==$c||r===$c?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(_c,ge),s=i.get(Sc,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(pe(t))return t.selectRootElement(e,n===jt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ii(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?ce:"math"===e?le:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:jn,clean:uo,playerHandler:null,flags:0},f=Li(0,null,null,1,0,null,null,null,null,null),d=xi(null,f,h,l,null,null,o,a,s,i);let p,g;Ze(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ti(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Es(a,u,!0),null!==t&&(bn(i,t,u),null!==a.classes&&Ro(i,t,a.classes),null!==a.styles&&Po(i,t,a.styles)));const c=r.createRenderer(t,e),l=xi(n,Vi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Hn(Ln(a,n),s,e.type),Wi(s,a),Ki(a,n.length,1)),ro(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)bn(a,c,["ng-version",xc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&bn(a,c,t),e&&e.length>0&&Ro(a,c,e.join(" "))}if(g=be(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=De();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gi(t,r,1),Xi(t,e,n));const i=Wn(e,t,e.length-1,r);Yr(i,e);const o=ve(r,e);return o&&Yr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=De();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){sn(a.index-Kt);const t=n[1];qi(t,e),zi(t,n,e.hostVars),Bi(e,s)}return s}(t,this.componentDef,d,h,[Cs]),ji(f,d,null)}finally{rn()}return new Zc(this.componentType,p,Uo(bc,g,d),d,g)}}class Zc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Vo(r),this.componentType=t}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Yc=void 0;var tl=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let el={};function nl(t,e,n){"string"!=typeof e&&(n=e,e=t[al.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),el[e]=t,n&&(el[e][al.ExtraData]=n)}function rl(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=sl(e);if(n)return n;const r=e.split("-")[0];if(n=sl(r),n)return n;if("en"===r)return tl;throw new Error(`Missing locale data for the locale "${t}".`)}function il(t){return rl(t)[al.CurrencyCode]||null}function ol(t){return rl(t)[al.PluralCase]}function sl(t){return t in el||(el[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),el[t]}var al=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ul=["zero","one","two","few","many"],cl="en-US";let ll=cl;function hl(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ll=t.toLowerCase().replace(/_/g,"-"))}const fl={marker:"element"},dl={marker:"comment"},pl=[];let gl=-1,ml=0,yl=0;function vl(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let u=0;u<n.length;u++){const c=n[u];if("string"==typeof c){const e=mo(c,i),l=n[++u];s=o,o=Cl(t,r,l,2,e,null),a.push(l),Me()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===e?r[6]:be(t,i),s=Ol(t,o,l,s,r);break;case 0:const h=c>=0,f=(h?c:~c)>>>3;a.push(f),s=o,o=be(t,f),o&&Ve(o,h);break;case 5:s=o=be(t,c>>>3),Ve(o,!1);break;case 4:const d=n[++u],p=n[++u];Ji(be(t,c>>>3),r,d,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case dl:const e=n[++u],l=n[++u],h=i.createComment(e);s=o,o=Cl(t,r,l,4,h,null),a.push(l),Yr(h,r),Me();break;case fl:const f=n[++u],d=n[++u];s=o,o=Cl(t,r,d,2,i.createElement(f),f),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return Me(),a}function bl(t,e,n,r,i,o){let s=!1;for(let a=0;a<r.length;a++){const u=r[a],c=r[++a];if(u&o){let o="";for(let u=a+1;u<=a+c;u++){const a=r[u];if("string"==typeof a)o+=a;else if("number"==typeof a)if(a<0)o+=xn(n[i-a]);else{const c=a>>>2;switch(3&a){case 1:const a=r[++u],l=r[++u];Ui(t,be(t,c),n,a,o,n[11],l,!1);break;case 0:po(n,c,o);break;case 2:s=_l(t,e,r[++u],n,o);break;case 3:wl(t,e,r[++u],i,n,s)}}}}a+=c}}function wl(t,e,n,r,i,o){const s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&bl(t,e,i,s.update[a],r,o?-1:ml)}function _l(t,e,n,r,i){!function t(e,n,r,i){const o=n[r],s=i[o.currentCaseLViewIndex];if(null!==s){const r=o.remove[s];for(let o=0;o<r.length;o++){const s=r[o],a=s>>>3;switch(7&s){case 3:El(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let o=!1;const s=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ol(e)(parseInt(t,10)),r=ul[n];return void 0!==r?r:"other"}(e,ll);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(vl(t,-1,s.create[a],r),o=!0),o}function Ol(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return ko(t,i,e),e;xo(t,i,ve(e,i),e);const a=i[e.index];return 0!==e.type&&Jt(a)&&xo(t,i,a[7],e),e}function El(t,e,n,r){const i=be(t,n),o=ye(n,e);o&&To(e[11],o);const s=we(e,n);if(Jt(s)){const t=s;0!==i.type&&To(e[11],t[7])}r&&i&&(i.flags|=64)}function Cl(t,e,n,r,i,o){const s=De();e[n+Kt]=i;const a=Ti(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}const Sl=/\ufffd(\d+):?\d*\ufffd/gi,Il=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,xl=/\ufffd(\d+)\ufffd/,Tl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let jl;const Al=[],kl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Nl=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Pl=/\uE500/g;function Rl(t,e,n,r=null){const i=[null,null],o=t.split(Sl);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=Ll(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Dl(t,e=0){let n;e|=Ll(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=Sl.exec(r);)e|=Ll(parseInt(n[1],10));else e=Dl(r,e)}}return e}function Vl(t){return t+jl++}function Ll(t){return 1<<Math.min(t,31)}function Ml(t){return void 0===t}function Fl(t){let e,n,r="",i=0,o=!1;for(;null!==(e=kl.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Ul(t,e,n,r){const i=[],o=[],s=[],a=[],u=[],c=e.values;for(let l=0;l<c.length;l++){const e=c[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const f=ql(e.join(""),n,h,t,r);i.push(f.create),o.push(f.remove),s.push(f.update),a.push(f.vars),u.push(f.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:Kt+r+1,childIcus:u,cases:e.cases,create:i,remove:o,update:s}),jl+=Math.max(...a)}function Hl(t){const e=[],n=[];let r=1,i=0;const o=zl(t=t.replace(Tl,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=zl(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function ql(t,e,n,r,i){const o=wr(de()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const u=e.nextSibling,c=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,l=u.tagName.toLowerCase();if(Pr.hasOwnProperty(l)){n.create.push(fl,l,c,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(Sl)?Vr.hasOwnProperty(r)&&bt(Rr[r]?Rl(e.value,c,e.name,Sr):Dr[r]?Rl(e.value,c,e.name,Ir):Rl(e.value,c,e.name),n.update):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",f=h.match(Sl);n.create.push(f?"":h,c,r<<17|1),n.remove.push(c<<3|3),f&&bt(Rl(h,c),n.update);break;case Node.COMMENT_NODE:const d=xl.exec(e.textContent||"");if(d){const t=parseInt(d[1],10);n.create.push(dl,"",c,r<<17|1),a.push([i[t],c])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Ul(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Dl(e);n.update.push(Ll(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Br(o)||o).firstChild,s,e,n,r,i),s}function zl(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Tl.test(n)?r.push(Hl(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}const Bl=/\[(\ufffd.+?\ufffd?)\]/,Gl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Wl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,$l=/{([A-Z0-9_]+)}/g,Kl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Xl=/\/\*/,Ql=/\d+\:(\d+)/;function Jl(t,e,n){const r=Pe(),i=Se(r.consts,e);!function(t){pl[++gl]=t}(t),Da(!0),r.firstCreatePass&&null===r.data[t+Kt]&&function(t,e,n,r,i){const o=e.blueprint.length-Kt;jl=0;const s=De(),a=Le()?s:s&&s.parent;let u=a&&a!==t[6]?a.index-Kt:n,c=0;Al[c]=u;const l=[];if(n>0&&s!==a){let t=s.index-Kt;Le()||(t=~t),l.push(t<<3|0)}const h=[],f=[];if(""===r&&Ml(i))l.push(r,Vl(o),u<<17|1);else{const t=function(t,e){if(Ml(e))return Fl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Fl(t.substring(n,r))}}(r,i),e=(d=t,d.replace(Pl," ")).split(Nl);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=Al[--c],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,u<<17|1),e&&(Al[++c]=u=t)}else{const e=zl(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Vl(o);l.push(dl,"",i,u<<17|1);const s=Dl(r);Ul(f,r,i,i);const a=f.length-1;h.push(Ll(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(Sl),i=Vl(o);l.push(r?"":t,i,u<<17|1),r&&bt(Rl(t,i),h)}}}}var d;jl>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,jl),e.data[n+Kt]={vars:jl,create:l,update:h,icus:f.length?f:null}}(Ne(),r,t,i,n)}function Zl(){const t=Ne();(function(t,e){const n=pl[gl--],r=t.data[n+Kt],i=De(),o=vl(t,n,r.create,e);let s=n+1;for(;null!==i&&s<=i.index-Kt;){-1===o.indexOf(s)&&El(t,e,s,!0);const n=be(t,s);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}})(Pe(),t),Da(!1)}function Yl(t,e,n){Jl(t,e,n),Zl()}function th(t,e){const n=Ne(),r=Pe();!function(t,e,n,r){const i=De().index-Kt,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],u=r[s+1].split(Il);for(let r=0;r<u.length;r++){const s=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(Sl))e.firstCreatePass&&null===e.data[n+Kt]&&bt(Rl(s,i,a),o);else{const n=be(e,i);2===n.type&&Ji(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&fo(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+Kt]&&(e.data[n+Kt]=o)}(n,r,t,Se(r.consts,e))}function eh(t){return Hs(Ne(),Be(),t)&&(ml|=1<<yl),yl++,eh}function nh(t){!function(t,e,n){if(yl>0){const r=t.data[n+Kt];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),bl(t,o,e,i,qe()-yl-1,ml),ml=0,yl=0}}(Pe(),Ne(),t)}function rh(t,e={}){return function(t,e={}){let n=t;if(Bl.test(t)){const t={},e=[0];n=n.replace(Gl,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(Ql),n=e?parseInt(e[1],10):0,r=Xl.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error("i18n postprocess: unmatched placeholder - "+o);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(Wl,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace($l,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Kl,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function ih(t,e,n,r){return u(()=>{const i=t,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==e&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=e:i.decorators.push(...e)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign(Object.assign({},i.propDecorators),r))})}const oh=new Map;class sh extends yt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Kc(this);const n=$t(t),r=t[Z]||null;r&&hl(r),this._bootstrapComponents=Pn(n.bootstrap),this._r3Injector=ls(t,e,[{provide:yt,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],D(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vs.THROW_IF_NOT_FOUND,n=O.Default){return t===vs||t===yt||t===nt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ah extends vt{constructor(t){super(),this.moduleType=t,null!==$t(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${D(e)} vs ${D(e.name)}`)})(t,oh.get(t),e),oh.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new sh(this.moduleType,t)}}function uh(t,e,n){const r=He()+t,i=Ne();return i[r]===fi?Fs(i,r,n?e.call(n):e()):Us(i,r)}function ch(t,e,n,r){return bh(Ne(),He(),t,e,n,r)}function lh(t,e,n,r,i){return wh(Ne(),He(),t,e,n,r,i)}function hh(t,e,n,r,i,o){return _h(Ne(),He(),t,e,n,r,i,o)}function fh(t,e,n,r,i,o,s){return Oh(Ne(),He(),t,e,n,r,i,o,s)}function dh(t,e,n,r,i,o,s,a){const u=He()+t,c=Ne(),l=Bs(c,u,n,r,i,o);return Hs(c,u+4,s)||l?Fs(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):Us(c,u+5)}function ph(t,e,n,r,i,o,s,a,u){const c=He()+t,l=Ne(),h=Bs(l,c,n,r,i,o);return qs(l,c+4,s,a)||h?Fs(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):Us(l,c+6)}function gh(t,e,n,r,i,o,s,a,u,c){const l=He()+t,h=Ne();let f=Bs(h,l,n,r,i,o);return zs(h,l+4,s,a,u)||f?Fs(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):Us(h,l+7)}function mh(t,e,n,r,i,o,s,a,u,c,l){const h=He()+t,f=Ne(),d=Bs(f,h,n,r,i,o);return Bs(f,h+4,s,a,u,c)||d?Fs(f,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):Us(f,h+8)}function yh(t,e,n,r){return Eh(Ne(),He(),t,e,n,r)}function vh(t,e){const n=t[e];return n===fi?void 0:n}function bh(t,e,n,r,i,o){const s=e+n;return Hs(t,s,i)?Fs(t,s+1,o?r.call(o,i):r(i)):vh(t,s+1)}function wh(t,e,n,r,i,o,s){const a=e+n;return qs(t,a,i,o)?Fs(t,a+2,s?r.call(s,i,o):r(i,o)):vh(t,a+2)}function _h(t,e,n,r,i,o,s,a){const u=e+n;return zs(t,u,i,o,s)?Fs(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):vh(t,u+3)}function Oh(t,e,n,r,i,o,s,a,u){const c=e+n;return Bs(t,c,i,o,s,a)?Fs(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):vh(t,c+4)}function Eh(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)Hs(t,s++,i[u])&&(a=!0);return a?Fs(t,s,r.apply(o,i)):vh(t,s)}function Ch(t,e){const n=Pe();let r;const i=t+Kt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Wt(r.type)),s=lt(fa);try{const e=Dn(!1),r=o();return Dn(e),function(t,e,n,r){const i=n+Kt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ne(),t,r),r}finally{lt(s)}}function Sh(t,e,n){const r=Ne(),i=we(r,t);return kh(r,Ah(r,t)?bh(r,He(),e,i.transform,n,i):i.transform(n))}function Ih(t,e,n,r){const i=Ne(),o=we(i,t);return kh(i,Ah(i,t)?wh(i,He(),e,o.transform,n,r,o):o.transform(n,r))}function xh(t,e,n,r,i){const o=Ne(),s=we(o,t);return kh(o,Ah(o,t)?_h(o,He(),e,s.transform,n,r,i,s):s.transform(n,r,i))}function Th(t,e,n,r,i,o){const s=Ne(),a=we(s,t);return kh(s,Ah(s,t)?Oh(s,He(),e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function jh(t,e,n){const r=Ne(),i=we(r,t);return kh(r,Ah(r,t)?Eh(r,He(),e,i.transform,n,i):i.transform.apply(i,n))}function Ah(t,e){return t[1].data[e+Kt].pure}function kh(t,e){return Vs.isWrapped(e)&&(e=Vs.unwrap(e),t[qe()]=fi),e}const Nh=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ph(){return this._results[Ds()]()}class Rh{constructor(){this.dirty=!0,this._results=[],this.changes=new Nh,this.length=0;const t=Ds(),e=Rh.prototype;e[t]||(e[t]=Ph)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=wt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Dh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Vh(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Yh(t,e).matches&&this.queries[e].setDirty()}}class Lh{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Mh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Mh(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Fh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Fh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Uh(e,i)),this.matchTNodeWithReadOption(t,e,Gn(e,t,i,!1,!1))}else n===zc?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Gn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===bc||r===Gc||r===zc&&0===e.type)this.addMatch(e.index,-2);else{const n=Gn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Uh(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Hh(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Uo(bc,t,e):0===t.type?Ho(zc,bc,t,e):null}(e,t):-2===n?function(t,e,n){return n===bc?Uo(bc,e,t):n===zc?Ho(zc,bc,e,t):n===Gc?qo(Gc,bc,e,t):void 0}(t,e,r):Wn(t,t[1],n,e)}function qh(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Hh(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function zh(t){const e=Ne(),n=Pe(),r=Xe();Qe(r+1);const i=Yh(n,r);if(t.dirty&&Ee(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=qh(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Xt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):qh(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Bh(t,e,n){Wh(Pe(),Ne(),t,e,n,!0)}function Gh(t,e,n){Wh(Pe(),Ne(),t,e,n,!1)}function Wh(t,e,n,r,i,o){t.firstCreatePass&&(Zh(t,new Lh(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Jh(t,e)}function $h(t,e,n,r){Xh(Pe(),Ne(),e,n,r,!1,De(),t)}function Kh(t,e,n,r){Xh(Pe(),Ne(),e,n,r,!0,De(),t)}function Xh(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Zh(t,new Lh(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Jh(t,e)}function Qh(){return t=Ne(),e=Xe(),t[19].queries[e].queryList;var t,e}function Jh(t,e){const n=new Rh;Mi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Vh),e[19].queries.push(new Dh(n))}function Zh(t,e,n){null===t.queries&&(t.queries=new Mh),t.queries.track(new Fh(e,n))}function Yh(t,e){return t.queries.getByIndex(e)}function tf(t,e){return Ho(zc,bc,t,e)}function ef(t=O.Default){const e=zo(!0);if(null!=e||t&O.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const nf=(()=>({"\u0275\u0275attribute":Gs,"\u0275\u0275attributeInterpolate1":ea,"\u0275\u0275attributeInterpolate2":na,"\u0275\u0275attributeInterpolate3":ra,"\u0275\u0275attributeInterpolate4":ia,"\u0275\u0275attributeInterpolate5":oa,"\u0275\u0275attributeInterpolate6":sa,"\u0275\u0275attributeInterpolate7":aa,"\u0275\u0275attributeInterpolate8":ua,"\u0275\u0275attributeInterpolateV":ca,"\u0275\u0275defineComponent":Pt,"\u0275\u0275defineDirective":Ht,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":I,"\u0275\u0275defineNgModule":Mt,"\u0275\u0275definePipe":qt,"\u0275\u0275directiveInject":fa,"\u0275\u0275getFactoryOf":Qn,"\u0275\u0275getInheritedFactory":Jn,"\u0275\u0275inject":ft,"\u0275\u0275injectAttribute":da,"\u0275\u0275invalidFactory":pa,"\u0275\u0275invalidFactoryDep":dt,"\u0275\u0275injectPipeChangeDetectorRef":ef,"\u0275\u0275templateRefExtractor":tf,"\u0275\u0275NgOnChangesFeature":ie,"\u0275\u0275ProvidersFeature":gc,"\u0275\u0275CopyDefinitionFeature":Ps,"\u0275\u0275InheritDefinitionFeature":Is,"\u0275\u0275nextContext":ka,"\u0275\u0275namespaceHTML":ln,"\u0275\u0275namespaceMathML":cn,"\u0275\u0275namespaceSVG":un,"\u0275\u0275enableBindings":Ae,"\u0275\u0275disableBindings":ke,"\u0275\u0275elementStart":ya,"\u0275\u0275elementEnd":va,"\u0275\u0275element":ba,"\u0275\u0275elementContainerStart":wa,"\u0275\u0275elementContainerEnd":_a,"\u0275\u0275elementContainer":Oa,"\u0275\u0275pureFunction0":uh,"\u0275\u0275pureFunction1":ch,"\u0275\u0275pureFunction2":lh,"\u0275\u0275pureFunction3":hh,"\u0275\u0275pureFunction4":fh,"\u0275\u0275pureFunction5":dh,"\u0275\u0275pureFunction6":ph,"\u0275\u0275pureFunction7":gh,"\u0275\u0275pureFunction8":mh,"\u0275\u0275pureFunctionV":yh,"\u0275\u0275getCurrentView":Ea,"\u0275\u0275restoreView":Re,"\u0275\u0275listener":Ia,"\u0275\u0275projection":Va,"\u0275\u0275syntheticHostProperty":ac,"\u0275\u0275syntheticHostListener":xa,"\u0275\u0275pipeBind1":Sh,"\u0275\u0275pipeBind2":Ih,"\u0275\u0275pipeBind3":xh,"\u0275\u0275pipeBind4":Th,"\u0275\u0275pipeBindV":jh,"\u0275\u0275projectionDef":Pa,"\u0275\u0275hostProperty":sc,"\u0275\u0275property":ga,"\u0275\u0275propertyInterpolate":La,"\u0275\u0275propertyInterpolate1":Ma,"\u0275\u0275propertyInterpolate2":Fa,"\u0275\u0275propertyInterpolate3":Ua,"\u0275\u0275propertyInterpolate4":Ha,"\u0275\u0275propertyInterpolate5":qa,"\u0275\u0275propertyInterpolate6":za,"\u0275\u0275propertyInterpolate7":Ba,"\u0275\u0275propertyInterpolate8":Ga,"\u0275\u0275propertyInterpolateV":Wa,"\u0275\u0275pipe":Ch,"\u0275\u0275queryRefresh":zh,"\u0275\u0275viewQuery":Gh,"\u0275\u0275staticViewQuery":Bh,"\u0275\u0275staticContentQuery":Kh,"\u0275\u0275loadQuery":Qh,"\u0275\u0275contentQuery":$h,"\u0275\u0275reference":ha,"\u0275\u0275classMap":cu,"\u0275\u0275classMapInterpolate1":Pu,"\u0275\u0275classMapInterpolate2":Ru,"\u0275\u0275classMapInterpolate3":Du,"\u0275\u0275classMapInterpolate4":Vu,"\u0275\u0275classMapInterpolate5":Lu,"\u0275\u0275classMapInterpolate6":Mu,"\u0275\u0275classMapInterpolate7":Fu,"\u0275\u0275classMapInterpolate8":Uu,"\u0275\u0275classMapInterpolateV":Hu,"\u0275\u0275styleMap":au,"\u0275\u0275styleMapInterpolate1":qu,"\u0275\u0275styleMapInterpolate2":zu,"\u0275\u0275styleMapInterpolate3":Bu,"\u0275\u0275styleMapInterpolate4":Gu,"\u0275\u0275styleMapInterpolate5":Wu,"\u0275\u0275styleMapInterpolate6":$u,"\u0275\u0275styleMapInterpolate7":Ku,"\u0275\u0275styleMapInterpolate8":Xu,"\u0275\u0275styleMapInterpolateV":Qu,"\u0275\u0275styleProp":ou,"\u0275\u0275stylePropInterpolate1":Ju,"\u0275\u0275stylePropInterpolate2":Zu,"\u0275\u0275stylePropInterpolate3":Yu,"\u0275\u0275stylePropInterpolate4":tc,"\u0275\u0275stylePropInterpolate5":ec,"\u0275\u0275stylePropInterpolate6":nc,"\u0275\u0275stylePropInterpolate7":rc,"\u0275\u0275stylePropInterpolate8":ic,"\u0275\u0275stylePropInterpolateV":oc,"\u0275\u0275classProp":su,"\u0275\u0275advance":yi,"\u0275\u0275template":la,"\u0275\u0275text":Ou,"\u0275\u0275textInterpolate":Eu,"\u0275\u0275textInterpolate1":Cu,"\u0275\u0275textInterpolate2":Su,"\u0275\u0275textInterpolate3":Iu,"\u0275\u0275textInterpolate4":xu,"\u0275\u0275textInterpolate5":Tu,"\u0275\u0275textInterpolate6":ju,"\u0275\u0275textInterpolate7":Au,"\u0275\u0275textInterpolate8":ku,"\u0275\u0275textInterpolateV":Nu,"\u0275\u0275i18n":Yl,"\u0275\u0275i18nAttributes":th,"\u0275\u0275i18nExp":eh,"\u0275\u0275i18nStart":Jl,"\u0275\u0275i18nEnd":Zl,"\u0275\u0275i18nApply":nh,"\u0275\u0275i18nPostprocess":rh,"\u0275\u0275resolveWindow":An,"\u0275\u0275resolveDocument":kn,"\u0275\u0275resolveBody":Nn,"\u0275\u0275setComponentScope":Rt,"\u0275\u0275setNgModuleScope":Ft,"\u0275\u0275sanitizeHtml":Wr,"\u0275\u0275sanitizeStyle":$r,"\u0275\u0275sanitizeResourceUrl":Xr,"\u0275\u0275sanitizeScript":Qr,"\u0275\u0275sanitizeUrl":Kr,"\u0275\u0275sanitizeUrlOrResourceUrl":Jr}))();const rf=[],of=[];let sf=!1;function af(t){return Array.isArray(t)?t.every(af):!!F(t)}function uf(t,e){const n=wt(e.declarations||rf),r=lf(t);n.forEach(e=>{e.hasOwnProperty(K)?cf(zt(e),r):e.hasOwnProperty(X)||e.hasOwnProperty(Q)||(e.ngSelectorScope=t)})}function cf(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(K)?zt(t):Bt(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>Gt(t)),t.schemas=e.schemas,t.tView=null}function lf(t){if(!ff(t))throw new Error(t.name+" does not have a module def (\u0275mod property)");const e=$t(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Pn(e.imports).forEach(t=>{const e=t;if(!ff(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=lf(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),Pn(e.declarations).forEach(t=>{Gt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),Pn(e.exports).forEach(t=>{const e=t;if(ff(e)){const t=lf(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else Gt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function hf(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function ff(t){return!!$t(t)}let df=0;function pf(t,e){let n=null;mf(t,e||{}),Object.defineProperty(t,X,{get:()=>{if(null===n){const r=gf(t,e||{});n=$().compileDirective(nf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function gf(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=$(),o=vf(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&bf(t),{metadata:o,sourceMapUrl:r}}function mf(t,e){let n=null;Object.defineProperty(t,Y,{get:()=>{if(null===n){const r=gf(t,e),i=$();n=i.compileFactory(nf,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})}function yf(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function vf(t,e){const n=ns(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:rs(t),host:e.host||At,propMetadata:r,inputs:e.inputs||kt,outputs:e.outputs||kt,queries:_f(t,r,Of),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!yf(t),exportAs:(i=e.exportAs,void 0===i?null:Sf(i)),providers:e.providers||null,viewQueries:_f(t,r,Ef)};var i}function bf(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)Bt(n)||zt(n)||!xf(n)||pf(n,null),n=Object.getPrototypeOf(n)}function wf(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?Sf(n):F(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function _f(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${Tn(t)}" since the query selector wasn't defined.`);if(o.some(Cf))throw new Error("Cannot combine @Input decorators with query decorators");r.push(wf(i,e))}})}return r}function Of(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Ef(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Cf(t){return"Input"===t.ngMetadataName}function Sf(t){return t.split(",").map(t=>t.trim())}const If=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function xf(t){const e=ns();if(If.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Cf(n)||Of(n)||Ef(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Tf(t,e){return{type:t,typeArgumentCount:0,name:t.name,deps:rs(t),pipeName:e.name,pure:void 0===e.pure||e.pure}}const jf=f("Directive",(t={})=>t,void 0,void 0,(t,e)=>Df(t,e)),Af=f("Component",(t={})=>Object.assign({changeDetection:Tt.Default},t),jf,void 0,(t,e)=>Rf(t,e)),kf=f("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>Vf(t,e)),Nf=g("Input",t=>({bindingPropertyName:t})),Pf=g("Output",t=>({bindingPropertyName:t})),Rf=function(t,e){let n=null;!function(t,e){Os(e)&&(ws.set(t,e),_s.add(t))}(t,e),mf(t,e),Object.defineProperty(t,K,{get:()=>{if(null===n){const r=$();if(Os(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(" - templateUrl: "+e.templateUrl),e.styleUrls&&e.styleUrls.length&&n.push(" - styleUrls: "+JSON.stringify(e.styleUrls)),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:jt.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},vf(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||kt,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});df++;try{u.usesInheritance&&bf(t),n=r.compileComponent(nf,a,u)}finally{df--}if(0===df&&function(){if(!sf){sf=!0;try{for(let t=of.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=of[t];n.declarations&&n.declarations.every(af)&&(of.splice(t,1),uf(e,n))}}finally{sf=!1}}}(),void 0!==t.ngSelectorScope){const e=lf(t.ngSelectorScope);cf(n,e)}}return n},configurable:!1})},Df=pf,Vf=function(t,e){let n=null,r=null;Object.defineProperty(t,Y,{get:()=>{if(null===r){const n=Tf(t,e),i=$();r=i.compileFactory(nf,`ng:///${n.name}/\u0275fac.js`,Object.assign(Object.assign({},n),{injectFn:"directiveInject",target:i.R3FactoryTarget.Pipe}))}return r},configurable:!1}),Object.defineProperty(t,Q,{get:()=>{if(null===n){const r=Tf(t,e);n=$().compilePipe(nf,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})},Lf=f("NgModule",t=>t,void 0,void 0,(t,e)=>Mf(t,e)),Mf=function(t,e={}){!function(t,e,n=!1){const r=wt(e.declarations||rf);let i=null;Object.defineProperty(t,J,{configurable:!0,get:()=>(null===i&&(i=$().compileNgModule(nf,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:wt(e.bootstrap||rf).map(F),declarations:r.map(F),imports:wt(e.imports||rf).map(F).map(hf),exports:wt(e.exports||rf).map(F).map(hf),schemas:e.schemas?wt(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,k,{get:()=>{if(null===o){const n={name:t.name,type:t,deps:rs(t),providers:e.providers||rf,imports:[(e.imports||rf).map(F),(e.exports||rf).map(F)]};o=$().compileInjector(nf,`ng:///${t.name}/\u0275inj.js`,n)}return o},configurable:!1})}(t,e),function(t,e){of.push({moduleType:t,ngModule:e})}(t,e)},Ff=new et("Application Initializer");let Uf=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ca(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ft(Ff,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Hf=new et("AppId"),qf={provide:Hf,useFactory:function(){return`${zf()}${zf()}${zf()}`},deps:[]};function zf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Bf=new et("Platform Initializer"),Gf=new et("Platform ID"),Wf=new et("appBootstrapListener");let $f=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Kf=new et("LocaleId"),Xf=new et("DefaultCurrencyCode");class Qf{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Jf=function(t){return new ah(t)},Zf=Jf,Yf=function(t){return Promise.resolve(Jf(t))},td=function(t){const e=Jf(t),n=Pn($t(t).declarations).reduce((t,e)=>{const n=zt(e);return n&&t.push(new Jc(n)),t},[]);return new Qf(e,n)},ed=td,nd=function(t){return Promise.resolve(td(t))};let rd=(()=>{class t{constructor(){this.compileModuleSync=Zf,this.compileModuleAsync=Yf,this.compileModuleAndAllComponentsSync=ed,this.compileModuleAndAllComponentsAsync=nd}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const id=(()=>Promise.resolve(0))();function od(t){"undefined"==typeof Zone?id.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class sd{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nh(!1),this.onMicrotaskEmpty=new Nh(!1),this.onStable=new Nh(!1),this.onError=new Nh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ld(t),cd(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ld(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return hd(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),fd(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return hd(t),e.invoke(r,i,o,s,a)}finally{fd(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ld(t),cd(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ud,ad,ad);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ad(){}const ud={};function cd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ld(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function hd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fd(t){t._nesting--,cd(t)}class dd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nh,this.onMicrotaskEmpty=new Nh,this.onStable=new Nh,this.onError=new Nh}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let pd=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sd.assertNotInAngularZone(),od(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())od(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ft(sd))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),gd=(()=>{class t{constructor(){this._applications=new Map,bd.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return bd.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class md{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function yd(t){bd=t}let vd,bd=new md;const wd=new et("AllowMultipleToken");class _d{constructor(t,e){this.name=t,this.token=e}}function Od(t,e,n=[]){const r="Platform: "+e,i=new et(r);return(e=[])=>{let o=Ed();if(!o||o.injector.get(wd,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(t){if(vd&&!vd.destroyed&&!vd.injector.get(wd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vd=t.get(Cd);const e=t.get(Bf,null);e&&e.forEach(t=>t())}(vs.create({providers:t,name:r}))}return function(t){const e=Ed();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ed(){return vd&&!vd.destroyed?vd:null}let Cd=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new dd:("zone.js"===t?void 0:t)||new sd({enableLongStackTrace:vr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:sd,useValue:n}];return n.run(()=>{const e=vs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(er,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>xd(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ca(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Uf);return t.runInitializers(),t.donePromise.then(()=>(hl(i.injector.get(Kf,cl)||cl),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Sd({},e);return function(t,e,n){const r=new ah(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Id);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${D(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ft(vs))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Sd(t,e){return Array.isArray(e)?e.reduce(Sd,t):Object.assign(Object.assign({},t),e)}let Id=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=vr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{sd.assertNotInAngularZone(),od(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{sd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof mc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(yt),i=n.create(vs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(pd,null);return o&&i.injector.get(gd).registerApplication(i.location.nativeElement,o),this._loadComponent(i),vr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xd(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Wf,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),xd(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ft(sd),ft($f),ft(vs),ft(er),ft(vc),ft(Uf))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function xd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Td{}class jd{}const Ad={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let kd=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ad}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Nd(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Nd(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ft(rd),ft(jd,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Nd(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Pd=function(t){return null},Rd=Od(null,"core",[{provide:Gf,useValue:"unknown"},{provide:Cd,deps:[vs]},{provide:gd,deps:[]},{provide:$f,deps:[]}]),Dd=[{provide:Id,useClass:Id,deps:[sd,$f,vs,er,vc,Uf]},{provide:Qc,deps:[sd],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Uf,useClass:Uf,deps:[[new y,Ff]]},{provide:rd,useClass:rd,deps:[]},qf,{provide:Mc,useFactory:function(){return Hc},deps:[]},{provide:Fc,useFactory:function(){return qc},deps:[]},{provide:Kf,useFactory:function(t){return hl(t=t||"undefined"!=typeof $localize&&$localize.locale||cl),t},deps:[[new m(Kf),new y,new b]]},{provide:Xf,useValue:"USD"}];let Vd=(()=>{class t{constructor(t){}}return t.\u0275mod=Mt({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(ft(Id))},providers:Dd}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return g}));var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.t("angularfire2.app.options"),b=new u.t("angularfire2.app.nameOrConfig"),w=new u.V("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.bb)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.E,[new u.F,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.U.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Qb({type:t}),t.\u0275inj=u.Pb({factory:function(e){return new(e||t)(u.fc(u.H))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDzSNI8-cQqliaCR81NqgKTBH0yC1MRY3I",authDomain:"proyecto-3erparcial.firebaseapp.com",projectId:"proyecto-3erparcial",storageBucket:"proyecto-3erparcial.appspot.com",messagingSenderId:"1039320367366",appId:"1:1039320367366:web:85bb48339fc087c1e31e87",measurementId:"G-CRH4HCH8JW"};let o=null;function s(){return o}const a=new r.t("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ob)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.fc)(h)}const l=new r.t("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=Object(r.Ob)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.fc)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ob)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.fc)(a).location;return new w(Object(r.fc)(u),e&&e.origin||"")}const b=new r.t("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(u),r.fc(b,8))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(u),r.fc(b,8))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.q,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(y),r.fc(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Ob)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.fc)(y),Object(r.fc)(u))}function C(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.pb)(t),i=n[r.gb.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.gb.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.gb.NumberSymbols][x.Group]}return i}const j=r.sb,A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k=".",N="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let D=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.y))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();class V{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let L=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.bb)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new V(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new M(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new M(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.W),r.Sb(r.R),r.Sb(r.w))},t.\u0275dir=r.Nb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class M{constructor(t,e){this.record=t,this.view=e}}let F=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.W),r.Sb(r.R))},t.\u0275dir=r.Nb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function H(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Bb)(e)}'.`)}function q(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Bb)(t)}'`)}class z{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class B{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const G=new B,W=new z;let $=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.xb)(e))return G;if(Object(r.wb)(e))return W;throw q(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.hc())},t.\u0275pipe=r.Rb({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(k))>-1&&(s=s.replace(k,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===N;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===N;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(A);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=P(e)),null!=n&&(h=P(n)),null!=r?f=P(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const y=[];for(d.length>=e.lgSize&&y.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)y.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&y.unshift(d.join("")),a=y.join(T(n,r)),m.length&&(a+=T(n,i)+m.join("")),g&&(a+=T(n,x.Exponential)+"+"+g)}else a=T(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(k)?i.split(k):[i.substring(0,i.lastIndexOf(N)+1),i.substring(i.lastIndexOf(N)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===N?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.pb)(t)[r.gb.NumberFormats][e]}(e,S.Decimal),T(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw q(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.y))},t.\u0275pipe=r.Rb({name:"number",type:t,pure:!0}),t})(),X=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[{provide:R,useClass:D}]}),t})();function Q(t){return"server"===t}let J=(()=>{class t{}return t.\u0275prov=Object(r.Ob)({token:t,providedIn:"root",factory:()=>new Z(Object(r.fc)(a),window,Object(r.fc)(r.p))}),t})();class Z{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Y(this.window.history)||Y(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Y(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new tt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=nt||(nt=document.querySelector("base"),nt)?nt.getAttribute("href"):null;return null==e?null:(n=e,et||(et=document.createElement("a")),et.setAttribute("href",n),"/"===et.pathname.charAt(0)?et.pathname:"/"+et.pathname);var n}resetBaseElement(){nt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let et,nt=null;const rt=new r.t("TRANSITION_ID"),it=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[rt,a,r.u],multi:!0}];class ot{static init(){Object(r.db)(new ot)}addToWindow(t){r.ub.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ub.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ub.getAllAngularRootElements=()=>t.getAllRootElements(),r.ub.frameworkStabilizers||(r.ub.frameworkStabilizers=[]),r.ub.frameworkStabilizers.push(t=>{const e=r.ub.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const st=new r.t("EventManagerPlugins");let at=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.fc(st),r.fc(r.E))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ft=/%COMP%/g;function dt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?dt(t,i,n):(i=i.replace(ft,t),n.push(i))}return n}function pt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let gt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.X.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.X.Native:case r.X.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=dt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.fc(at),r.fc(lt),r.fc(r.c))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();class mt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ht[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ht[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.M.DashCase?t.style.setProperty(e,n,i&r.M.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.M.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pt(n)):this.eventManager.addEventListener(t,e,pt(n))}}class yt extends mt{constructor(t,e,n,r){super(t),this.component=n;const i=dt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ft,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ft,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vt extends mt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.X.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=dt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bt=(()=>{class t extends ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ct=(()=>{class t extends ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ot.hasOwnProperty(e)&&(e=Ot[e]))}return _t[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&(0,Et[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const St=[{provide:r.H,useValue:"browser"},{provide:r.I,useValue:function(){tt.makeCurrent(),ot.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.Ab)(document),document},deps:[]}],It=Object(r.Y)(r.cb,"browser",St),xt=[[],{provide:r.fb,useValue:"root"},{provide:r.p,useFactory:function(){return new r.p},deps:[]},{provide:st,useClass:bt,multi:!0,deps:[a,r.E,r.H]},{provide:st,useClass:Ct,multi:!0,deps:[a]},[],{provide:gt,useClass:gt,deps:[at,lt,r.c]},{provide:r.L,useExisting:gt},{provide:ct,useExisting:lt},{provide:lt,useClass:lt,deps:[a]},{provide:r.S,useClass:r.S,deps:[r.E]},{provide:at,useClass:at,deps:[st,r.E]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:rt,useExisting:r.c},it]}}}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)(r.fc(t,12))},providers:xt,imports:[X,r.f]}),t})();"undefined"!=typeof window&&window;var jt=n("LRne"),At=n("Cfvw"),kt=n("XNiG"),Nt=n("9ppp");class Pt extends kt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nt.a;return this._value}next(t){super.next(this._value=t)}}var Rt=n("z+Ro"),Dt=n("DH7j"),Vt=n("7o/Q");class Lt extends Vt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Mt extends Vt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ft=n("SeVD"),Ut=n("HDdC");function Ht(t,e,n,r,i=new Mt(t,n,r)){if(!i.closed)return e instanceof Ut.a?e.subscribe(i):Object(Ft.a)(e)(i)}var qt=n("yCtX");const zt={};class Bt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Gt(t,this.resultSelector))}}class Gt extends Lt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ht(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===zt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Wt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var $t=n("EY2u");function Kt(t){return new Ut.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(At.a)(n):Object($t.b)()).subscribe(e)})}var Xt=n("lJxs"),Qt=n("bHdf");function Jt(){return Object(Qt.a)(1)}function Zt(t,e){return function(n){return n.lift(new Yt(t,e))}}class Yt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}class te extends Vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ee=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ne(t){return function(e){return 0===t?Object($t.b)():e.lift(new re(t))}}class re{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new ie(t,this.total))}}class ie extends Vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function oe(t=ue){return e=>e.lift(new se(t))}class se{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ae(t,this.errorFactory))}}class ae extends Vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(dO){t=dO}this.destination.error(t)}}}function ue(){return new Wt}function ce(t=null){return e=>e.lift(new le(t))}class le{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new he(t,this.defaultValue))}}class he extends Vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var fe=n("SpAZ"),de=n("zx2A");function pe(t,e){return"function"==typeof e?n=>n.pipe(pe((n,r)=>Object(At.a)(t(n,r)).pipe(Object(Xt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ge(t))}class ge{constructor(t){this.project=t}call(t,e){return e.subscribe(new me(t,this.project))}}class me extends de.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new de.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(de.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ye(t){return e=>0===t?Object($t.b)():e.lift(new ve(t))}class ve{constructor(t){if(this.total=t,this.total<0)throw new ee}call(t,e){return e.subscribe(new be(t,this.total))}}class be extends Vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function we(...t){return Jt()(Object(jt.a)(...t))}function _e(...t){const e=t[t.length-1];return Object(Rt.a)(e)?(t.pop(),n=>we(t,n,e)):e=>we(t,e)}function Oe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ee(t,e,n))}}class Ee{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ce(t,this.accumulator,this.seed,this.hasSeed))}}class Ce extends Vt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Se(t){return function(e){const n=new Ie(t),r=e.lift(n);return n.caught=r}}class Ie{constructor(t){this.selector=t}call(t,e){return e.subscribe(new xe(t,this.selector,this.caught))}}class xe extends de.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new de.a(this);this.add(r);const i=Object(de.c)(n,r);i!==r&&this.add(i)}}}var Te=n("5+tZ");function je(t,e){return Object(Te.a)(t,e,1)}function Ae(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zt((e,n)=>t(e,n,r)):fe.a,ye(1),n?ce(e):oe(()=>new Wt))}var ke=n("vkgz"),Ne=n("quSY");class Pe{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Re(t,this.callback))}}class Re extends Vt.a{constructor(t,e){super(t),this.add(new Ne.a(e))}}class De{constructor(t,e){this.id=t,this.url=e}}class Ve extends De{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Le extends De{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Me extends De{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fe extends De{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ue extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class He extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qe extends De{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ze extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends De{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class We{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $e{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ze="primary";class Ye{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function tn(t){return new Ye(t)}function en(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function nn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!on(t[i],e[i]))return!1;return!0}function on(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function sn(t){return Array.prototype.concat.apply([],t)}function an(t){return t.length>0?t[t.length-1]:null}function un(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function cn(t){return Object(r.wb)(t)?t:Object(r.xb)(t)?Object(At.a)(Promise.resolve(t)):Object(jt.a)(t)}function ln(t,e,n){return n?function(t,e){return rn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!pn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>on(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!pn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!pn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!pn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class hn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return vn.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,un(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bn(this)}}class dn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return Sn(this)}}function pn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function gn(t,e){let n=[];return un(t.children,(t,r)=>{r===Ze&&(n=n.concat(e(t,r)))}),un(t.children,(t,r)=>{r!==Ze&&(n=n.concat(e(t,r)))}),n}class mn{}class yn{parse(t){const e=new An(t);return new hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return bn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return un(e.children,(e,n)=>{n!==Ze&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=gn(e,(n,r)=>r===Ze?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${bn(e)}/${n[0]}`:`${bn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${_n(e)}=${_n(t)}`).join("&"):`${_n(e)}=${_n(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const vn=new yn;function bn(t){return t.segments.map(t=>Sn(t)).join("/")}function wn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _n(t){return wn(t).replace(/%3B/gi,";")}function On(t){return wn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function En(t){return decodeURIComponent(t)}function Cn(t){return En(t.replace(/\+/g,"%20"))}function Sn(t){return`${On(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${On(t)}=${On(e[t])}`).join("")}`;var e}const In=/^[^\/()?;=#]+/;function xn(t){const e=t.match(In);return e?e[0]:""}const Tn=/^[^=?&#]+/,jn=/^[^?&#]+/;class An{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fn(t,e)),n}parseSegment(){const t=xn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dn(En(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=xn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=xn(this.remaining);t&&(n=t,this.capture(n))}t[En(e)]=En(n)}parseQueryParam(t){const e=function(t){const e=t.match(Tn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(jn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Cn(e),i=Cn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=xn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ze);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new fn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class kn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Nn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Pn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Pn(t,this._root).map(t=>t.value)}}function Nn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Nn(t,n);if(e)return e}return null}function Pn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pn(t,n);if(r.length)return r.unshift(e),r}return[]}class Rn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Vn extends kn{constructor(t,e){super(t),this.snapshot=e,qn(this,t)}toString(){return this.snapshot.toString()}}function Ln(t,e){const n=function(t,e){const n=new Un([],{},{},"",{},Ze,e,null,t.root,-1,{});return new Hn("",new Rn(n,[]))}(t,e),r=new Pt([new dn("",{})]),i=new Pt({}),o=new Pt({}),s=new Pt({}),a=new Pt(""),u=new Mn(r,i,s,a,o,Ze,e,n.root);return u.snapshot=n.root,new Vn(new Rn(u,[]),n)}class Mn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Xt.a)(t=>tn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Xt.a)(t=>tn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Un{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hn extends kn{constructor(t,e){super(e),this.url=t,qn(this,e)}toString(){return zn(this._root)}}function qn(t,e){e.value._routerState=t,e.children.forEach(e=>qn(t,e))}function zn(t){const e=t.children.length>0?` { ${t.children.map(zn).join(", ")} } `:"";return`${t.value}${e}`}function Bn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gn(t,e){return rn(t.params,e.params)&&function(t,e){return pn(t,e)&&t.every((t,n)=>rn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Gn(t.parent,e.parent))}function Wn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $n(t,e,n,r,i){let o={};return r&&un(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new hn(n.root===t?e:function t(e,n,r){const i={};return un(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new fn(e.segments,i)}(n.root,t,e),o,i)}class Kn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==an(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Qn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Jn(t,e,n){if(t||(t=new fn([],{})),0===t.segments.length&&t.hasChildren())return Zn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Qn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!nr(s,a,e))return o;r+=2}else{if(!nr(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new fn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new fn(t.segments.slice(r.pathIndex),t.children),Zn(e,0,i)}return r.match&&0===i.length?new fn(t.segments,{}):r.match&&!t.hasChildren()?Yn(t,e,n):r.match?Zn(t,0,i):Yn(t,e,n)}function Zn(t,e,n){if(0===n.length)return new fn(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[Ze]:t}}(n),i={};return un(r,(n,r)=>{null!==n&&(i[r]=Jn(t.children[r],e,n))}),un(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new fn(t.segments,i)}}function Yn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=tr(n[i].outlets);return new fn(r,t)}if(0===i&&Wn(n[0])){r.push(new dn(t.segments[e].path,n[0])),i++;continue}const o=Qn(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Wn(s)?(r.push(new dn(o,er(s))),i+=2):(r.push(new dn(o,{})),i++)}return new fn(r,{})}function tr(t){const e={};return un(t,(t,n)=>{null!==t&&(e[n]=Yn(new fn([],{}),0,t))}),e}function er(t){const e={};return un(t,(t,n)=>e[n]=""+t),e}function nr(t,e,n){return t==n.path&&rn(e,n.parameters)}class rr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Dn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),un(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Dn(t),i=t.value.component?n.children:e;un(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Dn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ke(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Bn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ir(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ir(t){Bn(t.value),t.children.forEach(ir)}class or{constructor(t,e){this.routes=t,this.module=e}}function sr(t){return"function"==typeof t}function ar(t){return t instanceof hn}const ur=Symbol("INITIAL_VALUE");function cr(){return pe(t=>function(...t){let e=void 0,n=void 0;return Object(Rt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Dt.a)(t[0])&&(t=t[0]),Object(qt.a)(t,n).lift(new Bt(e))}(...t.map(t=>t.pipe(ye(1),_e(ur)))).pipe(Oe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ur)return t;if(r===ur&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ar(r))return r}return t},t)},ur),Zt(t=>t!==ur),Object(Xt.a)(t=>ar(t)?t:!0===t),ye(1)))}class lr{constructor(t){this.segmentGroup=t||null}}class hr{constructor(t){this.urlTree=t}}function fr(t){return new Ut.a(e=>e.error(new lr(t)))}function dr(t){return new Ut.a(e=>e.error(new hr(t)))}function pr(t){return new Ut.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class gr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.C)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ze).pipe(Object(Xt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Se(t=>{if(t instanceof hr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof lr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ze).pipe(Object(Xt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Se(t=>{if(t instanceof lr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new fn([],{[Ze]:t}):t;return new hn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Xt.a)(t=>new fn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(jt.a)({});const n=[],r=[],i={};return un(t,(t,o)=>{const s=e(o,t).pipe(Object(Xt.a)(t=>i[o]=t));o===Ze?n.push(s):r.push(s)}),jt.a.apply(null,n.concat(r)).pipe(Jt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zt((e,n)=>t(e,n,r)):fe.a,ne(1),n?ce(e):oe(()=>new Wt))}(),Object(Xt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(jt.a)(...n).pipe(je(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Se(t=>{if(t instanceof lr)return Object(jt.a)(null);throw t}))),Ae(t=>!!t),Se((t,n)=>{if(t instanceof Wt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(jt.a)(new fn([],{}));throw new lr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return br(r)!==o?fr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):fr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dr(i):this.lineralizeSegments(n,i).pipe(Object(Te.a)(n=>{const i=new fn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=mr(e,r,i);if(!s)return fr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?dr(l):this.lineralizeSegments(r,l).pipe(Object(Te.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Xt.a)(t=>(n._loadedConfig=t,new fn(r,{})))):Object(jt.a)(new fn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=mr(e,n,r);if(!i)return fr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Te.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>vr(t,e,n)&&br(n)!==Ze)}(t,n,r)?{segmentGroup:yr(new fn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&br(r)!==Ze&&(n[br(r)]=new fn([],{}));return n}(r,new fn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>vr(t,e,n))}(t,n,r)?{segmentGroup:yr(new fn(t.segments,function(t,e,n,r){const i={};for(const o of n)vr(t,e,o)&&!r[br(o)]&&(i[br(o)]=new fn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Xt.a)(t=>new fn(o,t))):0===r.length&&0===s.length?Object(jt.a)(new fn(o,{})):this.expandSegment(n,i,r,s,Ze,!0).pipe(Object(Xt.a)(t=>new fn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(jt.a)(new or(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(jt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Te.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Xt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ut.a(e=>e.error(en(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(jt.a)(new or([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(jt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&sr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!sr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return cn(o)});return Object(jt.a)(i).pipe(cr(),Object(ke.a)(t=>{if(!ar(t))return;const e=en(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Xt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(jt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return pr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new hn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return un(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return un(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new fn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function mr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||nn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function yr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new fn(t.segments.concat(e.segments),e.children)}return t}function vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function br(t){return t.outlet||Ze}class wr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _r{constructor(t,e){this.component=t,this.route=e}}function Or(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Dn(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pn(t.url,e.url)||!rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gn(t,e)||!rn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gn(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new wr(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new _r(u.outlet.component,a))}else a&&Cr(n,u,o),o.canActivateChecks.push(new wr(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),un(s,(t,e)=>Cr(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Er(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cr(t,e,n){const r=Dn(t),i=t.value;un(r,(t,r)=>{Cr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new _r(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sr(t,e){return null!==t&&e&&e(new Xe(t)),Object(jt.a)(!0)}function Ir(t,e){return null!==t&&e&&e(new $e(t)),Object(jt.a)(!0)}function xr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(jt.a)(!0);const i=r.map(r=>Kt(()=>{const i=Er(r,e,n);let o;if(function(t){return t&&sr(t.canActivate)}(i))o=cn(i.canActivate(e,t));else{if(!sr(i))throw new Error("Invalid CanActivate guard");o=cn(i(e,t))}return o.pipe(Ae())}));return Object(jt.a)(i).pipe(cr())}function Tr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Kt(()=>{const i=e.guards.map(i=>{const o=Er(i,e.node,n);let s;if(function(t){return t&&sr(t.canActivateChild)}(o))s=cn(o.canActivateChild(r,t));else{if(!sr(o))throw new Error("Invalid CanActivateChild guard");s=cn(o(r,t))}return s.pipe(Ae())});return Object(jt.a)(i).pipe(cr())}));return Object(jt.a)(i).pipe(cr())}class jr{}class Ar{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Pr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ze),n=new Un([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ze,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rn(n,e),i=new Hn(this.url,r);return this.inheritParamsAndData(i._root),Object(jt.a)(i)}catch(dO){return new Ut.a(e=>e.error(dO))}}inheritParamsAndData(t){const e=t.value,n=Fn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=gn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Ze?-1:e.value.outlet===Ze?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(dO){if(!(dO instanceof jr))throw dO}if(this.noLeftoversInUrl(e,n,r))return[];throw new jr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new jr;if((t.outlet||Ze)!==r)throw new jr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?an(n).parameters:{};i=new Un(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vr(t),r,t.component,t,kr(e),Nr(e)+n.length,Lr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new jr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||nn)(n,t,e);if(!r)throw new jr;const i={};un(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Un(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vr(t),r,t.component,t,kr(e),Nr(e)+o.length,Lr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Pr(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Rn(i,t)]}if(0===a.length&&0===c.length)return[new Rn(i,[])];const l=this.processSegment(a,u,c,Ze);return[new Rn(i,l)]}}function kr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Pr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Rr(t,e,n)&&Dr(n)!==Ze)}(t,n,r)){const i=new fn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Dr(o)!==Ze){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Dr(o)]=n}return i}(t,e,r,new fn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Rr(t,e,n))}(t,n,r)){const o=new fn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Rr(t,n,a)&&!i[Dr(a)]){const n=new fn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Dr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new fn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Dr(t){return t.outlet||Ze}function Vr(t){return t.data||{}}function Lr(t){return t.resolve||{}}function Mr(t){return function(e){return e.pipe(pe(e=>{const n=t(e);return n?Object(At.a)(n).pipe(Object(Xt.a)(()=>e)):Object(At.a)([e])}))}}class Fr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Tb(0,"router-outlet")},directives:function(){return[ni]},encapsulation:2}),t})();function Hr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];qr(r,zr(e,r))}}function qr(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ze)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Hr(t.children,e)}function zr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Br(t){const e=t.children&&t.children.map(Br),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=Ur),n}const Gr=new r.t("ROUTES");class Wr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Xt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new or(sn(r.injector.get(Gr)).map(Br),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(At.a)(this.loader.load(t)):cn(t()).pipe(Object(Te.a)(t=>t instanceof r.A?Object(jt.a)(t):Object(At.a)(this.compiler.compileModuleAsync(t))))}}class $r{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kr,this.attachRef=null}}class Kr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $r,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Xr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qr(t){throw t}function Jr(t,e,n){return e.parse("/")}function Zr(t,e){return Object(jt.a)(null)}let Yr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new kt.a,this.errorHandler=Qr,this.malformedUriErrorHandler=Jr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zr,afterPreactivation:Zr},this.urlHandlingStrategy=new Xr,this.routeReuseStrategy=new Fr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.C),this.console=o.get(r.eb);const c=o.get(r.E);this.isNgZoneEnabled=c instanceof r.E,this.resetConfig(u),this.currentUrlTree=new hn(new fn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wr(s,a,t=>this.triggerEvent(new Ge(t)),t=>this.triggerEvent(new We(t))),this.routerState=Ln(this.currentUrlTree,this.rootComponentType),this.transitions=new Pt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Zt(t=>0!==t.id),Object(Xt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),pe(t=>{let n=!1,r=!1;return Object(jt.a)(t).pipe(Object(ke.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(jt.a)(t).pipe(pe(t=>{const n=this.transitions.getValue();return e.next(new Ve(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?$t.a:[t]}),pe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(pe(t=>function(t,e,n,r,i){return new gr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Xt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(ke.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Te.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new Ar(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Xt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ke.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(ke.a)(t=>{const n=new Ue(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ve(n,this.serializeUrl(r),i,o);e.next(a);const u=Ln(r,this.rootComponentType).snapshot;return Object(jt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),$t.a}),Mr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ke.a)(t=>{const e=new He(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Xt.a)(t=>Object.assign(Object.assign({},t),{guards:Or(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Te.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(jt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(At.a)(t).pipe(Object(Te.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(jt.a)(!0);const s=o.map(o=>{const s=Er(o,e,i);let a;if(function(t){return t&&sr(t.canDeactivate)}(s))a=cn(s.canDeactivate(t,e,n,r));else{if(!sr(s))throw new Error("Invalid CanDeactivate guard");a=cn(s(t,e,n,r))}return a.pipe(Ae())});return Object(jt.a)(s).pipe(cr())}(t.component,t.route,n,e,r)),Ae(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Te.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(At.a)(e).pipe(je(e=>Object(At.a)([Ir(e.route.parent,r),Sr(e.route,r),Tr(t,e.path,n),xr(t,e.route,n)]).pipe(Jt(),Ae(t=>!0!==t,!0))),Ae(t=>!0!==t,!0))}(r,o,t,e):Object(jt.a)(n)),Object(Xt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ke.a)(t=>{if(ar(t.guardsResult)){const e=en(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(ke.a)(t=>{const e=new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Zt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Me(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Mr(t=>{if(t.guards.canActivateChecks.length)return Object(jt.a)(t).pipe(Object(ke.a)(t=>{const e=new ze(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),pe(t=>{let n=!1;return Object(jt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Te.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(jt.a)(t);let o=0;return Object(At.a)(n).pipe(je(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(jt.a)({});const o={};return Object(At.a)(i).pipe(Object(Te.a)(i=>function(t,e,n,r){const i=Er(t,e,r);return cn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ke.a)(t=>{o[i]=t}))),ne(1),Object(Te.a)(()=>Object.keys(o).length===i.length?Object(jt.a)(o):$t.a))}(t._resolve,t,e,r).pipe(Object(Xt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Fn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ke.a)(()=>o++),ne(1),Object(Te.a)(e=>o===n.length?Object(jt.a)(t):$t.a))}))}),Object(ke.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Me(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ke.a)(t=>{const e=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Mr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Xt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Rn(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Mn(new Pt((i=n.value).url),new Pt(i.params),new Pt(i.queryParams),new Pt(i.fragment),new Pt(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Rn(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Vn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ke.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Xt.a)(t=>(new rr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(ke.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Me(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Pe(i))),Se(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ar(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Me(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Fe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Vd){t.reject(Vd)}}var i;return $t.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hr(t),this.config=t.map(Br),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.bb)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return $n(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return un(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Kn(n,e,r)}(n);if(o.toRoot())return $n(e.root,new fn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Xn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Xn(t,t===e.root,0)}const r=Wn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Xn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Zn(s.segmentGroup,s.index,o.commands):Jn(s.segmentGroup,s.index,o.commands);return $n(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.bb)()&&this.isNgZoneEnabled&&!r.E.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ar(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(dO){e=this.malformedUriErrorHandler(dO,this.urlSerializer,t)}return e}isActive(t,e){if(ar(t))return ln(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ln(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.T),r.fc(mn),r.fc(Kr),r.fc(O),r.fc(r.u),r.fc(r.B),r.fc(r.j),r.fc(void 0))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new kt.a,this.subscription=t.events.subscribe(t=>{t instanceof Le&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.bb)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ei(this.skipLocationChange),replaceUrl:ei(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ei(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ei(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Yr),r.Sb(Mn),r.Sb(y))},t.\u0275dir=r.Nb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ic("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.ac("href",e.href,r.Ac),r.Hb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.Eb]}),t})();function ei(t){return""===t||!!t}let ni=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.q,this.deactivateEvents=new r.q,this.name=i||Ze,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ri(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Kr),r.Sb(r.W),r.Sb(r.l),r.gc("name"),r.Sb(r.i))},t.\u0275dir=r.Nb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ri{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Mn?this.route:t===Kr?this.childContexts:this.parent.get(t,e)}}class ii{}class oi{preload(t,e){return Object(jt.a)(null)}}let si=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Wr(e,n,e=>t.triggerEvent(new Ge(e)),e=>t.triggerEvent(new We(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(t=>t instanceof Le),je(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.C);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(At.a)(n).pipe(Object(Qt.a)(),Object(Xt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Te.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.fc(Yr),r.fc(r.B),r.fc(r.j),r.fc(r.u),r.fc(ii))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),ai=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ve?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Le&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Je&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Je(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(Yr),r.fc(J),r.fc(void 0))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();const ui=new r.t("ROUTER_CONFIGURATION"),ci=new r.t("ROUTER_FORROOT_GUARD"),li=[O,{provide:mn,useClass:yn},{provide:Yr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Yr(null,t,e,n,r,i,o,sn(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[mn,Kr,O,r.u,r.B,r.j,Gr,ui,[class{},new r.F],[class{},new r.F]]},Kr,{provide:Mn,useFactory:function(t){return t.routerState.root},deps:[Yr]},{provide:r.B,useClass:r.Q},si,oi,class{preload(t,e){return e().pipe(Se(()=>Object(jt.a)(null)))}},{provide:ui,useValue:{enableTracing:!1}}];function hi(){return new r.D("Router",Yr)}let fi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[li,mi(e),{provide:ci,useFactory:gi,deps:[[Yr,new r.F,new r.P]]},{provide:ui,useValue:n||{}},{provide:y,useFactory:pi,deps:[u,[new r.s(b),new r.F],ui]},{provide:ai,useFactory:di,deps:[Yr,J,ui]},{provide:ii,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:oi},{provide:r.D,multi:!0,useFactory:hi},[yi,{provide:r.d,multi:!0,useFactory:vi,deps:[yi]},{provide:wi,useFactory:bi,deps:[yi]},{provide:r.b,multi:!0,useExisting:wi}]]}}static forChild(e){return{ngModule:t,providers:[mi(e)]}}}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)(r.fc(ci,8),r.fc(Yr,8))}}),t})();function di(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ai(t,e,n)}function pi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function gi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Gr,multi:!0,useValue:t}]}let yi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new kt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yr),r=this.injector.get(ui);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(jt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ui),n=this.injector.get(si),i=this.injector.get(ai),o=this.injector.get(Yr),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.u))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})();function vi(t){return t.appInitializer.bind(t)}function bi(t){return t.bootstrapListener.bind(t)}const wi=new r.t("Router Initializer"),_i=[];let Oi=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[fi.forRoot(_i)],fi]}),t})();function Ei(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(dO){o(dO)}}function a(t){try{u(r.throw(t))}catch(dO){o(dO)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}var Ci=n("VRyK"),Si=n("pxpQ"),Ii=n("qgXg"),xi=n("Ylt2");class Ti extends kt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ji(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Nt.a;if(this.isStopped||this.hasError?o=Ne.a.EMPTY:(this.observers.push(t),o=new xi.a(this,t)),r&&t.add(t=new Si.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ii.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class ji{constructor(t,e){this.time=t,this.value=e}}function Ai(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Ti(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function ki(t,e){return e?pe(()=>t,e):pe(()=>t)}var Ni=n("tf+s"),Pi=n("spgP");const Ri=new r.t("angularfire2.auth.use-emulator"),Di=new r.t("angularfire2.auth.settings"),Vi=new r.t("angularfire2.auth.tenant-id"),Li=new r.t("angularfire2.auth.langugage-code"),Mi=new r.t("angularfire2.auth.use-device-language"),Fi=new r.t("angularfire.auth.persistence");let Ui=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Pi.d(i),f=Object(Pi.h)(h),d=new kt.a,p=Object(jt.a)(void 0).pipe(Object(Si.b)(h.outsideAngular),pe(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Xt.a)(()=>Object(Pi.g)(t,i,e)),Object(Xt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Pi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Ai({bufferSize:1,refCount:!1}));if(Q(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(jt.a)(null);else{p.pipe(Ae()).subscribe();const t=p.pipe(pe(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Ai({bufferSize:1,refCount:!1})),e=t=>new Ut.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(pe(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(pe(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ki(n),Object(Ni.a)(h.outsideAngular),Object(Si.b)(h.insideAngular)),this.user=t.pipe(ki(r),Object(Ni.a)(h.outsideAngular),Object(Si.b)(h.insideAngular)),this.idToken=this.user.pipe(pe(t=>t?Object(At.a)(t.getIdToken()):Object(jt.a)(null))),this.idTokenResult=this.user.pipe(pe(t=>t?Object(At.a)(t.getIdTokenResult()):Object(jt.a)(null))),this.credential=Object(Ci.a)(t,d,this.authState.pipe(Zt(t=>!t))).pipe(Object(Xt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Ni.a)(h.outsideAngular),Object(Si.b)(h.insideAngular))}return Object(Pi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(Pi.c),r.fc(Pi.b,8),r.fc(r.H),r.fc(r.E),r.fc(Ri,8),r.fc(Di,8),r.fc(Vi,8),r.fc(Li,8),r.fc(Mi,8),r.fc(Fi,8))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(Pi.c),Object(r.fc)(Pi.b,8),Object(r.fc)(r.H),Object(r.fc)(r.E),Object(r.fc)(Ri,8),Object(r.fc)(Di,8),Object(r.fc)(Vi,8),Object(r.fc)(Li,8),Object(r.fc)(Mi,8),Object(r.fc)(Fi,8))},token:t,providedIn:"any"}),t})(),Hi=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[Ui]}),t})(),qi=(()=>{class t{constructor(t){this.afAuth=t}login(t,e){return Ei(this,void 0,void 0,(function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t,e)}catch(n){console.log(n)}}))}register(t,e){return Ei(this,void 0,void 0,(function*(){try{return yield this.afAuth.createUserWithEmailAndPassword(t,e)}catch(n){console.log(n)}}))}logout(){return Ei(this,void 0,void 0,(function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(r.fc(Ui))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zi=n("n6bG");function Bi(t,e,n,r){return Object(zi.a)(n)&&(r=n,n=void 0),r?Bi(t,e,n).pipe(Object(Xt.a)(t=>Object(Dt.a)(t)?r(...t):r(t))):new Ut.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var Gi=n("D0XW"),Wi=n("Y7HM");function $i(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Ki{call(t,e){return e.subscribe(new Xi(t))}}class Xi extends Lt{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Ht(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var Qi=n("Lhse");function Ji(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(qt.a)(t,void 0).lift(new Zi(e))}class Zi{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Yi(t,this.resultSelector))}}class Yi extends Vt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Dt.a)(t)?e.push(new eo(t)):e.push("function"==typeof t[Qi.a]?new to(t[Qi.a]()):new no(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class to{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class eo{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Qi.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class no extends de.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Qi.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(de.c)(this.observable,new de.a(this))}}function ro(t){return e=>e.lift(new io(t))}class io{constructor(t){this.notifier=t}call(t,e){const n=new oo(t),r=Object(de.c)(this.notifier,new de.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class oo extends de.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class so{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ao(t,this.compare,this.keySelector))}}class ao extends Vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function uo(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new co(t,n))}}class co{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new lo(t,this.observables,this.project))}}class lo extends Lt{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ht(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");var ho=n("XoHu");function fo(t,e){return new Ut.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(At.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const po=new r.t("NgValueAccessor"),go={provide:po,useExisting:Object(r.ab)(()=>mo),multi:!0};let mo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Fb([go])]}),t})();const yo={provide:po,useExisting:Object(r.ab)(()=>bo),multi:!0},vo=new r.t("CompositionEventMode");let bo=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o),r.Sb(vo,8))},t.\u0275dir=r.Nb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ic("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Fb([yo])]}),t})(),wo=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Nb({type:t}),t})(),_o=(()=>{class t extends wo{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Oo(e||t)},t.\u0275dir=r.Nb({type:t,features:[r.Db]}),t})();const Oo=r.Zb(_o);class Eo extends wo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Co{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let So=(()=>{class t extends Co{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Eo,2))},t.\u0275dir=r.Nb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Kb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Db]}),t})(),Io=(()=>{class t extends Co{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(_o,2))},t.\u0275dir=r.Nb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Kb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Db]}),t})();function xo(t){return null==t||0===t.length}function To(t){return null!=t&&"number"==typeof t.length}const jo=new r.t("NgValidators"),Ao=new r.t("NgAsyncValidators"),ko=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class No{static min(t){return e=>{if(xo(e.value)||xo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(xo(e.value)||xo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return xo(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return xo(t.value)||ko.test(t.value)?null:{email:!0}}static minLength(t){return e=>xo(e.value)||!To(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>To(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return No.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(xo(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Po);return 0==e.length?null:function(t){return Do(Vo(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Po);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Dt.a)(e))return fo(e,null);if(Object(ho.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return fo(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return fo(t=1===t.length&&Object(Dt.a)(t[0])?t[0]:t,null).pipe(Object(Xt.a)(t=>e(...t)))}return fo(t,null)}(Vo(t,e).map(Ro)).pipe(Object(Xt.a)(Do))}}}function Po(t){return null!=t}function Ro(t){const e=Object(r.xb)(t)?Object(At.a)(t):t;return Object(r.wb)(e),e}function Do(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vo(t,e){return e.map(e=>e(t))}function Lo(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const Mo={provide:po,useExisting:Object(r.ab)(()=>Fo),multi:!0};let Fo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Fb([Mo])]}),t})();const Uo={provide:po,useExisting:Object(r.ab)(()=>qo),multi:!0};let Ho=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),qo=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Eo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o),r.Sb(Ho),r.Sb(r.u))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Fb([Uo])]}),t})();const zo={provide:po,useExisting:Object(r.ab)(()=>Bo),multi:!0};let Bo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Fb([zo])]}),t})();const Go={provide:po,useExisting:Object(r.ab)(()=>Wo),multi:!0};let Wo=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Fb([Go])]}),t})();const $o={provide:po,useExisting:Object(r.ab)(()=>Ko),multi:!0};let Ko=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.K),r.Sb(r.o))},t.\u0275dir=r.Nb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ic("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Fb([$o])]}),t})();function Xo(t,e){t.validator=No.compose([t.validator,e.validator]),t.asyncValidator=No.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Qo(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Qo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Qo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Jo(t,e){t.validator=No.compose([t.validator,e.validator]),t.asyncValidator=No.composeAsync([t.asyncValidator,e.asyncValidator])}function Zo(t){return null!=t?No.compose(Lo(t)):null}function Yo(t){return null!=t?No.composeAsync(Lo(t)):null}const ts=[mo,Bo,Fo,Wo,Ko,qo];function es(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ns(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rs="VALID",is="INVALID",os="PENDING",ss="DISABLED";function as(t){return(hs(t)?t.validators:t)||null}function us(t){return Array.isArray(t)?Zo(t):t||null}function cs(t,e){return(hs(e)?e.asyncValidators:t)||null}function ls(t){return Array.isArray(t)?Yo(t):t||null}function hs(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fs{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=us(this._rawValidators),this._composedAsyncValidatorFn=ls(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===rs}get invalid(){return this.status===is}get pending(){return this.status==os}get disabled(){return this.status===ss}get enabled(){return this.status!==ss}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=us(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ls(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=os,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ss,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rs,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==rs&&this.status!==os||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ss:rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=os,this._hasOwnPendingAsyncValidator=!0;const e=Ro(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ps?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof gs&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.q,this.statusChanges=new r.q}_calculateStatus(){return this._allControlsDisabled()?ss:this.errors?is:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(os)?os:this._anyControlsHaveStatus(is)?is:rs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hs(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ds extends fs{constructor(t=null,e,n){super(as(e),cs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ps extends fs{constructor(t,e,n){super(as(e),cs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ds?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class gs extends fs{constructor(t,e,n){super(as(e),cs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ds?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ms={provide:_o,useExisting:Object(r.ab)(()=>vs)},ys=(()=>Promise.resolve(null))();let vs=(()=>{class t extends _o{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.q,this.form=new ps({},Zo(t),Yo(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ys.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Xo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ys.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ns(this._directives,t)})}addFormGroup(t){ys.then(()=>{const e=this._findContainer(t.path),n=new ps({});Jo(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ys.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ys.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,es(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(jo,10),r.Sb(Ao,10))},t.\u0275dir=r.Nb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.ic("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Fb([ms]),r.Db]}),t})(),bs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Nb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const ws=new r.t("NgModelWithFormControlWarning"),_s={provide:_o,useExisting:Object(r.ab)(()=>Os)};let Os=(()=>{class t extends _o{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.q}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Xo(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ns(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Jo(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Jo(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,es(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Xo(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Zo(this._validators);this.form.validator=No.compose([this.form.validator,t]);const e=Yo(this._asyncValidators);this.form.asyncValidator=No.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(jo,10),r.Sb(Ao,10))},t.\u0275dir=r.Nb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ic("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Fb([_s]),r.Db,r.Eb]}),t})();const Es={provide:Eo,useExisting:Object(r.ab)(()=>Cs)};let Cs=(()=>{class t extends Eo{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.q,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===bo?n=t:(e=t,ts.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.bb)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Zo(this._rawValidators)}get asyncValidator(){return Yo(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(_o,13),r.Sb(jo,10),r.Sb(Ao,10),r.Sb(po,10),r.Sb(ws,8))},t.\u0275dir=r.Nb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Fb([Es]),r.Db,r.Eb]}),t._ngModelWarningSentOnce=!1,t})(),Ss=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),Is=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ps(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new ds(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new gs(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ds||t instanceof ps||t instanceof gs?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac}),t})(),xs=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[Ho],imports:[Ss]}),t})(),Ts=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ws,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[Is,Ho],imports:[Ss]}),t})();const js=["*"],As=["dialog"];function ks(t){return null!=t}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Ns={animation:!0,transitionTimerDelayMs:5};let Ps=(()=>{class t{constructor(){this.animation=Ns.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ob)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Rs=()=>{},{transitionTimerDelayMs:Ds}=Ns,Vs=new Map,Ls=(t,e,n)=>{let r=n.context||{};const i=Vs.get(t);if(i)switch(n.runningTransition){case"continue":return $t.a;case"stop":i.transition$.complete(),r=Object.assign(i.context,r),Vs.delete(t)}!function(t){t||document}(t);const o=e(t,r)||Rs;if(!n.animation||"none"===window.getComputedStyle(t).transitionProperty)return o(),Object(jt.a)(void 0);const s=new kt.a,a=s.pipe(function(...t){return e=>we(e,Object(jt.a)(...t))}(!0));Vs.set(t,{transition$:s,context:r});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(t),c=Bi(t,"transitionend").pipe(ro(a),Zt(({target:e})=>e===t));return function(...t){if(1===t.length){if(!Object(Dt.a)(t[0]))return t[0];t=t[0]}return Object(qt.a)(t,void 0).lift(new Ki)}(function(t=0,e,n){let r=-1;return Object(Wi.a)(e)?r=Number(e)<1?1:Number(e):Object(Rt.a)(e)&&(n=e),Object(Rt.a)(n)||(n=Gi.a),new Ut.a(e=>{const i=Object(Wi.a)(t)?t:+t-n.now();return n.schedule($i,i,{index:0,period:r,subscriber:e})})}(u+Ds).pipe(ro(a)),c).pipe(ro(a)).subscribe(()=>{Vs.delete(t),o(),s.next(),s.complete()}),s.asObservable()};let Ms=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),Fs=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),Us=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),Hs=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),qs=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})();var zs=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const Bs=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Gs(t){const e=Array.from(t.querySelectorAll(Bs)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let Ws=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X,xs]]}),t})(),$s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Nb({type:t,selectors:[["",8,"navbar"]]}),t})(),Ks=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),Xs=(()=>{class t{constructor(t){this.backdrop=!0,this.keyboard=!0,this.animation=t.animation}}return t.\u0275fac=function(e){return new(e||t)(r.fc(Ps))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(Ps))},token:t,providedIn:"root"}),t})();class Qs{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Js=()=>{};let Zs=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Js}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.fc(a))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(a))},token:t,providedIn:"root"}),t})(),Ys=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ye(1)).subscribe(()=>{Ls(this._el.nativeElement,({classList:t})=>t.add("show"),{animation:this.animation,runningTransition:"continue"})})}hide(){return Ls(this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.o),r.Sb(r.E))},t.\u0275cmp=r.Mb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Ib("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Kb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class ta{close(t){}dismiss(t){}}class ea{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new kt.a,this._dismissed=new kt.a,this._hidden=new kt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ro(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ro(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(jt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ji(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var na=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let ra=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new kt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.q,this.shown=new kt.a,this.hidden=new kt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Ji(Ls(t,()=>t.classList.remove("show"),e),Ls(this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"continue"};Ji(Ls(t,()=>t.classList.add("show"),e),Ls(this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Bi(t,"keydown").pipe(ro(this._closed$),Zt(t=>t.which===zs.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(na.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Bi(this._dialogEl.nativeElement,"mousedown").pipe(ro(this._closed$),Object(ke.a)(()=>e=!1),pe(()=>Bi(t,"mouseup").pipe(ro(this._closed$),ye(1))),Zt(({target:e})=>t===e)).subscribe(()=>{e=!0}),Bi(t,"click").pipe(ro(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(na.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Gs(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ls(this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(r.o),r.Sb(r.E))},t.\u0275cmp=r.Mb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Dc(As,!0),2&t&&r.xc(n=r.jc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Hb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Ib("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Kb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:js,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0,1),r.Xb(2,"div",2),r.oc(3),r.Wb(),r.Wb()),2&t&&r.Ib("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),ia=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new kt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.q,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Bi(e,"focusin").pipe(ro(n),Object(Xt.a)(t=>t.target));Bi(e,"keydown").pipe(ro(n),Zt(t=>t.which===zs.Tab),uo(t)).subscribe(([t,n])=>{const[r,i]=Gs(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Bi(e,"click").pipe(ro(n),uo(t),Object(Xt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:ks(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new ta,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new ea(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Ys).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(ra).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{ks(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{ks(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.R?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Qs([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Qs([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new Qs([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.u.create({providers:[{provide:ta,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Qs([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.g),r.fc(r.u),r.fc(a),r.fc(Zs),r.fc(r.L),r.fc(r.E))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(r.g),Object(r.fc)(r.r),Object(r.fc)(a),Object(r.fc)(Zs),Object(r.fc)(r.L),Object(r.fc)(r.E))},token:t,providedIn:"root"}),t})(),oa=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(r.l),r.fc(r.u),r.fc(ia),r.fc(Xs))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(r.l),Object(r.fc)(r.r),Object(r.fc)(ia),Object(r.fc)(Xs))},token:t,providedIn:"root"}),t})(),sa=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[oa]}),t})(),aa=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),ua=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),ca=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),la=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),ha=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),fa=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),da=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})(),pa=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)}}),t})(),ga=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[[X]]}),t})();const ma=[Ms,Fs,Us,Hs,qs,Ws,Ks,sa,aa,ua,ca,la,ha,fa,da,pa,ga];let ya=(()=>{class t{}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},imports:[ma,Ms,Fs,Us,Hs,qs,Ws,Ks,sa,aa,ua,ca,la,ha,fa,da,pa,ga]}),t})();function va(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",12),r.Xb(1,"a",14),r.ic("click",(function(){return r.zc(t),r.kc(2).onLogout()})),r.Hc(2,"Logout"),r.Wb(),r.Wb()}}function ba(t,e){if(1&t&&(r.Xb(0,"ul",10),r.Fc(1,va,3,0,"li",11),r.Xb(2,"li",12),r.Xb(3,"a",13),r.Hc(4),r.Wb(),r.Wb(),r.Wb()),2&t){const t=e.ngIf;r.Gb(1),r.qc("ngIf",t),r.Gb(3),r.Ic(null==t?null:t.email)}}const wa=function(){return["login"]};function _a(t,e){1&t&&(r.Xb(0,"li",12),r.Xb(1,"a",7),r.Hc(2,"Login"),r.Wb(),r.Wb()),2&t&&(r.Gb(1),r.qc("routerLink",r.tc(1,wa)))}const Oa=function(){return["register"]};function Ea(t,e){if(1&t&&(r.Xb(0,"ul",10),r.Fc(1,_a,3,2,"li",11),r.Xb(2,"li",12),r.Xb(3,"a",7),r.Hc(4,"Register"),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.kc();r.Gb(1),r.qc("ngIf",!t.user),r.Gb(2),r.qc("routerLink",r.tc(2,Oa))}}const Ca=function(){return["home"]};let Sa=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.user$=this.authSvc.afAuth.user}onLogout(){return Ei(this,void 0,void 0,(function*(){try{yield this.authSvc.logout(),this.router.navigate(["/login"])}catch(t){console.log(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(qi),r.Sb(Yr))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-navbar"]],features:[r.Fb([qi])],decls:14,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarColor01","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor01",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],["class","navbar-nav mx-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mx-auto"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link"],[1,"nav-link",3,"click"]],template:function(t,e){if(1&t&&(r.Xb(0,"nav",0),r.Xb(1,"a",1),r.Hc(2,"CarApp"),r.Wb(),r.Xb(3,"button",2),r.Tb(4,"span",3),r.Wb(),r.Xb(5,"div",4),r.Xb(6,"ul",5),r.Xb(7,"li",6),r.Xb(8,"a",7),r.Hc(9,"Home"),r.Wb(),r.Wb(),r.Wb(),r.Fc(10,ba,5,2,"ul",8),r.lc(11,"async"),r.Fc(12,Ea,5,3,"ng-template",null,9,r.Gc),r.Wb(),r.Wb()),2&t){const t=r.yc(13);r.Gb(8),r.qc("routerLink",r.tc(5,Ca)),r.Gb(2),r.qc("ngIf",r.mc(11,3,e.user$))("ngIfElse",t)}},directives:[$s,ti,F],pipes:[$],encapsulation:2}),t})(),Ia=(()=>{class t{constructor(){this.title="proyectoF"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(0,"app-navbar"),r.Tb(1,"router-outlet"))},directives:[Sa,ni],styles:[""]}),t})();function xa(t,e){if(1&t){var n=r.Yb();r.Xb(0,"a",11),r.ic("keyup.enter",(function(){return r.zc(n),r.kc(3),r.yc(1).previous()}))("click",(function(){return r.zc(n),r.kc(3),r.yc(1).previous()})),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()}if(2&t){var i=r.kc(3);r.Hb("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),r.Gb(1),r.Jc(" ",i.previousLabel," "),r.Gb(2),r.Ic(i.screenReaderPageLabel)}}function Ta(t,e){if(1&t&&(r.Xb(0,"span"),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()),2&t){var n=r.kc(3);r.Gb(1),r.Jc(" ",n.previousLabel," "),r.Gb(2),r.Ic(n.screenReaderPageLabel)}}function ja(t,e){if(1&t&&(r.Xb(0,"li",8),r.Fc(1,xa,4,3,"a",9),r.Fc(2,Ta,4,2,"span",10),r.Wb()),2&t){r.kc(2);var n=r.yc(1);r.Kb("disabled",n.isFirstPage()),r.Gb(1),r.qc("ngIf",1<n.getCurrent()),r.Gb(1),r.qc("ngIf",n.isFirstPage())}}function Aa(t,e){if(1&t){var n=r.Yb();r.Xb(0,"a",11),r.ic("keyup.enter",(function(){r.zc(n);var t=r.kc().$implicit;return r.kc(2),r.yc(1).setCurrent(t.value)}))("click",(function(){r.zc(n);var t=r.kc().$implicit;return r.kc(2),r.yc(1).setCurrent(t.value)})),r.Xb(1,"span",12),r.Hc(2),r.Wb(),r.Xb(3,"span"),r.Hc(4),r.lc(5,"number"),r.Wb(),r.Wb()}if(2&t){var i=r.kc().$implicit,o=r.kc(2);r.Gb(2),r.Jc("",o.screenReaderPageLabel," "),r.Gb(2),r.Ic("..."===i.label?i.label:r.nc(5,2,i.label,""))}}function ka(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"span",12),r.Hc(2),r.Wb(),r.Xb(3,"span"),r.Hc(4),r.lc(5,"number"),r.Wb(),r.Ub()),2&t){var n=r.kc().$implicit,i=r.kc(2);r.Gb(2),r.Jc("",i.screenReaderCurrentLabel," "),r.Gb(2),r.Ic("..."===n.label?n.label:r.nc(5,2,n.label,""))}}function Na(t,e){if(1&t&&(r.Xb(0,"li"),r.Fc(1,Aa,6,5,"a",9),r.Fc(2,ka,6,5,"ng-container",10),r.Wb()),2&t){var n=e.$implicit;r.kc(2);var i=r.yc(1);r.Kb("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),r.Gb(1),r.qc("ngIf",i.getCurrent()!==n.value),r.Gb(1),r.qc("ngIf",i.getCurrent()===n.value)}}function Pa(t,e){if(1&t){var n=r.Yb();r.Xb(0,"a",11),r.ic("keyup.enter",(function(){return r.zc(n),r.kc(3),r.yc(1).next()}))("click",(function(){return r.zc(n),r.kc(3),r.yc(1).next()})),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()}if(2&t){var i=r.kc(3);r.Hb("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),r.Gb(1),r.Jc(" ",i.nextLabel," "),r.Gb(2),r.Ic(i.screenReaderPageLabel)}}function Ra(t,e){if(1&t&&(r.Xb(0,"span"),r.Hc(1),r.Xb(2,"span",12),r.Hc(3),r.Wb(),r.Wb()),2&t){var n=r.kc(3);r.Gb(1),r.Jc(" ",n.nextLabel," "),r.Gb(2),r.Ic(n.screenReaderPageLabel)}}function Da(t,e){if(1&t&&(r.Xb(0,"li",13),r.Fc(1,Pa,4,3,"a",9),r.Fc(2,Ra,4,2,"span",10),r.Wb()),2&t){r.kc(2);var n=r.yc(1);r.Kb("disabled",n.isLastPage()),r.Gb(1),r.qc("ngIf",!n.isLastPage()),r.Gb(1),r.qc("ngIf",n.isLastPage())}}function Va(t,e){if(1&t&&(r.Xb(0,"ul",3),r.Fc(1,ja,3,4,"li",4),r.Xb(2,"li",5),r.Hc(3),r.Wb(),r.Fc(4,Na,3,6,"li",6),r.Fc(5,Da,3,4,"li",7),r.Wb()),2&t){var n=r.kc(),i=r.yc(1);r.Kb("responsive",n.responsive),r.Hb("aria-label",n.screenReaderPaginationLabel),r.Gb(1),r.qc("ngIf",n.directionLinks),r.Gb(2),r.Kc(" ",i.getCurrent()," / ",i.getLastPage()," "),r.Gb(1),r.qc("ngForOf",i.pages),r.Gb(1),r.qc("ngIf",n.directionLinks)}}var La=function(){function t(){this.change=new r.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ob({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Ma=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Fa=Number.MAX_SAFE_INTEGER,Ua=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,u=s.itemsPerPage,c=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(u=+u||Fa),i=r+u))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return c&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every((function(t,r){return t===e[n+r]}))},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([Ma("design:paramtypes",[La])],t)).\u0275fac=function(e){return new(e||t)(r.Sb(La))},t.\u0275pipe=r.Rb({name:"paginate",type:t,pure:!1}),t}(),Ha=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},qa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function za(t){return!!t&&"false"!==t}var Ba=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=za(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=za(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=za(t)},enumerable:!0,configurable:!0}),Ha([Object(r.v)(),qa("design:type",String)],t.prototype,"id",void 0),Ha([Object(r.v)(),qa("design:type",Number)],t.prototype,"maxSize",void 0),Ha([Object(r.v)(),qa("design:type",Boolean),qa("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),Ha([Object(r.v)(),qa("design:type",Boolean),qa("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),Ha([Object(r.v)(),qa("design:type",Boolean),qa("design:paramtypes",[Boolean])],t.prototype,"responsive",null),Ha([Object(r.v)(),qa("design:type",String)],t.prototype,"previousLabel",void 0),Ha([Object(r.v)(),qa("design:type",String)],t.prototype,"nextLabel",void 0),Ha([Object(r.v)(),qa("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),Ha([Object(r.v)(),qa("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),Ha([Object(r.v)(),qa("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),Ha([Object(r.G)(),qa("design:type",r.q)],t.prototype,"pageChange",void 0),Ha([Object(r.G)(),qa("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Mb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(r.Xb(0,"pagination-template",0,1),r.ic("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),r.Fc(2,Va,6,8,"ul",2),r.Wb()),2&t){var n=r.yc(1);r.qc("id",e.id)("maxSize",e.maxSize),r.Gb(2),r.qc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[$a,F,L]},pipes:function(){return[K]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),Ga=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Wa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$a=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.q,this.pageBoundsCorrection=new r.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.ceil(n/e),s=Math.ceil(r/2),a=t<=s,u=o-s<t,c=!a&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||a))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},Ga([Object(r.v)(),Wa("design:type",String)],t.prototype,"id",void 0),Ga([Object(r.v)(),Wa("design:type",Number)],t.prototype,"maxSize",void 0),Ga([Object(r.G)(),Wa("design:type",r.q)],t.prototype,"pageChange",void 0),Ga([Object(r.G)(),Wa("design:type",r.q)],t.prototype,"pageBoundsCorrection",void 0),(t=Ga([Wa("design:paramtypes",[La,r.i])],t)).\u0275fac=function(e){return new(e||t)(r.Sb(La),r.Sb(r.i))},t.\u0275dir=r.Nb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[r.Eb]}),t}(),Ka=function(){function t(){}return t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[La],imports:[[X]]}),t}(),Xa=n("MCLT");function Qa(){return t=>t.lift(new Ja)}class Ja{call(t,e){return e.subscribe(new Za(t))}}class Za extends Vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ya=n("Jgta"),tu=n("zIRd"),eu=n("q/0M"),nu=n("qOnz"),ru=function(t,e){return(ru=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function iu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ou,su="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},au=au||{},uu=su||self;function cu(){}function lu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function hu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var fu="closure_uid_"+(1e9*Math.random()>>>0),du=0;function pu(t,e,n){return t.call.apply(t.bind,arguments)}function gu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function mu(t,e,n){return(mu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pu:gu).apply(null,arguments)}function yu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function vu(){return Date.now()}function bu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function wu(){this.j=this.j,this.i=this.i}wu.prototype.j=!1,wu.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,fu)&&t[fu]||(t[fu]=++du)}(this)},wu.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _u=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ou=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Eu(t){return Array.prototype.concat.apply([],arguments)}function Cu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Su(t){return/^[\s\xa0]*$/.test(t)}var Iu,xu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tu(t,e){return-1!=t.indexOf(e)}function ju(t,e){return t<e?-1:t>e?1:0}t:{var Au=uu.navigator;if(Au){var ku=Au.userAgent;if(ku){Iu=ku;break t}}Iu=""}function Nu(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Pu(t){var e={};for(var n in t)e[n]=t[n];return e}var Ru="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Du(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ru.length;o++)n=Ru[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vu(t){return Vu[" "](t),t}Vu[" "]=cu;var Lu,Mu,Fu=Tu(Iu,"Opera"),Uu=Tu(Iu,"Trident")||Tu(Iu,"MSIE"),Hu=Tu(Iu,"Edge"),qu=Hu||Uu,zu=Tu(Iu,"Gecko")&&!(Tu(Iu.toLowerCase(),"webkit")&&!Tu(Iu,"Edge"))&&!(Tu(Iu,"Trident")||Tu(Iu,"MSIE"))&&!Tu(Iu,"Edge"),Bu=Tu(Iu.toLowerCase(),"webkit")&&!Tu(Iu,"Edge");function Gu(){var t=uu.document;return t?t.documentMode:void 0}t:{var Wu="",$u=(Mu=Iu,zu?/rv:([^\);]+)(\)|;)/.exec(Mu):Hu?/Edge\/([\d\.]+)/.exec(Mu):Uu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Mu):Bu?/WebKit\/(\S+)/.exec(Mu):Fu?/(?:Version)[ \/]?(\S+)/.exec(Mu):void 0);if($u&&(Wu=$u?$u[1]:""),Uu){var Ku=Gu();if(null!=Ku&&Ku>parseFloat(Wu)){Lu=String(Ku);break t}}Lu=Wu}var Xu={};function Qu(t){return function(t,e){var n=Xu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=xu(String(Lu)).split("."),r=xu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ju(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ju(0==s[2].length,0==a[2].length)||ju(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var Ju=uu.document&&Uu&&(Gu()||parseInt(Lu,10))||void 0,Zu=!Uu||9<=Number(Ju),Yu=Uu&&!Qu("9"),tc=function(){if(!uu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{uu.addEventListener("test",cu,e),uu.removeEventListener("test",cu,e)}catch(n){}return t}();function ec(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function nc(t,e){if(ec.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(zu){t:{try{Vu(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ec.prototype.b=function(){this.defaultPrevented=!0},bu(nc,ec);var rc={2:"touch",3:"pen",4:"mouse"};nc.prototype.b=function(){nc.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Yu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ic="closure_listenable_"+(1e6*Math.random()|0),oc=0;function sc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++oc,this.Y=this.Z=!1}function ac(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function uc(t){this.src=t,this.a={},this.b=0}function cc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_u(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ac(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}uc.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=lc(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new sc(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var hc="closure_lm_"+(1e6*Math.random()|0),fc={};function dc(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=_c(r),e&&e[ic]?e.wa(n,r,hu(i)?!!i.capture:!!i,o):pc(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)dc(t,e[o],n,r,i);return null}return n=_c(n),t&&t[ic]?t.va(e,n,hu(r)?!!r.capture:!!r,i):pc(t,e,n,!1,r,i)}function pc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=hu(i)?!!i.capture:!!i;if(s&&!Zu)return null;var a=bc(t);if(a||(t[hc]=a=new uc(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=vc,e=Zu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tc||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ic])cc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bc(e))?(cc(n,t),0==n.b&&(n.src=null,e[hc]=null)):ac(t)}}}function mc(t){return t in fc?fc[t]:fc[t]="on"+t}function yc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gc(t),n.call(r,e)}function vc(t,e){if(t.Y)return!0;if(!Zu){if(!e)t:{e=["window","event"];for(var n=uu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yc(t,e=new nc(e,this))}return yc(t,new nc(e,this))}function bc(t){return(t=t[hc])instanceof uc?t:null}var wc="__closure_events_fn_"+(1e9*Math.random()>>>0);function _c(t){return"function"==typeof t?t:(t[wc]||(t[wc]=function(e){return t.handleEvent(e)}),t[wc])}function Oc(){wu.call(this),this.c=new uc(this),this.J=this,this.C=null}function Ec(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ec(e,t);else if(e instanceof ec)e.target=e.target||t;else{var i=e;Du(e=new ec(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Cc(s,r,!0,e)&&i}if(i=Cc(s=e.a=t,r,!0,e)&&i,i=Cc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Cc(s=e.a=n[o],r,!1,e)&&i}function Cc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&cc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}bu(Oc,wu),Oc.prototype[ic]=!0,(ou=Oc.prototype).addEventListener=function(t,e,n,r){dc(this,t,e,n,r)},ou.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=hu(i)?!!i.capture:!!i,r=_c(r),e&&e[ic]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=lc(s=e.a[n],r,i,o))&&(ac(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=bc(e))&&(n=e.a[n.toString()],e=-1,n&&(e=lc(n,r,i,o)),(r=-1<e?n[e]:null)&&gc(r))}(this,t,e,n,r)},ou.G=function(){if(Oc.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ac(n[r]);delete e.a[t],e.b--}}this.C=null},ou.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ou.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Sc=uu.JSON.stringify;function Ic(){this.b=this.a=null}var xc,Tc=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ac}),(function(t){t.reset()}));function jc(){var t=Rc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ac(){this.next=this.b=this.a=null}function kc(t){uu.setTimeout((function(){throw t}),0)}function Nc(t,e){xc||function(){var t=uu.Promise.resolve(void 0);xc=function(){t.then(Dc)}}(),Pc||(xc(),Pc=!0),Rc.add(t,e)}Ic.prototype.add=function(t,e){var n=Tc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ac.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ac.prototype.reset=function(){this.next=this.b=this.a=null};var Pc=!1,Rc=new Ic;function Dc(){for(var t;t=jc();){try{t.a.call(t.b)}catch(n){kc(n)}var e=Tc;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Pc=!1}function Vc(t,e){Oc.call(this),this.b=t||1,this.a=e||uu,this.f=mu(this.Za,this),this.g=vu()}function Lc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Mc(t,e,n){if("function"==typeof t)n&&(t=mu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=mu(t.handleEvent,t)}return 2147483647<Number(e)?-1:uu.setTimeout(t,e||0)}function Fc(t){t.a=Mc((function(){t.a=null,t.c&&(t.c=!1,Fc(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}bu(Vc,Oc),(ou=Vc.prototype).aa=!1,ou.M=null,ou.Za=function(){if(this.aa){var t=vu()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ec(this,"tick"),this.aa&&(Lc(this),this.start()))}},ou.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=vu())},ou.G=function(){Vc.X.G.call(this),Lc(this),delete this.a};var Uc=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ru(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Fc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(uu.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(wu);function Hc(t){wu.call(this),this.b=t,this.a={}}bu(Hc,wu);var qc=[];function zc(t,e,n,r){Array.isArray(n)||(n&&(qc[0]=n.toString()),n=qc);for(var i=0;i<n.length;i++){var o=dc(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Bc(t){Nu(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gc(t)}),t),t.a={}}function Gc(){this.a=!0}function Wc(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Sc(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Hc.prototype.G=function(){Hc.X.G.call(this),Bc(this)},Hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gc.prototype.info=function(){};var $c={},Kc=null;function Xc(){return Kc=Kc||new Oc}function Qc(t){ec.call(this,$c.Fa,t)}function Jc(t){var e=Xc();Ec(e,new Qc(e,t))}function Zc(t,e){ec.call(this,$c.STAT_EVENT,t),this.stat=e}function Yc(t){var e=Xc();Ec(e,new Zc(e,t))}function tl(t){ec.call(this,$c.Ga,t)}function el(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return uu.setTimeout((function(){t()}),e)}$c.Fa="serverreachability",bu(Qc,ec),$c.STAT_EVENT="statevent",bu(Zc,ec),$c.Ga="timingevent",bu(tl,ec);var nl={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},rl={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function il(){}function ol(){}il.prototype.a=null;var sl,al={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ul(){ec.call(this,"d")}function cl(){ec.call(this,"c")}function ll(){}function hl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Hc(this),this.P=fl,this.R=new Vc(t=qu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}bu(ul,ec),bu(cl,ec),bu(ll,il),sl=new ll;var fl=45e3,dl={},pl={};function gl(t,e,n){t.H=1,t.i=Ll(kl(e)),t.j=n,t.I=!0,ml(t,null)}function ml(t,e){t.u=vu(),bl(t),t.l=kl(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ql(n.b,"t",r),t.D=0,t.a=Bh(t.g,t.g.C?e:null),0<t.O&&(t.F=new Uc(mu(t.Ca,t,t.a),t.O)),zc(t.J,t.a,"readystatechange",t.Xa),e=t.B?Pu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jc(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function yl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=vl(t,n);if(i==pl){4==e&&(t.h=4,Yc(14),r=!1),Wc(t.c,t.f,null,"[Incomplete Response]");break}if(i==dl){t.h=4,Yc(15),Wc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wc(t.c,t.f,i,null),Cl(t,i)}4==e&&0==n.length&&(t.h=1,Yc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vh(e),e.F=!0,Yc(11))):(Wc(t.c,t.f,n,"[Invalid Chunked Response]"),El(t),Ol(t))}function vl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?pl:(n=Number(e.substring(n,r)),isNaN(n)?dl:(r+=1)+n>e.length?pl:(e=e.substr(r,n),t.D=r+n,e))}function bl(t){t.T=vu()+t.P,wl(t,t.P)}function wl(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=el(mu(t.Va,t),e)}function _l(t){t.o&&(uu.clearTimeout(t.o),t.o=null)}function Ol(t){0==t.g.v||t.A||Fh(t.g,t)}function El(t){_l(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Lc(t.R),Bc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Cl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||rh(n.b,t)))if(n.I=t.N,!t.C&&rh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(I_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Mh(n),xh(n)}Dh(n),Yc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=el(mu(n.Sa,n),6e3));if(1>=nh(n.b)&&n.ea){try{n.ea()}catch(I_){}n.ea=void 0}}else Hh(n,11)}else if((t.C||n.a==t)&&Mh(n),!Su(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Tu(l,"spdy")||Tu(l,"quic")||Tu(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ih(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Vl(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=vu()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=zh(u,u.C?u.ga:null,u.fa),d.C){oh(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(_l(p),bl(p)),u.a=d}else Rh(u);0<n.g.length&&Ah(n)}else"stop"!=i[0]&&"close"!=i[0]||Hh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hh(n,7):Ih(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jc(4)}catch(I_){}}function Sl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(lu(t)||"string"==typeof t)Ou(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(lu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(lu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Il(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Il)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xl(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tl(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ou=hl.prototype).setTimeout=function(t){this.P=t},ou.Xa=function(t){t=t.target;var e=this.F;e&&3==Oh(t)?e.f():this.Ca(t)},ou.Ca=function(t){try{if(t==this.a)t:{var e=Oh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!qu&&!this.a.$())){this.A||4!=e||7==n||Jc(8==n||0>=r?3:2),_l(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Su(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Yc(12),El(this),Ol(this);break t}Wc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Cl(this,u)}this.I?(yl(this,e,o),qu&&this.b&&3==e&&(zc(this.J,this.R,"tick",this.Wa),this.R.start())):(Wc(this.c,this.f,o,null),Cl(this,o)),4==e&&El(this),this.b&&!this.A&&(4==e?Fh(this.g,this):(this.b=!1,bl(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Yc(12)):(this.h=0,Yc(13)),El(this),Ol(this)}}}catch(c){}},ou.Wa=function(){if(this.a){var t=Oh(this.a),e=this.a.$();this.D<e.length&&(_l(this),yl(this,t,e),this.b&&4!=t&&bl(this))}},ou.cancel=function(){this.A=!0,El(this)},ou.Va=function(){this.o=null;var t=vu();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Jc(3),Yc(17)),El(this),this.h=2,Ol(this)):wl(this,this.T-t)},(ou=Il.prototype).K=function(){xl(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ou.L=function(){return xl(this),this.a.concat()},ou.get=function(t,e){return Tl(this.b,t)?this.b[t]:e},ou.set=function(t,e){Tl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ou.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var jl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Al(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Al){this.a=void 0!==e?e:t.a,Nl(this,t.f),this.j=t.j,Pl(this,t.c),Rl(this,t.h),this.g=t.g,e=t.b;var n=new Wl;n.c=e.c,e.a&&(n.a=new Il(e.a),n.b=e.b),Dl(this,n),this.i=t.i}else t&&(n=String(t).match(jl))?(this.a=!!e,Nl(this,n[1]||"",!0),this.j=Ml(n[2]||""),Pl(this,n[3]||"",!0),Rl(this,n[4]),this.g=Ml(n[5]||"",!0),Dl(this,n[6]||"",!0),this.i=Ml(n[7]||"")):(this.a=!!e,this.b=new Wl(null,this.a))}function kl(t){return new Al(t)}function Nl(t,e,n){t.f=n?Ml(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pl(t,e,n){t.c=n?Ml(e,!0):e}function Rl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Dl(t,e,n){e instanceof Wl?(t.b=e,function(t,e){e&&!t.f&&($l(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Kl(this,e),Ql(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fl(e,Bl)),t.b=new Wl(e,t.a))}function Vl(t,e,n){t.b.set(e,n)}function Ll(t){return Vl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^vu()).toString(36)),t}function Ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ul),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ul(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Al.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fl(e,Hl,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fl(e,Hl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fl(n,"/"==n.charAt(0)?zl:ql,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fl(n,Gl)),t.join("")};var Hl=/[#\/\?@]/g,ql=/[#\?:]/g,zl=/[#\?]/g,Bl=/[#\?@]/g,Gl=/#/g;function Wl(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $l(t){t.a||(t.a=new Il,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kl(t,e){$l(t),e=Jl(t,e),Tl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tl((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xl(t)))}function Xl(t,e){return $l(t),e=Jl(t,e),Tl(t.a.b,e)}function Ql(t,e,n){Kl(t,e),0<n.length&&(t.c=null,t.a.set(Jl(t,e),Cu(n)),t.b+=n.length)}function Jl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ou=Wl.prototype).add=function(t,e){$l(this),this.c=null,t=Jl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ou.forEach=function(t,e){$l(this),this.a.forEach((function(n,r){Ou(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ou.L=function(){$l(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ou.K=function(t){$l(this);var e=[];if("string"==typeof t)Xl(this,t)&&(e=Eu(e,this.a.get(Jl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Eu(e,t[n])}return e},ou.set=function(t,e){return $l(this),this.c=null,Xl(this,t=Jl(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ou.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ou.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Zl=function(){return function(t,e){this.b=t,this.a=e}}();function Yl(t){this.g=t||th,t=uu.PerformanceNavigationTiming?0<(t=uu.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(uu.ia&&uu.ia.ya&&uu.ia.ya()&&uu.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var th=10;function eh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function nh(t){return t.b?1:t.a?t.a.size:0}function rh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ih(t,e){t.a?t.a.add(e):t.b=e}function oh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=iu(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Cu(t.c)}function ah(){}function uh(){this.a=new ah}function ch(t,e,n){var r=n||"";try{Sl(t,(function(t,n){var i=t;hu(t)&&(i=Sc(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(dO){throw e.push(r+"type="+encodeURIComponent("_badmap")),dO}}function lh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Yl.prototype.cancel=function(){var t,e;if(this.c=sh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=iu(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ah.prototype.stringify=function(t){return uu.JSON.stringify(t,void 0)},ah.prototype.parse=function(t){return uu.JSON.parse(t,void 0)};var hh=uu.JSON.parse;function fh(t){Oc.call(this),this.headers=new Il,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dh,this.D=this.F=!1}bu(fh,Oc);var dh="",ph=/^https?$/i,gh=["POST","PUT"];function mh(t){return"content-type"==t.toLowerCase()}function yh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vh(t),wh(t)}function vh(t){t.u||(t.u=!0,Ec(t,"complete"),Ec(t,"error"))}function bh(t){if(t.b&&void 0!==au&&(!t.s[1]||4!=Oh(t)||2!=t.W()))if(t.l&&4==Oh(t))Mc(t.za,0,t);else if(Ec(t,"readystatechange"),4==Oh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(jl)[1]||null;if(!o&&uu.self&&uu.self.location){var s=uu.self.location.protocol;o=s.substr(0,s.length-1)}i=!ph.test(o?o.toLowerCase():"")}e=i}if(e)Ec(t,"complete"),Ec(t,"success");else{t.h=6;try{var a=2<Oh(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",vh(t)}}finally{wh(t)}}}function wh(t,e){if(t.a){_h(t);var n=t.a,r=t.s[0]?cu:null;t.a=null,t.s=null,e||Ec(t,"ready");try{n.onreadystatechange=r}catch(dO){}}}function _h(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(uu.clearTimeout(t.m),t.m=null)}function Oh(t){return t.a?t.a.readyState:0}function Eh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Nu(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Vl(t,e,n))}function Ch(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sh(t){this.pa=0,this.g=[],this.c=new Gc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ch("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ch("baseRetryDelayMs",5e3,t),this.Ra=Ch("retryDelaySeedMs",1e4,t),this.Ma=Ch("forwardChannelMaxRetries",2,t),this.ma=Ch("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Yl(t&&t.concurrentRequestLimit),this.ka=new uh,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ih(t){if(Th(t),3==t.v){var e=t.R++,n=kl(t.B);Vl(n,"SID",t.J),Vl(n,"RID",e),Vl(n,"TYPE","terminate"),Nh(t,n),(e=new hl(t,t.c,e,void 0)).H=2,e.i=Ll(kl(n)),n=!1,uu.navigator&&uu.navigator.sendBeacon&&(n=uu.navigator.sendBeacon(e.i.toString(),"")),!n&&uu.Image&&((new Image).src=e.i,n=!0),n||(e.a=Bh(e.g,null),e.a.ba(e.i)),e.u=vu(),bl(e)}qh(t)}function xh(t){t.a&&(Vh(t),t.a.cancel(),t.a=null)}function Th(t){xh(t),t.j&&(uu.clearTimeout(t.j),t.j=null),Mh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&uu.clearTimeout(t.h),t.h=null)}function jh(t,e){t.g.push(new Zl(t.Oa++,e)),3==t.v&&Ah(t)}function Ah(t){eh(t.b)||t.h||(t.h=!0,Nc(t.Ba,t),t.u=0)}function kh(t,e){var n;n=e?e.f:t.R++;var r=kl(t.B);Vl(r,"SID",t.J),Vl(r,"RID",n),Vl(r,"AID",t.P),Nh(t,r),t.i&&t.l&&Eh(r,t.i,t.l),n=new hl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ph(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ih(t.b,n),gl(n,r,e)}function Nh(t,e){t.f&&Sl({},(function(t,n){Vl(e,n,t)}))}function Ph(t,e,n){n=Math.min(t.g.length,n);var r=t.f?mu(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ch(l,s,"req"+c+"_")}catch(xf){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rh(t){t.a||t.j||(t.T=1,Nc(t.Aa,t),t.o=0)}function Dh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=el(mu(t.Aa,t),Uh(t,t.o)),t.o++,0))}function Vh(t){null!=t.s&&(uu.clearTimeout(t.s),t.s=null)}function Lh(t){t.a=new hl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=kl(t.la);Vl(e,"RID","rpc"),Vl(e,"SID",t.J),Vl(e,"CI",t.H?"0":"1"),Vl(e,"AID",t.P),Nh(t,e),Vl(e,"TYPE","xmlhttp"),t.i&&t.l&&Eh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ll(kl(e)),n.j=null,n.I=!0,ml(n,t)}function Mh(t){null!=t.m&&(uu.clearTimeout(t.m),t.m=null)}function Fh(t,e){var n=null;if(t.a==e){Mh(t),Vh(t),t.a=null;var r=2}else{if(!rh(t.b,e))return;n=e.s,oh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=vu()-e.u;var i=t.u;Ec(r=Xc(),new tl(r,n,e,i)),Ah(t)}else Rh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(nh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=el(mu(t.Ba,t,e),Uh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Dh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hh(t,5);break;case 4:Hh(t,10);break;case 3:Hh(t,6);break;default:Hh(t,2)}}function Uh(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Hh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=mu(t.Ya,t);n||(n=new Al("//www.google.com/images/cleardot.gif"),uu.location&&"http"==uu.location.protocol||Nl(n,"https"),Ll(n)),function(t,e){var n=new Gc;if(uu.Image){var r=new Image;r.onload=yu(lh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yu(lh,n,r,"TestLoadImage: error",!1,e),r.onabort=yu(lh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yu(lh,n,r,"TestLoadImage: timeout",!1,e),uu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yc(2);t.v=0,t.f&&t.f.ra(e),qh(t),Th(t)}function qh(t){t.v=0,t.I=-1,t.f&&(0==sh(t.b).length&&0==t.g.length||(t.b.c.length=0,Cu(t.g),t.g.length=0),t.f.qa())}function zh(t,e,n){var r=function(t){return t instanceof Al?kl(t):new Al(t,void 0)}(n);if(""!=r.c)e&&Pl(r,e+"."+r.c),Rl(r,r.h);else{var i=uu.location;r=function(t,e,n,r){var i=new Al(null,void 0);return t&&Nl(i,t),e&&Pl(i,e),n&&Rl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Nu(t.V,(function(t,e){Vl(r,e,t)})),n=t.na,(e=t.A)&&n&&Vl(r,e,n),Vl(r,"VER",t.ha),Nh(t,r),r}function Bh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fh(t.Na)).F=t.C,e}function Gh(){}function Wh(){if(Uu&&!(10<=Number(Ju)))throw Error("Environmental error: no available transport.")}function $h(t,e){Oc.call(this),this.a=new Sh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Su(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Su(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Qh(this)}function Kh(t){ul.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xh(){cl.call(this),this.status=1}function Qh(t){this.a=t}(ou=fh.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:sl),this.a.onreadystatechange=mu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void yh(this,o)}t=n||"";var i=new Il(this.headers);r&&Sl(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=uu.FormData&&t instanceof uu.FormData,!(0<=_u(gh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_h(this),0<this.o&&((this.D=function(t){return Uu&&Qu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mu(this.xa,this)):this.m=Mc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){yh(this,o)}},ou.xa=function(){void 0!==au&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ec(this,"timeout"),this.abort(8))},ou.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ec(this,"complete"),Ec(this,"abort"),wh(this))},ou.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wh(this,!0)),fh.X.G.call(this)},ou.za=function(){this.j||(this.A||this.l||this.g?bh(this):this.Ua())},ou.Ua=function(){bh(this)},ou.W=function(){try{return 2<Oh(this)?this.a.status:-1}catch(Mu){return-1}},ou.$=function(){try{return this.a?this.a.responseText:""}catch(Mu){return""}},ou.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hh(e)}},ou.ua=function(){return this.h},ou.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ou=Sh.prototype).ha=8,ou.v=1,ou.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new hl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Du(r=Pu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ph(this,n,e),Vl(i=kl(this.B),"RID",t),Vl(i,"CVER",22),this.A&&Vl(i,"X-HTTP-Session-Id",this.A),Nh(this,i),this.i&&r&&Eh(i,this.i,r),ih(this.b,n),this.Ia&&Vl(i,"TYPE","init"),this.da?(Vl(i,"$req",e),Vl(i,"SID","null"),n.U=!0,gl(n,i,null)):gl(n,i,e),this.v=2}}else 3==this.v&&(t?kh(this,t):0==this.g.length||eh(this.b)||kh(this))},ou.Aa=function(){if(this.j=null,Lh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=el(mu(this.Ta,this),t)}},ou.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Yc(10),xh(this),Lh(this))},ou.Sa=function(){null!=this.m&&(this.m=null,xh(this),Dh(this),Yc(19))},ou.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Yc(2)):(this.c.info("Failed to ping google.com"),Yc(1))},(ou=Gh.prototype).ta=function(){},ou.sa=function(){},ou.ra=function(){},ou.qa=function(){},ou.Ja=function(){},Wh.prototype.a=function(t,e){return new $h(t,e)},bu($h,Oc),$h.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Yc(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=zh(t,null,t.fa),Ah(t)},$h.prototype.close=function(){Ih(this.a)},$h.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,jh(this.a,e)}else this.l?((e={}).__data__=Sc(t),jh(this.a,e)):jh(this.a,t)},$h.prototype.G=function(){this.a.f=null,delete this.f,Ih(this.a),delete this.a,$h.X.G.call(this)},bu(Kh,ul),bu(Xh,cl),bu(Qh,Gh),Qh.prototype.ta=function(){Ec(this.a,"a")},Qh.prototype.sa=function(t){Ec(this.a,new Kh(t))},Qh.prototype.ra=function(t){Ec(this.a,new Xh(t))},Qh.prototype.qa=function(){Ec(this.a,"b")},Wh.prototype.createWebChannel=Wh.prototype.a,$h.prototype.send=$h.prototype.h,$h.prototype.open=$h.prototype.g,$h.prototype.close=$h.prototype.close,nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,rl.COMPLETE="complete",ol.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",Oc.prototype.listen=Oc.prototype.va,fh.prototype.listenOnce=fh.prototype.wa,fh.prototype.getLastError=fh.prototype.Qa,fh.prototype.getLastErrorCode=fh.prototype.ua,fh.prototype.getStatus=fh.prototype.W,fh.prototype.getResponseJson=fh.prototype.Pa,fh.prototype.getResponseText=fh.prototype.$,fh.prototype.send=fh.prototype.ba;var Jh=nl,Zh=rl,Yh=$c,tf=ol,ef=fh,nf=n("30Go"),rf=new eu.b("@firebase/firestore");function of(){return rf.logLevel}function sf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rf.logLevel<=eu.a.DEBUG){var r=e.map(cf);rf.debug.apply(rf,Object(nf.g)(["Firestore (8.2.1): "+t],r))}}function af(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rf.logLevel<=eu.a.ERROR){var r=e.map(cf);rf.error.apply(rf,Object(nf.g)(["Firestore (8.2.1): "+t],r))}}function uf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(rf.logLevel<=eu.a.WARN){var r=e.map(cf);rf.warn.apply(rf,Object(nf.g)(["Firestore (8.2.1): "+t],r))}}function cf(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(dO){return t}}function lf(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function hf(t,e){t||lf()}function ff(t,e){return t}function df(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var pf=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=df(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function gf(t,e){return t<e?-1:t>e?1:0}function mf(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function yf(t){return t+"\0"}var vf=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return gf(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();vf.h=new vf("");var bf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(nf.c)(e,t),e}(Error),_f=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(vf.fromBase64String(e))}catch(e){throw new wf(bf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(vf.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Of=function(t){this._=t};function Ef(){if("undefined"==typeof Uint8Array)throw new wf(bf.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cf(){if("undefined"==typeof atob)throw new wf(bf.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.fromBase64String=function(t){return Cf(),new e(_f.fromBase64String(t))},e.fromUint8Array=function(t){return Ef(),new e(_f.fromUint8Array(t))},e.prototype.toBase64=function(){return Cf(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ef(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Of),If=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},xf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Tf=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Tf.UNAUTHENTICATED=new Tf(null),Tf.P=new Tf("google-credentials-uid"),Tf.g=new Tf("first-party-uid");var jf=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Af=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Tf.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),kf=function(){function t(t){var e=this;this.C=null,this.currentUser=Tf.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(sf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(hf("string"==typeof n.accessToken),new jf(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return hf(null===t||"string"==typeof t),new Tf(t)},t}(),Nf=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Tf.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Pf=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Nf(this.k,this.M))},t.prototype.S=function(t){t(Tf.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Rf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Rf.U=-1;var Df=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wf(bf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wf(bf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new wf(bf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wf(bf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?gf(this.nanoseconds,t.nanoseconds):gf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vf=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Df(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Lf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&lf(),void 0===n?n=t.length-e:n>t.length-e&&lf(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new wf(bf.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(Lf),Ff=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Ff.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new wf(bf.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new wf(bf.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wf(bf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new wf(bf.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Lf),Hf=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Mf.ct(e))},t.dt=function(e){return new t(Mf.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Mf.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Mf.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Mf(e.slice()))},t}();function qf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gf=function(){function t(t){this.fields=t,t.sort(Uf.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return mf(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Wf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $f(t){if(hf(!!t),"string"==typeof t){var e=0,n=Wf.exec(t);if(hf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kf(t.seconds),nanos:Kf(t.nanos)}}function Kf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xf(t){return"string"==typeof t?vf.fromBase64String(t):vf.fromUint8Array(t)}function Qf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jf(t){var e=$f(t.mapValue.fields.__local_write_time__.timestampValue);return new Df(e.seconds,e.nanos)}function Zf(t){return null==t}function Yf(t){return 0===t&&1/t==-1/0}function td(t){return"number"==typeof t&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ed(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qf(t)?4:10:lf()}function nd(t,e){var n=ed(t);if(n!==ed(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jf(t).isEqual(Jf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$f(t.timestampValue),r=$f(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xf(t.bytesValue).isEqual(Xf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Kf(t.geoPointValue.latitude)===Kf(e.geoPointValue.latitude)&&Kf(t.geoPointValue.longitude)===Kf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Kf(t.integerValue)===Kf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Kf(t.doubleValue),r=Kf(e.doubleValue);return n===r?Yf(n)===Yf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return mf(t.arrayValue.values||[],e.arrayValue.values||[],nd);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(qf(n)!==qf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nd(n[i],r[i])))return!1;return!0}(t,e);default:return lf()}}function rd(t,e){return void 0!==(t.values||[]).find((function(t){return nd(t,e)}))}function id(t,e){var n=ed(t),r=ed(e);if(n!==r)return gf(n,r);switch(n){case 0:return 0;case 1:return gf(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Kf(t.integerValue||t.doubleValue),r=Kf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return od(t.timestampValue,e.timestampValue);case 4:return od(Jf(t),Jf(e));case 5:return gf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Xf(t),r=Xf(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=gf(n[i],r[i]);if(0!==o)return o}return gf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=gf(Kf(t.latitude),Kf(e.latitude));return 0!==n?n:gf(Kf(t.longitude),Kf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=id(n[i],r[i]);if(o)return o}return gf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=gf(r[s],o[s]);if(0!==a)return a;var u=id(n[r[s]],i[o[s]]);if(0!==u)return u}return gf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw lf()}}function od(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return gf(t,e);var n=$f(t),r=$f(e),i=gf(n.seconds,r.seconds);return 0!==i?i:gf(n.nanos,r.nanos)}function sd(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=$f(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xf(e.bytesValue).toBase64():"referenceValue"in e?Hf.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):lf();var n}(t)}function ad(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function ud(t){return!!t&&"integerValue"in t}function cd(t){return!!t&&"arrayValue"in t}function ld(t){return!!t&&"nullValue"in t}function hd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fd(t){return!!t&&"mapValue"in t}var dd=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!fd(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return nd(this.proto,t.proto)},t}(),pd=function(){function t(t){void 0===t&&(t=dd.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ed(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Uf.at(),this.Rt);return null!=t?new dd(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=fd(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function gd(t){var e=[];return zf(t.fields||{},(function(t,n){var r=new Uf([t]);if(fd(n)){var i=gd(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Gf(e)}var md=function(t,e){this.key=t,this.version=e},yd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(nf.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(md),vd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(nf.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(md),bd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(md),wd=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function _d(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new wd(t,e,n,r,i,o,s)}function Od(t){var e=ff(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+sd(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Dd(e.startAt)),e.endAt&&(n+="|ub:",n+=Dd(e.endAt)),e.St=n}return e.St}function Ed(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ld(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!nd(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fd(t.startAt,e.startAt)&&Fd(t.endAt,e.endAt)}function Cd(t){return Hf.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(nf.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Id(t,n,r):"array-contains"===n?new Ad(t,r):"in"===n?new kd(t,r):"not-in"===n?new Nd(t,r):"array-contains-any"===n?new Pd(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new xd(t,n):new Td(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(id(e,this.value)):null!==e&&ed(this.value)===ed(e)&&this.Ct(id(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return lf()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Id=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Hf.dt(r.referenceValue),i}return Object(nf.c)(e,t),e.prototype.matches=function(t){var e=Hf.J(t.key,this.key);return this.Ct(e)},e}(Sd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=jd(0,n),r}return Object(nf.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Sd),Td=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=jd(0,n),r}return Object(nf.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Sd);function jd(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Hf.dt(t.referenceValue)}))}var Ad=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(nf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return cd(e)&&rd(e.arrayValue,this.value)},e}(Sd),kd=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(nf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&rd(this.value.arrayValue,e)},e}(Sd),Nd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(nf.c)(e,t),e.prototype.matches=function(t){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!rd(this.value.arrayValue,e)},e}(Sd),Pd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(nf.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!cd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return rd(e.value.arrayValue,t)}))},e}(Sd),Rd=function(t,e){this.position=t,this.before=e};function Dd(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return sd(t)})).join(",")}var Vd=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ld(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Md(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?Hf.J(Hf.dt(s.referenceValue),n.key):id(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!nd(t.position[n],e.position[n]))return!1;return!0}var Ud=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function Hd(t,e,n,r,i,o,s,a){return new Ud(t,e,n,r,i,o,s,a)}function qd(t){return new Ud(t)}function zd(t){return!Zf(t.limit)&&"F"===t.limitType}function Bd(t){return!Zf(t.limit)&&"L"===t.limitType}function Gd(t){return t.Nt.length>0?t.Nt[0].field:null}function Wd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function $d(t){return null!==t.collectionGroup}function Kd(t){var e=ff(t);if(null===e.Ft){e.Ft=[];var n=Wd(e),r=Gd(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new Vd(n)),e.Ft.push(new Vd(Uf.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new Vd(Uf.lt(),u))}}}return e.Ft}function Xd(t){var e=ff(t);if(!e.Ot)if("F"===e.limitType)e.Ot=_d(e.path,e.collectionGroup,Kd(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kd(e);r<i.length;r++){var o=i[r];n.push(new Vd(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Rd(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Rd(e.startAt.position,!e.startAt.before):null;e.Ot=_d(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function Qd(t,e,n){return new Ud(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jd(t,e){return Ed(Xd(t),Xd(e))&&t.limitType===e.limitType}function Zd(t){return Od(Xd(t))+"|lt:"+t.limitType}function Yd(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+sd(e.value);var e})).join(", ")+"]"),Zf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Dd(t.startAt)),t.endAt&&(e+=", endAt: "+Dd(t.endAt)),"Target("+e+")"}(Xd(t))+"; limitType="+t.limitType+")"}function tp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Hf.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Md(t.startAt,Kd(t),e)||t.endAt&&Md(t.endAt,Kd(t),e))}(t,e)}function ep(t){return function(e,n){for(var r=!1,i=0,o=Kd(t);i<o.length;i++){var s=o[i],a=np(s,e,n);if(0!==a)return a;r=r||s.field.ht()}return 0}}function np(t,e,n){var r=t.field.ht()?Hf.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?id(r,i):lf()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return lf()}}var rp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vf.min()),void 0===o&&(o=Vf.min()),void 0===s&&(s=vf.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function ip(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function op(t){return{integerValue:""+t}}function sp(t,e){return td(e)?op(e):ip(t,e)}var ap=function(){this.Ut=void 0};function up(t,e,n){return t instanceof hp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof fp?dp(t,e):t instanceof pp?gp(t,e):function(t,e){var n=lp(t,e),r=yp(n)+yp(t.Qt);return ud(n)&&ud(t.Qt)?op(r):ip(t.Kt,r)}(t,e)}function cp(t,e,n){return t instanceof fp?dp(t,e):t instanceof pp?gp(t,e):n}function lp(t,e){return t instanceof mp?ud(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e}(ap),fp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(nf.c)(e,t),e}(ap);function dp(t,e){for(var n=vp(e),r=function(t){n.some((function(e){return nd(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(nf.c)(e,t),e}(ap);function gp(t,e){for(var n=vp(e),r=function(t){n=n.filter((function(e){return!nd(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(nf.c)(e,t),e}(ap);function yp(t){return Kf(t.integerValue||t.doubleValue)}function vp(t){return cd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var bp=function(t,e){this.field=t,this.transform=e},wp=function(t,e){this.version=t,this.transformResults=e},_p=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Op(t,e){return void 0!==t.updateTime?e instanceof yd&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof yd}var Ep=function(){};function Cp(t,e,n){return t instanceof jp?function(t,e,n){var r=t.value;if(n.transformResults){var i=Np(t.fieldTransforms,e,n.transformResults);r=Rp(t.fieldTransforms,r,i)}return new yd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ap?function(t,e,n){if(!Op(t.Gt,e))return new bd(t.key,n.version);var r=kp(t,e,n.transformResults?Np(t.fieldTransforms,e,n.transformResults):[]);return new yd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new vd(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Sp(t,e,n,r){return t instanceof jp?function(t,e,n,r){if(!Op(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var o=Pp(t.fieldTransforms,n,e,r);i=Rp(t.fieldTransforms,i,o)}var s=Tp(e);return new yd(t.key,s,i,{bt:!0})}(t,e,r,n):t instanceof Ap?function(t,e,n,r){if(!Op(t.Gt,e))return e;var i=Tp(e),o=kp(t,e,Pp(t.fieldTransforms,n,e,r));return new yd(t.key,i,o,{bt:!0})}(t,e,r,n):function(t,e){return Op(t.Gt,e)?new vd(t.key,Vf.min()):e}(t,e)}function Ip(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof yd?e.field(o.field):void 0,a=lp(o.transform,s||null);null!=a&&(n=null==n?(new pd).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function xp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&mf(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof fp&&e instanceof fp||t instanceof pp&&e instanceof pp?mf(t.elements,e.elements,nd):t instanceof mp&&e instanceof mp?nd(t.Qt,e.Qt):t instanceof hp&&e instanceof hp}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Tp(t){return t instanceof yd?t.version:Vf.min()}var jp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(nf.c)(e,t),e}(Ep),Ap=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(nf.c)(e,t),e}(Ep);function kp(t,e,n){var r;return r=function(t,e){var n=new pd(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof yd?e.data():dd.empty()),Rp(t.fieldTransforms,r,n)}function Np(t,e,n){var r=[];hf(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof yd&&(a=e.field(o.field)),r.push(cp(s,a,n[i]))}return r}function Pp(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof yd&&(c=n.field(a.field)),null===c&&r instanceof yd&&(c=r.field(a.field)),i.push(up(u,c,e))}return i}function Rp(t,e,n){for(var r=new pd(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Dp,Vp,Lp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(nf.c)(e,t),e}(Ep),Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(nf.c)(e,t),e}(Ep),Fp=function(t){this.count=t};function Up(t){switch(t){case bf.OK:return lf();case bf.CANCELLED:case bf.UNKNOWN:case bf.DEADLINE_EXCEEDED:case bf.RESOURCE_EXHAUSTED:case bf.INTERNAL:case bf.UNAVAILABLE:case bf.UNAUTHENTICATED:return!1;case bf.INVALID_ARGUMENT:case bf.NOT_FOUND:case bf.ALREADY_EXISTS:case bf.PERMISSION_DENIED:case bf.FAILED_PRECONDITION:case bf.ABORTED:case bf.OUT_OF_RANGE:case bf.UNIMPLEMENTED:case bf.DATA_LOSS:return!0;default:return lf()}}function Hp(t){if(void 0===t)return af("GRPC error has no .code"),bf.UNKNOWN;switch(t){case Dp.OK:return bf.OK;case Dp.CANCELLED:return bf.CANCELLED;case Dp.UNKNOWN:return bf.UNKNOWN;case Dp.DEADLINE_EXCEEDED:return bf.DEADLINE_EXCEEDED;case Dp.RESOURCE_EXHAUSTED:return bf.RESOURCE_EXHAUSTED;case Dp.INTERNAL:return bf.INTERNAL;case Dp.UNAVAILABLE:return bf.UNAVAILABLE;case Dp.UNAUTHENTICATED:return bf.UNAUTHENTICATED;case Dp.INVALID_ARGUMENT:return bf.INVALID_ARGUMENT;case Dp.NOT_FOUND:return bf.NOT_FOUND;case Dp.ALREADY_EXISTS:return bf.ALREADY_EXISTS;case Dp.PERMISSION_DENIED:return bf.PERMISSION_DENIED;case Dp.FAILED_PRECONDITION:return bf.FAILED_PRECONDITION;case Dp.ABORTED:return bf.ABORTED;case Dp.OUT_OF_RANGE:return bf.OUT_OF_RANGE;case Dp.UNIMPLEMENTED:return bf.UNIMPLEMENTED;case Dp.DATA_LOSS:return bf.DATA_LOSS;default:return lf()}}(Vp=Dp||(Dp={}))[Vp.OK=0]="OK",Vp[Vp.CANCELLED=1]="CANCELLED",Vp[Vp.UNKNOWN=2]="UNKNOWN",Vp[Vp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vp[Vp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vp[Vp.NOT_FOUND=5]="NOT_FOUND",Vp[Vp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vp[Vp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vp[Vp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vp[Vp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vp[Vp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vp[Vp.ABORTED=10]="ABORTED",Vp[Vp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vp[Vp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vp[Vp.INTERNAL=13]="INTERNAL",Vp[Vp.UNAVAILABLE=14]="UNAVAILABLE",Vp[Vp.DATA_LOSS=15]="DATA_LOSS";var qp=function(){function t(t,e){this.J=t,this.root=e||Bp.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Bp.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Bp.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new zp(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new zp(this.root,t,this.J,!1)},t.prototype.se=function(){return new zp(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new zp(this.root,t,this.J,!0)},t}(),zp=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Bp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw lf();if(this.right._e())throw lf();var t=this.left.me();if(t!==this.right.me())throw lf();return t+(this._e()?0:1)},t}();Bp.EMPTY=null,Bp.RED=!0,Bp.Jt=!1,Bp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw lf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw lf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw lf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw lf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw lf()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Bp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Gp=function(){function t(t){this.J=t,this.data=new qp(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Wp(this.data.ee())},t.prototype.ne=function(t){return new Wp(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Wp=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),$p=new qp(Hf.J);function Kp(){return $p}function Xp(){return Kp()}var Qp=new qp(Hf.J);function Jp(){return Qp}var Zp=new qp(Hf.J);function Yp(){return Zp}var tg=new Gp(Hf.J);function eg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=tg,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ng=new Gp(gf);function rg(){return ng}var ig=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Hf.J(e.key,n.key)}:function(t,e){return Hf.J(t.key,e.key)},this.Ve=Jp(),this.pe=new qp(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),og=function(){function t(){this.ve=new qp(Hf.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):lf():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),sg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ig.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Jd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ag=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,ug.Be(e,n)),new t(Vf.min(),r,rg(),Kp(),eg())},t}(),ug=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(vf.h,n,eg(),eg(),eg())},t}(),cg=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},lg=function(t,e){this.targetId=t,this.Ge=e},hg=function(t,e,n,r){void 0===n&&(n=vf.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},fg=function(){function t(){this.ze=0,this.He=gg(),this.Je=vf.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=eg(),e=eg(),n=eg();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:lf()}})),new ug(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=gg()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),dg=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Kp(),this.fn=pg(),this.dn=new Gp(gf)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof yd?this.En(r,t.je):t.je instanceof vd&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:lf()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Cd(i))if(0===n){var o=new Hf(i.path);this.Tn(e,o,new vd(o,Vf.min()))}else hf(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Cd(o.target)){var s=new Hf(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new vd(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=eg();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ag(t,n,this.dn,this._n,r);return this._n=Kp(),this.fn=pg(),this.dn=new Gp(gf),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new fg,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Gp(gf),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||sf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new fg),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function pg(){return new qp(Hf.J)}function gg(){return new qp(Hf.J)}var mg={asc:"ASCENDING",desc:"DESCENDING"},yg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vg=function(t,e){this.T=t,this.qt=e};function bg(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function wg(t,e){return t.qt?e.toBase64():e.toUint8Array()}function _g(t,e){return bg(t,e.G())}function Og(t){return hf(!!t),Vf.W(function(t){var e=$f(t);return new Df(e.seconds,e.nanos)}(t))}function Eg(t,e){return function(t){return new Mf(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Cg(t){var e=Mf.ct(t);return hf($g(e)),e}function Sg(t,e){return Eg(t.T,e.path)}function Ig(t,e){var n=Cg(e);if(n.get(1)!==t.T.projectId)throw new wf(bf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new wf(bf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Hf(Ag(n))}function xg(t,e){return Eg(t.T,e)}function Tg(t){var e=Cg(t);return 4===e.length?Mf.at():Ag(e)}function jg(t){return new Mf(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Ag(t){return hf(t.length>4&&"documents"===t.get(4)),t.X(5)}function kg(t,e,n){return{name:Sg(t,e),fields:n.proto.mapValue.fields}}function Ng(t,e,n){var r=Ig(t,e.name),i=Og(e.updateTime),o=new dd({mapValue:{fields:e.fields}});return new yd(r,i,o,{hasCommittedMutations:!!n})}function Pg(t,e){var n;if(e instanceof jp)n={update:kg(t,e.key,e.value)};else if(e instanceof Lp)n={delete:Sg(t,e.key)};else if(e instanceof Ap)n={update:kg(t,e.key,e.data),updateMask:Wg(e.zt)};else{if(!(e instanceof Mp))return lf();n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof hp)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof fp)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof pp)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof mp)return{fieldPath:e.field.ot(),increment:n.Qt};throw lf()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:_g(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:lf()}(t,e.Gt)),n}function Rg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_p.updateTime(Og(t.updateTime)):void 0!==t.exists?_p.exists(t.exists):_p.Wt()}(e.currentDocument):_p.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(hf("REQUEST_TIME"===e.setToServerValue),n=new hp):"appendMissingElements"in e?n=new fp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new pp(e.removeAllFromArray.values||[]):"increment"in e?n=new mp(t,e.increment):lf();var r=Uf._t(e.fieldPath);return new bp(r,n)}(t,e)})):[];if(e.update){var i=Ig(t,e.update.name),o=new dd({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Gf((t.fieldPaths||[]).map((function(t){return Uf._t(t)})))}(e.updateMask);return new Ap(i,o,s,n,r)}return new jp(i,o,n,r)}if(e.delete){var a=Ig(t,e.delete);return new Lp(a,n)}if(e.verify){var u=Ig(t,e.verify);return new Mp(u,n)}return lf()}function Dg(t,e){return{documents:[xg(t,e.path)]}}function Vg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xg(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(hd(t.value))return{unaryFilter:{field:qg(t.field),op:"IS_NAN"}};if(ld(t.value))return{unaryFilter:{field:qg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hd(t.value))return{unaryFilter:{field:qg(t.field),op:"IS_NOT_NAN"}};if(ld(t.value))return{unaryFilter:{field:qg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qg(t.field),op:Hg(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:qg(t.field),direction:Ug(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Zf(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Mg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Mg(e.endAt)),n}function Lg(t){var e=Tg(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Gg(e)]:void 0!==e.fieldFilter?[Bg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):lf():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Vd(zg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Zf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Fg(n.startAt));var l=null;return n.endAt&&(l=Fg(n.endAt)),Hd(e,i,a,s,u,"F",c,l)}function Mg(t){return{before:t.before,values:t.position}}function Fg(t){return new Rd(t.values||[],!!t.before)}function Ug(t){return mg[t]}function Hg(t){return yg[t]}function qg(t){return{fieldPath:t.ot()}}function zg(t){return Uf._t(t.fieldPath)}function Bg(t){return Sd.create(zg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return lf()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=zg(t.unaryFilter.field);return Sd.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=zg(t.unaryFilter.field);return Sd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zg(t.unaryFilter.field);return Sd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zg(t.unaryFilter.field);return Sd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return lf()}}function Wg(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function $g(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Kg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Xg=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&lf(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Qg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Kg,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Yg(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=im(e.target.error);n.qn.reject(new Yg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Yg(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(sf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new em(e)},t}(),Jg=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(nu.g)())&&af("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return sf("SimpleDb","Removing database:",t),nm(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(nu.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(sf("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Yg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new wf(bf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Yg(t,n))},i.onupgradeneeded=function(t){sf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){sf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(nf.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(nf.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(nf.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Qg.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Xg.reject(t)})).Mn(),u={},s.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return sf("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Zg=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return nm(this.ts.delete())},t}(),Yg=function(t){function e(e,n){var r=this;return(r=t.call(this,bf.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(nf.c)(e,t),e}(wf);function tm(t){return"IndexedDbTransactionError"===t.name}var em=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(sf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(sf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),nm(n)},t.prototype.add=function(t){return sf("SimpleDb","ADD",this.store.name,t,t),nm(this.store.add(t))},t.prototype.get=function(t){var e=this;return nm(this.store.get(t)).next((function(n){return void 0===n&&(n=null),sf("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return sf("SimpleDb","DELETE",this.store.name,t),nm(this.store.delete(t))},t.prototype.count=function(){return sf("SimpleDb","COUNT",this.store.name),nm(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){sf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Xg((function(n,r){e.onerror=function(t){var e=im(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Xg((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Zg(i),s=e(i.primaryKey,i.value,o);if(s instanceof Xg){var a=s.catch((function(t){return o.done(),Xg.reject(t)}));n.push(a)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return Xg.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function nm(t){return new Xg((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=im(t.target.error);n(e)}}))}var rm=!1;function im(t){var e=Jg.Kn(Object(nu.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new wf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rm||(rm=!0,setTimeout((function(){throw r}),0)),r}}return t}var om=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Kg,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new wf(bf.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function sm(t,e){if(af("AsyncQueue",e+": "+t),tm(t))return new wf(bf.UNAVAILABLE,e+": "+t);throw t}var am=function(t,e){this.progress=t,this.gs=e},um="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cm=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach((function(t){return t()}))},t}();function lm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=fm(e)),e=hm(t.get(n),e);return fm(e)}function hm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function fm(t){return t+"\x01\x01"}function dm(t){var e=t.length;if(hf(e>=2),2===e)return hf("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Mf.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&lf(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:lf()}o=s+2}return new Mf(r)}var pm=function(t,e){this.seconds=t,this.nanoseconds=e},gm=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};gm.store="owner",gm.key="owner";var mm=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mm.store="mutationQueues",mm.keyPath="userId";var ym=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ym.store="mutations",ym.keyPath="batchId",ym.userMutationsIndex="userMutationsIndex",ym.userMutationsKeyPath=["userId","batchId"];var vm=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,lm(e)]},t.key=function(t,e,n){return[t,lm(e),n]},t}();vm.store="documentMutations",vm.PLACEHOLDER=new vm;var bm=function(t,e){this.path=t,this.readTime=e},wm=function(t,e){this.path=t,this.version=e},_m=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};_m.store="remoteDocuments",_m.readTimeIndex="readTimeIndex",_m.readTimeIndexPath="readTime",_m.collectionReadTimeIndex="collectionReadTimeIndex",_m.collectionReadTimeIndexPath=["parentPath","readTime"];var Om=function(t){this.byteSize=t};Om.store="remoteDocumentGlobal",Om.key="remoteDocumentGlobalKey";var Em=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Em.store="targets",Em.keyPath="targetId",Em.queryTargetsIndexName="queryTargetsIndex",Em.queryTargetsKeyPath=["canonicalId","targetId"];var Cm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Cm.store="targetDocuments",Cm.keyPath=["targetId","path"],Cm.documentTargetsIndex="documentTargetsIndex",Cm.documentTargetsKeyPath=["path","targetId"];var Sm=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Sm.key="targetGlobalKey",Sm.store="targetGlobal";var Im=function(t,e){this.collectionId=t,this.parent=e};Im.store="collectionParents",Im.keyPath=["collectionId","parent"];var xm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};xm.store="clientMetadata",xm.keyPath="clientId";var Tm=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tm.store="bundles",Tm.keyPath="bundleId";var jm=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jm.store="namedQueries",jm.keyPath="name";var Am=Object(nf.g)(Object(nf.g)(Object(nf.g)(Object(nf.g)([mm.store,ym.store,vm.store,_m.store,Em.store,gm.store,Sm.store,Cm.store],[xm.store]),[Om.store]),[Im.store]),[Tm.store,jm.store]),km=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(nf.c)(e,t),e}(cm);function Nm(t,e){var n=ff(t);return Jg.Hn(n.vs,e)}var Pm=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Cp(o,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Sp(i,e,e,this.Ds))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Sp(u,e,o,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),eg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&mf(this.mutations,t.mutations,(function(t,e){return xp(t,e)}))&&mf(this.baseMutations,t.baseMutations,(function(t,e){return xp(t,e)}))},t}(),Rm=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){hf(e.mutations.length===r.length);for(var i=Yp(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Dm=function(t){this.Ms=t};function Vm(t,e){if(e.document)return Ng(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Hf.Tt(e.noDocument.path),r=Hm(e.noDocument.readTime);return new vd(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Hf.Tt(e.unknownDocument.path);return r=Hm(e.unknownDocument.version),new bd(i,r)}return lf()}function Lm(t,e,n){var r=Mm(n),i=e.key.path.Z().rt();if(e instanceof yd){var o=function(t,e){return{name:Sg(t,e.key),fields:e.vt().mapValue.fields,updateTime:bg(t,e.version.G())}}(t.Ms,e),s=e.hasCommittedMutations;return new _m(null,null,o,s,r,i)}if(e instanceof vd){var a=e.key.path.rt(),u=Um(e.version);return s=e.hasCommittedMutations,new _m(null,new bm(a,u),null,s,r,i)}if(e instanceof bd){var c=e.key.path.rt(),l=Um(e.version);return new _m(new wm(c,l),null,null,!0,r,i)}return lf()}function Mm(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Fm(t){var e=new Df(t[0],t[1]);return Vf.W(e)}function Um(t){var e=t.G();return new pm(e.seconds,e.nanoseconds)}function Hm(t){var e=new Df(t.seconds,t.nanoseconds);return Vf.W(e)}function qm(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Rg(t.Ms,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return Rg(t.Ms,e)})),s=Df.fromMillis(e.localWriteTimeMs);return new Pm(e.batchId,s,n,o)}function zm(t){var e,n,r=Hm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Hm(t.lastLimboFreeSnapshotVersion):Vf.min();return void 0!==t.query.documents?(hf(1===(n=t.query).documents.length),e=Xd(qd(Tg(n.documents[0])))):e=function(t){return Xd(Lg(t))}(t.query),new rp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,vf.fromBase64String(t.resumeToken))}function Bm(t,e){var n,r=Um(e.Mt),i=Um(e.lastLimboFreeSnapshotVersion);n=Cd(e.target)?Dg(t.Ms,e.target):Vg(t.Ms,e.target);var o=e.resumeToken.toBase64();return new Em(e.targetId,Od(e.target),r,o,e.sequenceNumber,i,n)}function Gm(t){var e=Lg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Qd(e,e.limit,"L"):e}var Wm=function(){function t(){}return t.prototype.Ls=function(t,e){return $m(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Hm(e.createTime),version:e.version};var e}))},t.prototype.$s=function(t,e){return $m(t).put({bundleId:(n=e).id,createTime:Um(Og(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return Km(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Gm(e.bundledQuery),readTime:Hm(e.readTime)};var e}))},t.prototype.qs=function(t,e){return Km(t).put(function(t){return{name:t.name,readTime:Um(Og(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function $m(t){return Nm(t,Tm.store)}function Km(t){return Nm(t,jm.store)}var Xm=function(){function t(){this.Us=new Qm}return t.prototype.Qs=function(t,e){return this.Us.add(e),Xg.resolve()},t.prototype.Ks=function(t,e){return Xg.resolve(this.Us.getEntries(e))},t}(),Qm=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Gp(Mf.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Gp(Mf.J)).rt()},t}(),Jm=function(){function t(){this.Ws=new Qm}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps((function(){n.Ws.add(e)}));var o={collectionId:r,parent:lm(i)};return Zm(t).put(o)}return Xg.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[yf(e),""],!1,!0);return Zm(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(dm(o.parent))}return n}))},t}();function Zm(t){return Nm(t,Im.store)}var Ym={js:!1,Gs:0,zs:0,Hs:0},ty=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function ey(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){if(t.code!==bf.FAILED_PRECONDITION||t.message!==um)throw t;return sf("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}ty.ti=10,ty.ei=1e3,ty.ni=new ty(41943040,ty.ti,ty.ei),ty.si=new ty(-1,0,0);var ny=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ri(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){zf(this.oi,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return Bf(this.oi)},t}(),ry=function(){function t(){this.ci=new ny((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Vf.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?Xg.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function iy(t,e,n){var r=t.store(ym.store),i=t.store(vm.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){hf(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=vm.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Xg.$n(o).next((function(){return c}))}function oy(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw lf();e=t.noDocument}return JSON.stringify(e).length}var sy=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return hf(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uy(t).ls({index:ym.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.yi=function(t,e,n,r){var i=this,o=cy(t),s=uy(t);return s.add({}).next((function(a){hf("number"==typeof a);for(var u=new Pm(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Pg(t.Ms,e)})),i=n.mutations.map((function(e){return Pg(t.Ms,e)}));return new ym(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Gp((function(t,e){return gf(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=vm.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,vm.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ii.Qs(t,e))})),t.ps((function(){i.Ai[a]=u.keys()})),Xg.$n(l).next((function(){return u}))}))},t.prototype.gi=function(t,e){var n=this;return uy(t).get(e).next((function(t){return t?(hf(t.userId===n.userId),qm(n.Kt,t)):null}))},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?Xg.resolve(this.Ai[e]):this.gi(t,e).next((function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null}))},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return uy(t).ls({index:ym.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(hf(e.batchId>=r),o=qm(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uy(t).ls({index:ym.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uy(t).os(ym.userMutationsIndex,n).next((function(t){return t.map((function(t){return qm(e.Kt,t)}))}))},t.prototype.Si=function(t,e){var n=this,r=vm.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return cy(t).ls({range:i},(function(r,i,s){var a=r[0],u=r[2],c=dm(r[1]);if(a===n.userId&&e.path.isEqual(c))return uy(t).get(u).next((function(t){if(!t)throw lf();hf(t.userId===n.userId),o.push(qm(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Di=function(t,e){var n=this,r=new Gp(gf),i=[];return e.forEach((function(e){var o=vm.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=cy(t).ls({range:s},(function(t,i,o){var s=t[0],a=t[2],u=dm(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Xg.$n(i).next((function(){return n.Ci(t,r)}))},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,o=vm.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Gp(gf);return cy(t).ls({range:s},(function(t,e,o){var s=t[0],u=t[2],c=dm(t[1]);s===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Ci(t,a)}))},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(uy(t).get(e).next((function(t){if(null===t)throw lf();hf(t.userId===n.userId),r.push(qm(n.Kt,t))})))})),Xg.$n(i).next((function(){return r}))},t.prototype.Ni=function(t,e){var n=this;return iy(t.vs,this.userId,e).next((function(r){return t.ps((function(){n.Fi(e.batchId)})),Xg.forEach(r,(function(e){return n.mi.Oi(t,e)}))}))},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next((function(n){if(!n)return Xg.resolve();var r=IDBKeyRange.lowerBound(vm.prefixForUser(e.userId)),i=[];return cy(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=dm(t[1]);i.push(o)}else r.done()})).next((function(){hf(0===i.length)}))}))},t.prototype.Mi=function(t,e){return ay(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return ly(t).get(this.userId).next((function(t){return t||new mm(e.userId,-1,"")}))},t}();function ay(t,e,n){var r=vm.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return cy(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function uy(t){return Nm(t,ym.store)}function cy(t){return Nm(t,vm.store)}function ly(t){return Nm(t,mm.store)}var hy=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),fy=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next((function(n){var r=new hy(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Wi=function(t){return this.Qi(t).next((function(t){return Vf.W(new Df(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)}))},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next((function(){return n.Qi(t).next((function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)}))}))},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next((function(){return dy(t).delete(e.targetId)})).next((function(){return n.Qi(t)})).next((function(e){return hf(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)}))},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return dy(t).ls((function(s,a){var u=zm(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Xi(t,u)))})).next((function(){return Xg.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return dy(t).ls((function(t,n){var r=zm(n);e(r)}))},t.prototype.Qi=function(t){return py(t).get(Sm.key).next((function(t){return hf(null!==t),t}))},t.prototype.Ki=function(t,e){return py(t).put(Sm.key,e)},t.prototype.Hi=function(t,e){return dy(t).put(Bm(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next((function(t){return t.targetCount}))},t.prototype.nr=function(t,e){var n=Od(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dy(t).ls({range:r,index:Em.queryTargetsIndexName},(function(t,n,r){var o=zm(n);Ed(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.sr=function(t,e,n){var r=this,i=[],o=gy(t);return e.forEach((function(e){var s=lm(e.path);i.push(o.put(new Cm(n,s))),i.push(r.mi.ir(t,n,e))})),Xg.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=gy(t);return Xg.forEach(e,(function(e){var o=lm(e.path);return Xg.$n([i.delete([n,o]),r.mi.cr(t,n,e)])}))},t.prototype.Zi=function(t,e){var n=gy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=gy(t),i=eg();return r.ls({range:n,hs:!0},(function(t,e,n){var r=dm(t[1]),o=new Hf(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Mi=function(t,e){var n=lm(e.path),r=IDBKeyRange.bound([n],[yf(n)],!1,!0),i=0;return gy(t).ls({index:Cm.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return dy(t).get(e).next((function(t){return t?zm(t):null}))},t}();function dy(t){return Nm(t,Em.store)}function py(t){return Nm(t,Sm.store)}function gy(t){return Nm(t,Cm.store)}function my(t,e){var n=t[1],r=e[1],i=gf(t[0],e[0]);return 0===i?gf(n,r):i}var yy=function(){function t(t){this.ur=t,this.buffer=new Gp(my),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();my(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vy=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;sf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,(function(){return Object(nf.b)(e,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return tm(e=n.sent())?(sf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ey(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),by=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.gr=function(t,e){var n=this;if(0===e)return Xg.resolve(Rf.U);var r=new yy(e);return this.Rr.mn(t,(function(t){return r._r(t.sequenceNumber)})).next((function(){return n.Rr.Vr(t,(function(t){return r._r(t)}))})).next((function(){return r.maxValue}))},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(sf("LruGarbageCollector","Garbage collection skipped; disabled"),Xg.resolve(Ym)):this.vr(t).next((function(r){return r<n.params.Js?(sf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),Ym):n.Sr(t,e)}))},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Pr(t,this.params.Ys).next((function(e){return e>c.params.Xs?(sf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Xs+" from "+e),r=c.params.Xs):r=e,o=Date.now(),c.gr(t,r)})).next((function(r){return n=r,s=Date.now(),c.tr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.pr(t,n)})).next((function(t){return u=Date.now(),of()<=eu.a.DEBUG&&sf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Xg.resolve({js:!0,Gs:r,zs:i,Hs:t})}))},t}(),wy=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new by(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dr=function(t){var e=0;return this.Vr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,(function(t,n){return e(n)}))},t.prototype.ir=function(t,e,n){return _y(t,n)},t.prototype.cr=function(t,e,n){return _y(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return _y(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return ly(t)._s((function(r){return ay(t,r,e).next((function(t){return t&&(n=!0),Xg.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],o=0;return this.Nr(t,(function(s,a){if(a<=e){var u=n.Fr(t,s).next((function(e){if(!e)return o++,r.di(t,s).next((function(){return r.fi(s),gy(t).delete([0,lm(s.path)])}))}));i.push(u)}})).next((function(){return Xg.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return _y(t,e)},t.prototype.Nr=function(t,e){var n,r=gy(t),i=Rf.U;return r.ls({index:Cm.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Rf.U&&e(new Hf(dm(n)),i),i=s,n=o):i=Rf.U})).next((function(){i!==Rf.U&&e(new Hf(dm(n)),i)}))},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function _y(t,e){return gy(t).put(function(t,e){return new Cm(0,lm(t.path),e)}(e,t.Ss))}var Oy=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return Sy(t).put(Iy(e),n)},t.prototype.fi=function(t,e){var n=Sy(t),r=Iy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.di=function(t,e){var n=this;return Sy(t).get(Iy(e)).next((function(t){return n.Br(t)}))},t.prototype.qr=function(t,e){var n=this;return Sy(t).get(Iy(e)).next((function(t){var e=n.Br(t);return e?{_i:e,size:oy(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Xp();return this.Ur(t,e,(function(t,e){var i=n.Br(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Qr=function(t,e){var n=this,r=Xp(),i=new qp(Hf.J);return this.Ur(t,e,(function(t,e){var o=n.Br(e);o?(r=r.Ht(t,o),i=i.Ht(t,oy(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Kr:r,Wr:i}}))},t.prototype.Ur=function(t,e,n){if(e.nt())return Xg.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Sy(t).ls({range:r},(function(t,e,r){for(var s=Hf.Tt(t);o&&Hf.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Jp(),o=e.path.length+1,s={};if(n.isEqual(Vf.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Mm(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=_m.collectionReadTimeIndex}return Sy(t).ls(s,(function(t,n,s){if(t.length===o){var a=Vm(r.Kt,n);e.path.st(a.key.path)?a instanceof yd&&tp(e,a)&&(i=i.Ht(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Ey(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Cy(t).get(Om.key).next((function(t){return hf(!!t),t}))},t.prototype.$r=function(t,e){return Cy(t).put(Om.key,e)},t.prototype.Br=function(t){if(t){var e=Vm(this.Kt,t);return e instanceof vd&&e.version.isEqual(Vf.min())?null:e}return null},t}(),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new ny((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(nf.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new Gp((function(t,e){return gf(t.ot(),e.ot())}));return this.ci.forEach((function(o,s){var a=e.Hr.get(o);if(s._i){var u=Lm(e.zr.Kt,s._i,e.ui(o));i=i.add(o.path.Z());var c=oy(u);r+=c-a,n.push(e.zr.hi(t,o,u))}else if(r-=a,e.Gr){var l=Lm(e.zr.Kt,new vd(o,Vf.min()),e.ui(o));n.push(e.zr.hi(t,o,l))}else n.push(e.zr.fi(t,o))})),i.forEach((function(r){n.push(e.zr.Ii.Qs(t,r))})),n.push(this.zr.updateMetadata(t,r)),Xg.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next((function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)}))},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next((function(t){var e=t.Kr;return t.Wr.forEach((function(t,e){n.Hr.set(t,e)})),e}))},e}(ry);function Cy(t){return Nm(t,Om.store)}function Sy(t){return Nm(t,_m.store)}function Iy(t){return t.path.rt()}var xy=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;hf(n<r&&n>=0&&r<=11);var o=new Qg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(gm.store)}(t),function(t){t.createObjectStore(mm.store,{keyPath:mm.keyPath}),t.createObjectStore(ym.store,{keyPath:ym.keyPath,autoIncrement:!0}).createIndex(ym.userMutationsIndex,ym.userMutationsKeyPath,{unique:!0}),t.createObjectStore(vm.store)}(t),Ty(t),function(t){t.createObjectStore(_m.store)}(t));var s=Xg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Cm.store),t.deleteObjectStore(Em.store),t.deleteObjectStore(Sm.store)}(t),Ty(t)),s=s.next((function(){return function(t){var e=t.store(Sm.store),n=new Sm(0,0,Vf.min().G(),0);return e.put(Sm.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ym.store).os().next((function(n){t.deleteObjectStore(ym.store),t.createObjectStore(ym.store,{keyPath:ym.keyPath,autoIncrement:!0}).createIndex(ym.userMutationsIndex,ym.userMutationsKeyPath,{unique:!0});var r=e.store(ym.store),i=n.map((function(t){return r.put(t)}));return Xg.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(xm.store,{keyPath:xm.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Jr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Om.store)}(t),i.Yr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Xr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Zr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(_m.store);e.createIndex(_m.readTimeIndex,_m.readTimeIndexPath,{unique:!1}),e.createIndex(_m.collectionReadTimeIndex,_m.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.eo(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Tm.store,{keyPath:Tm.keyPath})}(t),function(t){t.createObjectStore(jm.store,{keyPath:jm.keyPath})}(t)}))),s},t.prototype.Yr=function(t){var e=0;return t.store(_m.store).ls((function(t,n){e+=oy(n)})).next((function(){var n=new Om(e);return t.store(Om.store).put(Om.key,n)}))},t.prototype.Jr=function(t){var e=this,n=t.store(mm.store),r=t.store(ym.store);return n.os().next((function(n){return Xg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(ym.userMutationsIndex,i).next((function(r){return Xg.forEach(r,(function(r){hf(r.userId===n.userId);var i=qm(e.Kt,r);return iy(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Xr=function(t){var e=t.store(Cm.store),n=t.store(_m.store);return t.store(Sm.store).get(Sm.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new Mf(n),s=function(t){return[0,lm(t)]}(o);r.push(e.get(s).next((function(n){return n?Xg.resolve():function(n){return e.put(new Cm(0,lm(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Xg.$n(r)}))}))},t.prototype.Zr=function(t,e){t.createObjectStore(Im.store,{keyPath:Im.keyPath});var n=e.store(Im.store),r=new Qm,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:lm(i)})}};return e.store(_m.store).ls({hs:!0},(function(t,e){var n=new Mf(t);return i(n.Z())})).next((function(){return e.store(vm.store).ls({hs:!0},(function(t,e){var n=dm(t[1]);return i(n.Z())}))}))},t.prototype.eo=function(t){var e=this,n=t.store(Em.store);return n.ls((function(t,r){var i=zm(r),o=Bm(e.Kt,i);return n.put(o)}))},t}();function Ty(t){t.createObjectStore(Cm.store,{keyPath:Cm.keyPath}).createIndex(Cm.documentTargetsIndex,Cm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Em.store,{keyPath:Em.keyPath}).createIndex(Em.queryTargetsIndexName,Em.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Sm.store)}var jy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ay=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=o,this.window=s,this.document=a,this.so=c,this.io=l,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new wf(bf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new wy(this,i),this._o=n+"main",this.Kt=new Dm(u),this.fo=new Jg(this._o,11,new xy(this.Kt)),this.wo=new fy(this.mi,this.Kt),this.Ii=new Jm,this.Eo=function(t,e){return new Oy(t,e)}(this.Kt,this.Ii),this.To=new Wm,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===l&&af("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new wf(bf.FAILED_PRECONDITION,jy);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.wo.ji(e)}))})).then((function(e){t.ro=new Rf(e,t.so)})).then((function(){t.oo=!0})).catch((function(e){return t.fo&&t.fo.close(),Promise.reject(e)}))},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(nf.b)(e,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){return this.Ir?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn((function(n){return Object(nf.b)(e,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys((function(){return Object(nf.b)(e,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ny(e).put(new xm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.bo(e).next((function(e){e||(t.isPrimary=!1,t.no.vo((function(){return t.lo(!1)})))}))})).next((function(){return t.So(e)})).next((function(n){return t.isPrimary&&!n?t.Do(e).next((function(){return!1})):!!n&&t.Co(e).next((function(){return!0}))}))})).catch((function(e){if(tm(e))return sf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return sf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.no.vo((function(){return t.lo(e)})),t.isPrimary=e}))},t.prototype.bo=function(t){var e=this;return ky(t).get(gm.key).next((function(t){return Xg.resolve(e.xo(t))}))},t.prototype.No=function(t){return Ny(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Nm(t,xm.store);return e.os().next((function(t){var n=r.ko(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Xg.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,(function(){return t.mo().then((function(){return t.Fo()})).then((function(){return t.Po()}))}))},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?Xg.resolve(!0):ky(t).get(gm.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new wf(bf.FAILED_PRECONDITION,jy);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ny(t).os().next((function(t){return void 0===e.ko(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&sf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.$o=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t=this;return Object(nf.d)(this,(function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[gm.store,xm.store],(function(e){var n=new km(e,Rf.U);return t.Do(n).next((function(){return t.No(n)}))}))];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}}))}))},t.prototype.ko=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)}))},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ny(e).os().next((function(e){return t.ko(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return sy.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return sf("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Am,(function(o){return r=new km(o,i.ro?i.ro.next():Rf.U),"readwrite-primary"===e?i.bo(r).next((function(t){return!!t||i.So(r)})).next((function(e){if(!e)throw af("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo((function(){return i.lo(!1)})),new wf(bf.FAILED_PRECONDITION,um);return n(r)})).next((function(t){return i.Co(r).next((function(){return t}))})):i.zo(r).next((function(){return n(r)}))})).then((function(t){return r.bs(),t}))},t.prototype.zo=function(t){var e=this;return ky(t).get(gm.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new wf(bf.FAILED_PRECONDITION,jy)}))},t.prototype.Co=function(t){var e=new gm(this.clientId,this.allowTabSynchronization,Date.now());return ky(t).put(gm.key,e)},t.Wn=function(){return Jg.Wn()},t.prototype.Do=function(t){var e=this,n=ky(t);return n.get(gm.key).next((function(t){return e.xo(t)?(sf("IndexedDbPersistence","Releasing primary lease."),n.delete(gm.key)):Xg.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(af("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()}))},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys((function(){return e.$o()}))},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return sf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return af("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){af("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ky(t){return Nm(t,gm.store)}function Ny(t){return Nm(t,xm.store)}function Py(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ry=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Xp();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ns(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next((function(r){var i=n.Xo(t,e,r),o=Kp();return i.forEach((function(t,e){e||(e=new vd(t,Vf.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return Hf.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):$d(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Hf(e)).next((function(t){var e=Jp();return t instanceof yd&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Jp();return this.Ii.Ks(t,i).next((function(s){return Xg.forEach(s,(function(s){var a=function(t,e){return new Ud(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.Eo.jr(t,e,n).next((function(n){return r=n,o.Ho.xi(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Sp(u,l,l,o.Ds);r=h instanceof yd?r.Ht(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){tp(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=eg(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ap&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Eo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof yd&&(c=c.Ht(t,e))})),c}))},t}(),Dy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=eg(),i=eg(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Vy=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Vf.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(zd(e)||Bd(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(of()<=eu.a.DEBUG&&sf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yd(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Gp(ep(t));return e.forEach((function(e,r){r instanceof yd&&tp(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return of()<=eu.a.DEBUG&&sf("QueryEngine","Using full collection scan to execute query:",Yd(e)),this.uc.jr(t,e,Vf.min())},t}(),Ly=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new qp(gf),this.wc=new ny((function(t){return Od(t)}),Ed),this.Ec=Vf.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new Ry(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.br(n,e.dc)}))},t}();function My(t,e,n,r){return new Ly(t,e,n,r)}function Fy(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(nf.d)(this,(function(s){switch(s.label){case 0:return n=ff(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.vi(t).next((function(s){return o=s,r=n.persistence.Wo(e),i=new Ry(n.Tc,r,n.persistence.jo()),r.vi(t)})).next((function(e){for(var n=[],r=[],s=eg(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Uy(t,e){var n=ff(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Xg.resolve();return o.forEach((function(t){s=s.next((function(){return r.di(e,t)})).next((function(e){var o=e,s=n.ks.get(t);hf(null!==s),(!o||o.version.u(s)<0)&&(o=i.Cs(t,o,n))&&r.hi(o,n.Os)}))})),s.next((function(){return t.Ho.Ni(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Hy(t){var e=ff(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.wo.Wi(t)}))}function qy(t,e){var n=ff(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Gr:!0});i=n.dc;var s=[];e.Oe.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.wo.rr(t,e.Ke,o).next((function(){return n.wo.sr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.Ss);i=i.Ht(o,c),function(t,e,n){return hf(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&s.push(n.wo.Yi(t,c))}}}));var a=Kp();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.mi.Mr(t,r))})),s.push(zy(t,o,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(Vf.min())){var u=n.wo.Wi(t).next((function(e){return n.wo.Gi(t,t.Ss,r)}));s.push(u)}return Xg.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function zy(t,e,n,r,i){var o=eg();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Kp();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof vd&&s.version.isEqual(Vf.min())?(e.fi(n,u),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.hi(s,u),o=o.Ht(n,s)):sf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function By(t,e){var n=ff(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)}))}function Gy(t,e){var n=ff(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.wo.nr(t,e).next((function(i){return i?Xg.resolve(r=i):n.wo.Ui(t).next((function(i){return r=new rp(e,i,0,t.Ss),n.wo.zi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Wy(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:r=ff(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.mi.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!tm(s=a.sent()))throw s;return sf("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function $y(t,e,n){var r=ff(t),i=Vf.min(),o=eg();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ff(t),i=r.wc.get(n);return void 0!==i?Xg.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,Xd(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:Vf.min(),n?o:eg())})).next((function(t){return{documents:t,Pc:o}}))}))}function Ky(t,e){var n=ff(t),r=ff(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Xy(t){var e=ff(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ff(t),i=Kp(),o=Mm(n),s=Sy(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:_m.readTimeIndex,range:a},(function(t,e){var n=Vm(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{gs:i,readTime:Fm(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.gs;return e.Ec=t.readTime,n}))}function Qy(t){return Object(nf.b)(this,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){return[2,(e=ff(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Sy(t),n=Vf.min();return e.ls({index:_m.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Fm(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function Jy(t,e,n,r){return Object(nf.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(nf.d)(this,(function(p){switch(p.label){case 0:for(i=ff(t),o=eg(),s=Kp(),a=Yp(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Gr:!0}),[4,Gy(i,function(t){return Xd(qd(Mf.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return zy(t,f,s,Vf.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.wo.Zi(t,d.targetId).next((function(){return i.wo.sr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Zy(t,e,n){return void 0===n&&(n=eg()),Object(nf.b)(this,void 0,void 0,(function(){var r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return[4,Gy(t,Xd(Gm(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ff(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Og(e.readTime);if(r.Mt.u(o)>=0)return i.To.qs(t,e);var s=r.$t(vf.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.wo.Yi(t,s).next((function(){return i.wo.Zi(t,r.targetId)})).next((function(){return i.wo.sr(t,n,r.targetId)})).next((function(){return i.To.qs(t,e)}))}))]}}))}))}var Yy=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return Xg.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Og(n.createTime)}),Xg.resolve()},t.prototype.Bs=function(t,e){return Xg.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Gm(t.bundledQuery),readTime:Og(t.readTime)}}(e)),Xg.resolve()},t}(),tv=function(){function t(){this.Sc=new Gp(ev.Dc),this.Cc=new Gp(ev.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new ev(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.cr=function(t,e){this.Fc(new ev(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.cr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Hf(new Mf([])),r=new ev(n,t),i=new ev(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Hf(new Mf([])),n=new ev(e,t),r=new ev(e,t+1),i=eg();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Mi=function(t){var e=new ev(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),ev=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Hf.J(t.key,e.key)||gf(t.$c,e.$c)},t.xc=function(t,e){return gf(t.$c,e.$c)||Hf.J(t.key,e.key)},t}(),nv=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new Gp(ev.Dc)}return t.prototype.Pi=function(t){return Xg.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new Pm(i,e,n,r);this.Ho.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.qc=this.qc.add(new ev(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return Xg.resolve(o)},t.prototype.gi=function(t,e){return Xg.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Xg.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return Xg.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return Xg.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new ev(e,0),i=new ev(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),Xg.resolve(o)},t.prototype.Di=function(t,e){var n=this,r=new Gp(gf);return e.forEach((function(t){var e=new ev(t,0),i=new ev(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Xg.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;Hf.Et(i)||(i=i.child(""));var o=new ev(new Hf(i),0),s=new Gp(gf);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),Xg.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.Ni=function(t,e){var n=this;hf(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Xg.forEach(e.mutations,(function(i){var o=new ev(i.key,e.batchId);return r=r.delete(o),n.mi.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new ev(e,0),r=this.qc.Pe(n);return Xg.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return Xg.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),rv=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new qp(Hf.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:s,readTime:n}),this.size+=s-o,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return Xg.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=Xp();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)})),Xg.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Jp(),i=new Hf(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),a=s.value,u=a._i,c=a.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||u instanceof yd&&tp(e,u)&&(r=r.Ht(u.key,u))}return Xg.resolve(r)},t.prototype.Gc=function(t,e){return Xg.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new iv(this)},t.prototype.Lr=function(t){return Xg.resolve(this.size)},t}(),iv=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(nf.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach((function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)})),Xg.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(ry),ov=function(){function t(t){this.persistence=t,this.zc=new ny((function(t){return Od(t)}),Ed),this.lastRemoteSnapshotVersion=Vf.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new tv,this.targetCount=0,this.Yc=hy.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Xg.resolve()},t.prototype.Wi=function(t){return Xg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Xg.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),Xg.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Xg.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new hy(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,Xg.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),Xg.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Xg.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(s),o.push(r.Zi(t,a.targetId)),i++)})),Xg.$n(o).next((function(){return i}))},t.prototype.er=function(t){return Xg.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return Xg.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),Xg.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),Xg.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),Xg.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return Xg.resolve(n)},t.prototype.Mi=function(t,e){return Xg.resolve(this.Jc.Mi(e))},t}(),sv=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Rf(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new ov(this),this.Ii=new Xm,this.Eo=function(t,e){return new rv(t,(function(t){return n.mi.Zc(t)}))}(this.Ii),this.Kt=new Dm(e),this.To=new Yy(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new nv(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;sf("MemoryPersistence","Starting transaction:",t);var i=new av(this.ro.next());return this.mi.ta(),n(i).next((function(t){return r.mi.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.bs(),t}))},t.prototype.na=function(t,e){return Xg.Bn(Object.values(this.Xc).map((function(n){return function(){return n.Mi(t,e)}})))},t}(),av=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(nf.c)(e,t),e}(cm),uv=function(){function t(t){this.persistence=t,this.sa=new tv,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw lf()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),Xg.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),Xg.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Xg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Cr();return r.ar(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Xi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return Xg.forEach(this.oa,(function(r){var i=Hf.ft(r);return e.ca(t,i).next((function(t){t||n.fi(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Xg.Bn([function(){return Xg.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function cv(t,e){return"firestore_clients_"+t+"_"+e}function lv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function hv(t,e){return"firestore_targets_"+t+"_"+e}var fv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new wf(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(af("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new wf(r.error.code,r.error.message)),i?new t(e,r.state,o):(af("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=rg(),s=0;i&&s<r.activeTargetIds.length;++s)i=td(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(af("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),gv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(af("SharedClientState","Failed to parse online state: "+e),null)},t}(),mv=function(){function t(){this.activeTargetIds=rg()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yv=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new qp(gf),this.Ir=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=cv(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new mv),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(nf.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(cv(this.persistenceKey,r)))&&(o=pv.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.$o()})),this.Ir=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(hv(this.persistenceKey,t));if(n){var r=dv.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(hv(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return sf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){sf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){sf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(sf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void af("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo((function(){return Object(nf.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(nf.d)(this,(function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=Rf.U;if(null!=t)try{var n=JSON.parse(t);hf("number"==typeof n),e=n}catch(t){af("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Rf.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new fv(this.currentUser,t,e,n),i=lv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=lv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=hv(this.persistenceKey,t),i=new dv(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return pv.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return fv.aa(new Tf(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return dv.aa(r,e)},t.prototype.ba=function(t){return gv.aa(t)},t.prototype.Xa=function(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(sf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fa.iu(s,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=rg();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),vv=function(){function t(){this.ru=new mv,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new mv,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),bv=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),wv=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){sf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){sf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_v={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ov=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Ev=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(nf.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new ef;s.listenOnce(Zh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Jh.NO_ERROR:var e=s.getResponseJson();sf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Jh.TIMEOUT:sf("Connection",'RPC "'+t+'" timed out'),o(new wf(bf.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:var n=s.getStatus();if(sf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(bf).indexOf(e)>=0?e:bf.UNKNOWN}(r.status);o(new wf(a,r.message))}else o(new wf(bf.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new wf(bf.UNAVAILABLE,"Connection failed."));break;default:lf()}}finally{sf("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wh,i=Xc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(nu.l)()||Object(nu.n)()||Object(nu.j)()||Object(nu.k)()||Object(nu.o)()||Object(nu.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");sf("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Ov({du:function(t){c?sf("Connection","Not sending because WebChannel is closed:",t):(u||(sf("Connection","Opening WebChannel transport."),a.open(),u=!0),sf("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,tf.EventType.OPEN,(function(){c||sf("Connection","WebChannel transport opened.")})),h(a,tf.EventType.CLOSE,(function(){c||(c=!0,sf("Connection","WebChannel transport closed"),l.Pu())})),h(a,tf.EventType.ERROR,(function(t){c||(c=!0,uf("Connection","WebChannel transport errored:",t),l.Pu(new wf(bf.UNAVAILABLE,"The operation could not be completed")))})),h(a,tf.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];hf(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){sf("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Dp[t];if(void 0!==e)return Hp(e)}(i),s=r.message;void 0===o&&(o=bf.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new wf(o,s)),a.close()}else sf("Connection","WebChannel received:",n),l.yu(n)}})),h(i,Yh.STAT_EVENT,(function(t){10===t.stat?sf("Connection","Detected buffering proxy"):11===t.stat&&sf("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);sf("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return sf("RestConnection","Received: ",t),t}),(function(e){throw uf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+_v[t]},t}());function Cv(){return"undefined"!=typeof window?window:null}function Sv(){return"undefined"!=typeof document?document:null}function Iv(t){return new vg(t,!0)}var xv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&sf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Tv=function(){function t(t,e,n,r,i,o){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new xv(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===bf.RESOURCE_EXHAUSTED?(af(e.toString()),af("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===bf.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new wf(bf.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(nf.b)(t,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return sf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys((function(){return e.ju===t?n():(sf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),jv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(nf.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:lf()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(hf(void 0===e||"string"==typeof e),vf.fromBase64String(e||"")):(hf(void 0===e||e instanceof Uint8Array),vf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?bf.UNKNOWN:Hp(t.code);return new wf(e,t.message||"")}(a);n=new hg(r,i,o,s||null)}else if("documentChange"in e){i=Ig(t,(r=e.documentChange).document.name),o=Og(r.document.updateTime);var a=new dd({mapValue:{fields:r.document.fields}}),u=(s=new yd(i,o,a,{}),r.targetIds||[]);n=new cg(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Ig(t,(r=e.documentDelete).document),o=r.readTime?Og(r.readTime):Vf.min(),a=new vd(i,o),n=new cg([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Ig(t,(r=e.documentRemove).document),n=new cg([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return lf();var c=e.filter;i=new Fp(r=c.count||0),n=new lg(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Vf.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vf.min():e.readTime?Og(e.readTime):Vf.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=jg(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Cd(r)?{documents:Dg(t,r)}:{query:Vg(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=wg(t,e.resumeToken):e.Mt.u(Vf.min())>0&&(n.readTime=bg(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lf()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=jg(this.Kt),e.removeTarget=t,this.eh(e)},e}(Tv),Av=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(hf(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(hf(void 0!==e),t.map((function(t){return function(t,e){var n=Og(t.updateTime?t.updateTime:e);n.isEqual(Vf.min())&&(n=Og(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new wp(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Og(t.commitTime);return this.listener.wh(n,e)}return hf(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=jg(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Pg(e.Kt,t)}))};this.eh(n)},e}(Tv),kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(nf.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new wf(bf.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===bf.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===bf.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),Nv=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(af(e),this.Ph=!1):sf("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Pv=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(nf.b)(o,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return qv(this)?(sf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(nf.b)(this,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return(e=ff(t)).Fh.add(4),[4,Dv(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,Rv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new Nv(n,r)};function Rv(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:if(!qv(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Dv(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Vv(t,e){var n=ff(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Hv(n)?Uv(n):rb(n).Ju()&&Mv(n,e))}function Lv(t,e){var n=ff(t),r=rb(n);n.Nh.delete(e),r.Ju()&&Fv(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():qv(n)&&n.Mh.set("Unknown"))}function Mv(t,e){t.Lh.cn(e.targetId),rb(t).hh(e)}function Fv(t,e){t.Lh.cn(e),rb(t).lh(e)}function Uv(t){t.Lh=new dg({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),rb(t).start(),t.Mh.yh()}function Hv(t){return qv(t)&&!rb(t).Hu()&&t.Nh.size>0}function qv(t){return 0===ff(t).Fh.size}function zv(t){t.Lh=void 0}function Bv(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){return t.Nh.forEach((function(e,n){Mv(t,e)})),[2]}))}))}function Gv(t,e){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(n){return zv(t),Hv(t)?(t.Mh.ph(e),Uv(t)):t.Mh.set("Unknown"),[2]}))}))}function Wv(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o;return Object(nf.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof hg&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(nf.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),sf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$v(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof cg?t.Lh.wn(e):e instanceof lg?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Vf.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Hy(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(vf.h,n.Mt)),Fv(t,e);var r=new rp(n.target,e,1,n.sequenceNumber);Mv(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return sf("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,$v(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function $v(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r=this;return Object(nf.d)(this,(function(i){switch(i.label){case 0:if(!tm(e))throw e;return t.Fh.add(1),[4,Dv(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Hy(t.Sh)}),t.fs.vo((function(){return Object(nf.b)(r,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return sf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,Rv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Kv(t,e){return e().catch((function(n){return $v(t,n,e)}))}function Xv(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(nf.d)(this,(function(s){switch(s.label){case 0:e=ff(t),n=ib(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return qv(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,By(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=ib(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,$v(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qv(e)&&Jv(e),[2]}}))}))}function Qv(t){return qv(t)&&!ib(t).Hu()&&t.xh.length>0}function Jv(t){ib(t).start()}function Zv(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){return ib(t).Th(),[2]}))}))}function Yv(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n,r;return Object(nf.d)(this,(function(i){for(e=ib(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function tb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=Rm.from(r,e,n),[4,Kv(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Xv(t)];case 2:return o.sent(),[2]}}))}))}function eb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(n){switch(n.label){case 0:return e&&ib(t).fh?[4,function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return Up(r=e.code)&&r!==bf.ABORTED?(n=t.xh.shift(),ib(t).Xu(),[4,Kv(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Xv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qv(t)&&Jv(t),[2]}}))}))}function nb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return n=ff(t),e?(n.Fh.delete(2),[4,Rv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,Dv(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function rb(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=ff(t);return r.mh(),new jv(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Bv.bind(null,t),Iu:Gv.bind(null,t),uh:Wv.bind(null,t)}),t.Oh.push((function(n){return Object(nf.b)(e,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Hv(t)?Uv(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),zv(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function ib(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=ff(t);return r.mh(),new Av(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Zv.bind(null,t),Iu:eb.bind(null,t),Eh:Yv.bind(null,t),wh:tb.bind(null,t)}),t.Oh.push((function(n){return Object(nf.b)(e,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Xv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(sf("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var ob=function(){this.Wh=void 0,this.listeners=[]},sb=function(){this.queries=new ny((function(t){return Zd(t)}),Jd),this.onlineState="Unknown",this.jh=new Set};function ab(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(nf.d)(this,(function(c){switch(c.label){case 0:if(n=ff(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ob),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=sm(a,"Initialization of query '"+Yd(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&hb(n),[2]}}))}))}function ub(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(nf.d)(this,(function(a){return n=ff(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function cb(t,e){for(var n=ff(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(s)&&(r=!0);a.Wh=s}}r&&hb(n)}function lb(t,e,n){var r=ff(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function hb(t){t.jh.forEach((function(t){t.next()}))}var fb=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sg(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=sg.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),db=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),pb=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Ig(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Ng(this.Kt,t.document,!1):new vd(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Og(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new pb(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||eg()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return[4,Jy(this.Sh,new pb(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Zy(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new am(Object.assign({},this.progress),t))]}}))}))}}();var gb=function(t){this.key=t},mb=function(t){this.key=t},yb=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=eg(),this.Ce=eg(),this.ll=ep(t),this._l=new ig(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new og,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,a=!1,u=zd(this.query)&&i.size===this.query.limit?i.last():null,c=Bd(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof yd?e:null;h&&(h=tp(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),zd(this.query)||Bd(this.query))for(;s.size>this.query.limit;){var l=zd(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lf()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==o.length||u?{snapshot:new sg(this.query,t._l,i,o,t.Ce,0===a,u,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new og,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=eg(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new mb(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new gb(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=eg();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return sg.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),vb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bb=function(t){this.key=t,this.yl=!1},wb=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new ny((function(t){return Zd(t)}),Jd),this.Dl=new Map,this.Cl=[],this.xl=new qp(Hf.J),this.Nl=new Map,this.Fl=new tv,this.Ol={},this.kl=new Map,this.Ml=hy.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function _b(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:return n=Qb(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Gy(n.Sh,Xd(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Ob(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.$l&&Vv(n.gl,o),a.label=4;case 4:return[2,r]}}))}))}function Ob(t,e,n,r){return Object(nf.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(nf.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(nf.b)(this,void 0,void 0,(function(){var i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,$y(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ti(i,t.$l,o),[2,(Db(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,$y(t.Sh,e,!0)];case 1:return i=l.sent(),o=new yb(e,i.Pc),s=o.dl(i.documents),a=ug.Be(n,r&&"Offline"!==t.onlineState),u=o.Ti(s,t.$l,a),Db(t,n,u.ml),c=new vb(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function Eb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return n=ff(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Jd(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Wy(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Lv(n.gl,r.targetId),Pb(n,r.targetId)})).catch(ey)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Pb(n,r.targetId),[4,Wy(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Cb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:r=Jb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ff(t),i=Df.now(),o=e.reduce((function(t,e){return t.add(e.key)}),eg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ip(c,n.get(c.key));null!=l&&s.push(new Ap(c.key,l,gd(l.proto.mapValue),_p.exists(!0)))}return r.Ho.yi(t,i,s,e)}))})).then((function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new qp(gf)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Mb(r,i.ci)];case 3:return a.sent(),[4,Xv(r.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=sm(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Sb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r;return Object(nf.d)(this,(function(i){switch(i.label){case 0:n=ff(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qy(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(hf(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?hf(r.yl):t.Ke.size>0&&(hf(r.yl),r.yl=!1))})),[4,Mb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ey(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ib(t,e,n){var r=ff(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ff(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&hb(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function xb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(nf.d)(this,(function(c){switch(c.label){case 0:return(r=ff(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new qp(Hf.J)).Ht(o,new vd(o,Vf.min())),a=eg().add(o),u=new ag(Vf.min(),new Map,new Gp(gf),s,a),[4,Sb(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),Lb(r),[3,4];case 2:return[4,Wy(r.Sh,e,!1).then((function(){return Pb(r,e,n)})).catch(ey)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Tb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:n=ff(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Uy(n.Sh,e)];case 2:return i=o.sent(),Nb(n,r,null),kb(n,r),n.pl.Fa(r,"acknowledged"),[4,Mb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ey(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function jb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:r=ff(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ff(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.gi(t,e).next((function(e){return hf(null!==e),r=e.keys(),n.Ho.Ni(t,e)})).next((function(){return n.Ho.ki(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),Nb(r,e,n),kb(r,e),r.pl.Fa(e,"rejected",n),[4,Mb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ey(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ab(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:qv((n=ff(t)).gl)||sf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ff(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.bi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=a.sent(),s=sm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function kb(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function Nb(t,e,n){var r=ff(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function Pb(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.Mi(e)||Rb(t,e)}))}function Rb(t,e){var n=t.xl.get(e);null!==n&&(Lv(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Lb(t))}function Db(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof gb?(t.Fl.ir(o.key,e),Vb(t,o)):o instanceof mb?(sf("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.cr(o.key,e),t.Fl.Mi(o.key)||Rb(t,o.key)):lf()}}function Vb(t,e){var n=e.key;t.xl.get(n)||(sf("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Lb(t))}function Lb(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new bb(e)),t.xl=t.xl.Ht(e,n),Vv(t.gl,new rp(Xd(qd(e.path)),n,2,Rf.U))}}function Mb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:return r=ff(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){s.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Dy.cc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(nf.d)(this,(function(l){switch(l.label){case 0:n=ff(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Xg.forEach(e,(function(e){return Xg.forEach(e.rc,(function(r){return n.persistence.mi.ir(t,e.targetId,r)})).next((function(){return Xg.forEach(e.oc,(function(r){return n.persistence.mi.cr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!tm(r=l.sent()))throw r;return sf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Fb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return(n=ff(t)).currentUser.isEqual(e)?[3,3]:(sf("SyncEngine","User change. New user:",e.R()),[4,Fy(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new wf(bf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Mb(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ub(t,e){var n=ff(t),r=n.Nl.get(e);if(r&&r.yl)return eg().add(r.key);var i=eg(),o=n.Dl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Sl.get(a[s]);i=i.ye(u.view.fl)}return i}function Hb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return[4,$y((n=ff(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&Db(n,e.targetId,i.ml),i)]}}))}))}function qb(t){return Object(nf.b)(this,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){return[2,Xy((e=ff(t)).Sh).then((function(t){return Mb(e,t)}))]}))}))}function zb(t,e,n,r){return Object(nf.b)(this,void 0,void 0,(function(){var i,o;return Object(nf.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=ff(t),r=ff(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Vi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Xg.resolve(null)}))}))}((i=ff(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xv(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Nb(i,e,r||null),kb(i,e),function(t,e){ff(ff(t).Ho).Fi(e)}(i.Sh,e)):lf(),s.label=4;case 4:return[4,Mb(i,o)];case 5:return s.sent(),[3,7];case 6:sf("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Bb(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(nf.d)(this,(function(c){switch(c.label){case 0:return Qb(n=ff(t)),Jb(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Gb(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,nb(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Vv(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return Pb(n,e),Wy(n.Sh,e,!0)})),Lv(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,Gb(n,a)];case 5:return c.sent(),function(t){var e=ff(t);e.Nl.forEach((function(t,n){Lv(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new qp(Hf.J)}(n),n.Ll=!1,[4,nb(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Gb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(nf.d)(this,(function(g){switch(g.label){case 0:n=ff(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Dl.get(a=s[o]))&&0!==c.length?[4,Gy(n.Sh,Xd(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Hb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ky(n.Sh,a)];case 8:return p=g.sent(),[4,Gy(n.Sh,p)];case 9:return u=g.sent(),[4,Ob(n,Wb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Wb(t){return Hd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $b(t){var e=ff(t);return ff(ff(e.Sh).persistence).Ko()}function Kb(t,e,n,r){return Object(nf.b)(this,void 0,void 0,(function(){var i,o,s;return Object(nf.d)(this,(function(a){switch(a.label){case 0:return(i=ff(t)).Ll?(sf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xy(i.Sh)];case 3:return o=a.sent(),s=ag.$e(e,"current"===n),[4,Mb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Wy(i.Sh,e,!0)];case 6:return a.sent(),Pb(i,e,r),[3,8];case 7:lf(),a.label=8;case 8:return[2]}}))}))}function Xb(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(nf.d)(this,(function(f){switch(f.label){case 0:if(!(r=Qb(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(sf("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ky(r.Sh,s)]:[3,6];case 2:return a=f.sent(),[4,Gy(r.Sh,a)];case 3:return u=f.sent(),[4,Ob(r,Wb(a),u.targetId,!1)];case 4:f.sent(),Vv(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Wy(r.Sh,t,!1).then((function(){Lv(r.gl,t),Pb(r,t)})).catch(ey)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Qb(t){var e=ff(t);return e.gl.Ch.Bh=Sb.bind(null,e),e.gl.Ch.Sn=Ub.bind(null,e),e.gl.Ch.$h=xb.bind(null,e),e.vl.uh=cb.bind(null,e.Vl),e.vl.ql=lb.bind(null,e.Vl),e}function Jb(t){var e=ff(t);return e.gl.Ch.qh=Tb.bind(null,e),e.gl.Ch.Uh=jb.bind(null,e),e}var Zb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return this.Kt=Iv(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return My(this.persistence,new Vy,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new sv(uv.ra,this.Kt)},t.prototype.jl=function(t){return new vv},t.prototype.terminate=function(){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}}))}))},t}(),Yb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(nf.c)(e,t),e.prototype.initialize=function(e){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Qy(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Jb(this.Xl.fa)];case 4:return n.sent(),[4,Xv(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return My(this.persistence,new Vy,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new vy(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=Py(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?ty.Zs(this.cacheSizeBytes):ty.ni;return new Ay(this.synchronizeTabs,e,t.clientId,n,t.fs,Cv(),Sv(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new vv},e}(Zb),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(nf.c)(e,t),e.prototype.initialize=function(e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r=this;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof yv?(this.pl.fa={nu:zb.bind(null,n),su:Kb.bind(null,n),iu:Xb.bind(null,n),Ko:$b.bind(null,n),eu:qb.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo((function(t){return Object(nf.b)(r,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return[4,Bb(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Cv();if(!yv.Wn(e))throw new wf(bf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Py(t.gu.T,t.gu.persistenceKey);return new yv(e,t.fs,n,t.clientId,t.Yl)},e}(Yb),ew=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n=this;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Ib(n.fa,t,1)},this.gl.Ch.s_=Fb.bind(null,this.fa),[4,nb(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new sb},t.prototype.Zl=function(t){var e=Iv(t.gu.T),n=new Ev(t.gu);return function(t,e,n){return new kv(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Ib(s.fa,t,0)},o=wv.Wn()?new wv:new bv,new Pv(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new wb(t,e,n,r,i,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(nf.b)(this,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return e=ff(t),sf("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,Dv(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),nw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),rw=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Kg,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new db(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(nf.b)(this,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new wf(bf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Uf(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),iw=function(t){this._methodName=t};function ow(t,e,n){if(!n)throw new wf(bf.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function sw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wf(bf.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function aw(t,e,n,r){if(!0===e&&!0===r)throw new wf(bf.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function uw(t){if(!Hf.Et(t))throw new wf(bf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function cw(t){if(Hf.Et(t))throw new wf(bf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function lw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":lf()}function hw(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new wf(bf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lw(t);throw new wf(bf.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function fw(t,e){if(e<=0)throw new wf(bf.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var dw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new wf(bf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wf(bf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,aw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),pw=new Map,gw=function(){function t(t,e){this.w_="(lite)",this.E_=new dw({}),this.T_=!1,t instanceof xf?(this.I_=t,this.m_=new Af):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new wf(bf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(t.options.projectId)}(t),this.m_=new kf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new wf(bf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new wf(bf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new dw(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Af;switch(t.type){case"gapi":var e=t.client;return hf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Pf(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new wf(bf.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=pw.get(this))&&(sf("ComponentProvider","Removing Datastore"),pw.delete(this),t.terminate()),Promise.resolve();var t},t}(),mw=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vw(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),yw=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),vw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qd(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new mw(this.firestore,null,new Hf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(yw);function bw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Of&&(t=t._),ow("collection","path",e),t instanceof gw)return cw(n=Mf.ct.apply(Mf,Object(nf.g)([e],r))),new vw(t,null,n);if(!(t instanceof mw||t instanceof vw))throw new wf(bf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cw(n=Mf.ct.apply(Mf,Object(nf.g)([t.path],r)).child(Mf.ct(e))),new vw(t.firestore,null,n)}function ww(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Of&&(t=t._),1===arguments.length&&(e=pf.t()),ow("doc","path",e),t instanceof gw)return uw(n=Mf.ct.apply(Mf,Object(nf.g)([e],r))),new mw(t,null,new Hf(n));if(!(t instanceof mw||t instanceof vw))throw new wf(bf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uw(n=t.D_.child(Mf.ct.apply(Mf,Object(nf.g)([e],r)))),new mw(t.firestore,t instanceof vw?t.v_:null,new Hf(n))}function _w(t,e){return t instanceof Of&&(t=t._),e instanceof Of&&(e=e._),(t instanceof mw||t instanceof vw)&&(e instanceof mw||e instanceof vw)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Ow(t,e){return t instanceof Of&&(t=t._),e instanceof Of&&(e=e._),t instanceof yw&&e instanceof yw&&t.firestore===e.firestore&&Jd(t.C_,e.C_)&&t.v_===e.v_}var Ew=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new wf(bf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wf(bf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return gf(this.x_,t.x_)||gf(this.N_,t.N_)},t}(),Cw=/^__.*__$/,Sw=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Ap(t,this.data,this.zt,e,this.fieldTransforms):new jp(t,this.data,e,this.fieldTransforms)},t}(),Iw=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Ap(t,this.data,this.zt,e,this.fieldTransforms)},t}();function xw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lf()}}var Tw=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Kw(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(xw(this.k_)&&Cw.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),jw=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Iv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Tw({k_:t,methodName:e,j_:n,path:Uf.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Aw(t){var e=t.p_(),n=Iv(t.I_);return new jw(t.I_,!!e.ignoreUndefinedProperties,n)}function kw(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Bw("Data must be an object, but it was:",s,r);var a,u,c=qw(r,s);if(o.merge)a=new Gf(s.zt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Gw(e,f[h],n);if(!s.contains(d))throw new wf(bf.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Xw(l,d)||l.push(d)}a=new Gf(l),u=s.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=s.fieldTransforms;return new Sw(new dd(c),a,u)}var Nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(iw);function Pw(t,e,n){return new Tw({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Rw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.z_=function(t){return new bp(t.path,new hp)},e.prototype.isEqual=function(t){return t instanceof e},e}(iw),Dw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(nf.c)(e,t),e.prototype.z_=function(t){var e=Pw(this,t,!0),n=this.H_.map((function(t){return Hw(t,e)})),r=new fp(n);return new bp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iw),Vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(nf.c)(e,t),e.prototype.z_=function(t){var e=Pw(this,t,!0),n=this.H_.map((function(t){return Hw(t,e)})),r=new pp(n);return new bp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iw),Lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(nf.c)(e,t),e.prototype.z_=function(t){var e=new mp(t.Kt,sp(t.Kt,this.J_));return new bp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(iw);function Mw(t,e,n,r){var i=t.G_(1,e,n);Bw("Data must be an object, but it was:",i,r);var o=[],s=new pd;zf(r,(function(t,r){var a=$w(e,t,n);r instanceof Of&&(r=r._);var u=i.U_(a);if(r instanceof Nw)o.push(a);else{var c=Hw(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Gf(o);return new Iw(s.yt(),a,i.fieldTransforms)}function Fw(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Gw(e,r,n)],u=[i];if(o.length%2!=0)throw new wf(bf.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Gw(e,o[c])),u.push(o[c+1]);for(var l=[],h=new pd,f=a.length-1;f>=0;--f)if(!Xw(l,a[f])){var d=a[f],p=u[f];p instanceof Of&&(p=p._);var g=s.U_(d);if(p instanceof Nw)l.push(d);else{var m=Hw(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Gf(l);return new Iw(h.yt(),y,s.fieldTransforms)}function Uw(t,e,n,r){return void 0===r&&(r=!1),Hw(n,t.G_(r?4:3,e))}function Hw(t,e){if(t instanceof Of&&(t=t._),zw(t))return Bw("Unsupported field value:",e,t),qw(t,e);if(t instanceof iw)return function(t,e){if(!xw(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Hw(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Of&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sp(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Df.fromDate(t);return{timestampValue:bg(e.Kt,n)}}if(t instanceof Df)return n=new Df(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:bg(e.Kt,n)};if(t instanceof Ew)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _f)return{bytesValue:wg(e.Kt,t.l)};if(t instanceof mw){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Eg(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+lw(t))}(t,e)}function qw(t,e){var n={};return Bf(t)?e.path&&e.path.length>0&&e.zt.push(e.path):zf(t,(function(t,r){var i=Hw(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function zw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Df||t instanceof Ew||t instanceof _f||t instanceof mw||t instanceof iw)}function Bw(t,e,n){if(!zw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=lw(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Gw(t,e,n){if(e instanceof Of&&(e=e._),e instanceof rw)return e.d_;if("string"==typeof e)return $w(t,e);throw Kw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ww=new RegExp("[~\\*/\\[\\]]");function $w(t,e,n){if(e.search(Ww)>=0)throw Kw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(rw.bind.apply(rw,Object(nf.g)([void 0],e.split("."))))).d_}catch(r){throw Kw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Kw(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new wf(bf.INVALID_ARGUMENT,(a+=". ")+t+u)}function Xw(t,e){return t.some((function(t){return t.isEqual(e)}))}var Qw=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n=this;return Object(nf.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new wf(bf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(nf.d)(this,(function(u){switch(u.label){case 0:return n=ff(t),r=jg(n.Kt)+"/documents",i={documents:e.map((function(t){return Sg(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){hf(!!e.found);var n=Ig(t,e.found.name),r=Og(e.found.updateTime),i=new dd({mapValue:{fields:e.found.fields}});return new yd(n,r,i,{})}(t,e):"missing"in e?function(t,e){hf(!!e.missing),hf(!!e.readTime);var n=Ig(t,e.missing),r=Og(e.readTime);return new vd(n,r)}(t,e):lf()}(n.Kt,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());hf(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof vd||t instanceof yd?n.sf(t):lf()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Lp(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e=this;return Object(nf.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Hf.ft(n);e.mutations.push(new Mp(r,e.Gt(r)))})),[4,function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return n=ff(t),r=jg(n.Kt)+"/documents",i={writes:e.map((function(t){return Pg(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof yd)e=t.version;else{if(!(t instanceof vd))throw lf();e=Vf.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new wf(bf.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?_p.updateTime(e):_p.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Vf.min()))throw new wf(bf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _p.updateTime(e)}return _p.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Jw=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new xv(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(nf.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(nf.d)(this,(function(r){return t=new Qw(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Zf(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Up(e)}return!1},t}(),Zw=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Tf.UNAUTHENTICATED,this.clientId=pf.t(),this._f=function(){},this.N=new Kg,this.credentials.S((function(t){sf("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new wf(bf.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Kg;return this.fs.Tf((function(){return Object(nf.b)(t,void 0,void 0,(function(){var t,n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=sm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Yw(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),sf("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.vo((function(){return Object(nf.b)(i,void 0,void 0,(function(){return Object(nf.d)(this,(function(t){switch(t.label){case 0:return[4,Fy(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Vo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function t_(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,e_(t)];case 1:return n=i.sent(),sf("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.vo((function(){return function(t,e){return Object(nf.b)(this,void 0,void 0,(function(){var n,r;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return(n=ff(t)).fs.Af(),sf("RemoteStore","RemoteStore received new credentials"),r=qv(n),n.Fh.add(3),[4,Dv(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,Rv(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function e_(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(sf("FirestoreClient","Using default OfflineComponentProvider"),[4,Yw(t,new Zb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function n_(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(sf("FirestoreClient","Using default OnlineComponentProvider"),[4,t_(t,new ew)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function r_(t){return e_(t).then((function(t){return t.persistence}))}function i_(t){return e_(t).then((function(t){return t.Sh}))}function o_(t){return n_(t).then((function(t){return t.gl}))}function s_(t){return n_(t).then((function(t){return t.fa}))}function a_(t){return Object(nf.b)(this,void 0,void 0,(function(){var e,n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return[4,n_(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=_b.bind(null,e.fa),n.Jh=Eb.bind(null,e.fa),n)]}}))}))}function u_(t,e,n){var r=this;void 0===n&&(n={});var i=new Kg;return t.fs.ys((function(){return Object(nf.b)(r,void 0,void 0,(function(){var r;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nw({next:function(o){e.ys((function(){return ub(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new wf(bf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new wf(bf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new fb(qd(n.path),o,{includeMetadataChanges:!0,sl:!0});return ab(t,s)},[4,a_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function c_(t,e,n){var r=this;void 0===n&&(n={});var i=new Kg;return t.fs.ys((function(){return Object(nf.b)(r,void 0,void 0,(function(){var r;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new nw({next:function(n){e.ys((function(){return ub(t,s)})),n.fromCache&&"server"===r.source?i.reject(new wf(bf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new fb(n,o,{includeMetadataChanges:!0,sl:!0});return ab(t,s)},[4,a_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var l_=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new xv(this,"async_queue_retry"),this.vf=function(){var e=Sv();e&&sf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Sv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Sv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t,e=this;return Object(nf.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!tm(t=n.sent()))throw t;return sf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,af("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=om.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&lf()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(nf.b)(this,void 0,void 0,(function(){var t;return Object(nf.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),h_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new l_,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(nf.c)(e,t),e.prototype.b_=function(){return this.Lf||d_(this),this.Lf.terminate()},e}(gw);function f_(t){return t.Lf||d_(t),t.Lf.df(),t.Lf}function d_(t){var e=t.p_(),n=function(t,e,n){return new If(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Zw(t.m_,t.Mf,n)}function p_(t,e,n){var r=this,i=new Kg;return t.fs.enqueue((function(){return Object(nf.b)(r,void 0,void 0,(function(){var r;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Yw(t,n)];case 1:return o.sent(),[4,t_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===bf.FAILED_PRECONDITION||t.code===bf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function g_(t){if(t.R_||t.P_)throw new wf(bf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var m_=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),ed(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kf(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Xf(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw lf()}},t.prototype.jf=function(t,e){var n=this,r={};return zf(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Ew(Kf(t.latitude),Kf(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Qf(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Jf(t));default:return null}},t.prototype.Bf=function(t){var e=$f(t);return new Df(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Mf.ct(t);hf($g(n));var r=new xf(n.get(1),n.get(3)),i=new Hf(n.X(5));return r.isEqual(e)||af("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),y_=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new mw(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new v_(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(b_("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),v_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(y_);function b_(t,e){return"string"==typeof e?$w(t,e):e instanceof Of?e._.d_:e.d_}function w_(t){if(Bd(t)&&0===t.Nt.length)throw new wf(bf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var __=function(){};function O_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var E_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(nf.c)(e,t),e.prototype.Yf=function(t){var e=Aw(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new wf(bf.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){A_(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(j_(r,t,l[c]));a={arrayValue:{values:u}}}else a=j_(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||A_(s,o),a=Uw(n,"where",s,"in"===o||"not-in"===o);var h=Sd.create(i,o,a);return function(t,e){if(e.xt()){var n=Wd(t);if(null!==n&&!n.isEqual(e.field))throw new wf(bf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Gd(t);null!==r&&k_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new wf(bf.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new yw(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ud(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(__),C_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(nf.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new wf(bf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new wf(bf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vd(e,n);return function(t,e){if(null===Gd(t)){var n=Wd(t);null!==n&&k_(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new yw(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ud(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(__),S_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(nf.c)(e,t),e.prototype.Yf=function(t){return new yw(t.firestore,t.v_,Qd(t.C_,this.nd,this.sd))},e}(__),I_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(nf.c)(e,t),e.prototype.Yf=function(t){var e=T_(t,this.type,this.rd,this.od);return new yw(t.firestore,t.v_,function(t,e){return new Ud(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(__),x_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(nf.c)(e,t),e.prototype.Yf=function(t){var e=T_(t,this.type,this.rd,this.od);return new yw(t.firestore,t.v_,function(t,e){return new Ud(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(__);function T_(t,e,n,r){if(n[0]instanceof Of&&(n[0]=n[0]._),n[0]instanceof y_)return function(t,e,n,r,i){if(!r)throw new wf(bf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Kd(t);s<a.length;s++){var u=a[s];if(u.field.ht())o.push(ad(e,r.key));else{var c=r.field(u.field);if(Qf(c))throw new wf(bf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new wf(bf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Rd(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Aw(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new wf(bf.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ht()){if("string"!=typeof c)throw new wf(bf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$d(t)&&-1!==c.indexOf("/"))throw new wf(bf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Mf.ct(c));if(!Hf.Et(l))throw new wf(bf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Hf(l);a.push(ad(e,h))}else{var f=Uw(n,r,c);a.push(f)}}return new Rd(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function j_(t,e,n){if(n instanceof Of&&(n=n._),"string"==typeof n){if(""===n)throw new wf(bf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$d(e)&&-1!==n.indexOf("/"))throw new wf(bf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Mf.ct(n));if(!Hf.Et(r))throw new wf(bf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ad(t,new Hf(r))}if(n instanceof mw)return ad(t,n.S_);throw new wf(bf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lw(n)+".")}function A_(t,e){if(!Array.isArray(t)||0===t.length)throw new wf(bf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new wf(bf.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function k_(t,e,n){if(!n.isEqual(e))throw new wf(bf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function N_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function P_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var R_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(nf.c)(e,t),e.prototype.Uf=function(t){return new _f(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new mw(this.firestore,null,e)},e}(m_),D_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),V_=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(nf.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new L_(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(b_("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(y_),L_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(V_),M_=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new D_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new L_(n.zf,n.Hf,r.key,r,new D_(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new wf(bf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new L_(t.zf,t.Hf,e.doc.key,e.doc,new D_(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new L_(t.zf,t.Hf,e.doc.key,e.doc,new D_(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:F_(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function F_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lf()}}function U_(t,e){return t instanceof V_&&e instanceof V_?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof M_&&e instanceof M_&&t.zf===e.zf&&Ow(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var H_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(nf.c)(e,t),e.prototype.Uf=function(t){return new _f(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new mw(this.firestore,null,e)},e}(m_);function q_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=hw(t,mw);var o=hw(t.firestore,h_),s=Aw(o);return e instanceof Of&&(e=e._),B_(o,[("string"==typeof e||e instanceof rw?Fw(s,"updateDoc",t.S_,e,n,r):Mw(s,"updateDoc",t.S_,e)).F_(t.S_,_p.exists(!0))])}function z_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Of&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||N_(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(N_(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof mw)c=hw(t.firestore,h_),l=qd(t.S_.path),u={next:function(e){i[a]&&i[a](G_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=hw(t,yw);c=hw(d.firestore,h_),l=d.C_;var p=new H_(c);u={next:function(t){i[a]&&i[a](new M_(c,p,d,t))},error:i[a+1],complete:i[a+2]},w_(t.C_)}return function(t,e,n,r){var i=this,o=new nw(r),s=new fb(e,o,n);return t.fs.ys((function(){return Object(nf.b)(i,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return e=ab,[4,a_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(nf.b)(i,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return e=ub,[4,a_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(f_(c),l,h,u)}function B_(t,e){return function(t,e){var n=this,r=new Kg;return t.fs.ys((function(){return Object(nf.b)(n,void 0,void 0,(function(){var n;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return n=Cb,[4,s_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(f_(t),e)}function G_(t,e,n){var r=n.docs.get(e.S_),i=new H_(t);return new V_(t,i,e.S_,r,new D_(n.hasPendingWrites,n.fromCache),e.v_)}var W_=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Aw(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=$_(t,this.zf),i=P_(r.v_,e,n),o=kw(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,_p.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=$_(t,this.zf);return e instanceof Of&&(e=e._),o="string"==typeof e||e instanceof rw?Fw(this.wd,"WriteBatch.update",s.S_,e,n,r):Mw(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,_p.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=$_(t,this.zf);return this.fd=this.fd.concat(new Lp(e.S_,_p.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new wf(bf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function $_(t,e){if(t instanceof Of&&(t=t._),t.firestore!==e)throw new wf(bf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var K_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(nf.c)(e,t),e.prototype.get=function(e){var n=this,r=$_(e,this.zf),i=new H_(this.zf);return t.prototype.get.call(this,e).then((function(t){return new V_(n.zf,i,r.S_,t.Jf,new D_(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Aw(t)}return t.prototype.get=function(t){var e=this,n=$_(t,this.zf),r=new R_(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return lf();var i=t[0];if(i instanceof vd)return new y_(e.zf,r,n.S_,null,n.v_);if(i instanceof yd)return new y_(e.zf,r,i.key,i,n.v_);throw lf()}))},t.prototype.set=function(t,e,n){var r=$_(t,this.zf),i=P_(r.v_,e,n),o=kw(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=$_(t,this.zf);return e instanceof Of&&(e=e._),o="string"==typeof e||e instanceof rw?Fw(this.wd,"Transaction.update",s.S_,e,n,r):Mw(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=$_(t,this.zf);return this.Td.delete(e.S_),this},t}()),X_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){g_(t=hw(t,h_));var n=f_(t),r=t.p_(),i=new ew;return p_(n,i,new Yb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){g_(t=hw(t,h_));var e=f_(t),n=t.p_(),r=new ew;return p_(e,r,new tw(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new wf(bf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Kg;return t.Mf.Tf((function(){return Object(nf.b)(e,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(nf.b)(this,void 0,void 0,(function(){return Object(nf.d)(this,(function(e){switch(e.label){case 0:return Jg.Wn()?[4,Jg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Py(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Q_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof xf||(i.md=e),i}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&uf("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(nf.b)(e,void 0,void 0,(function(){var e,n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return[4,r_(t)];case 1:return e=r.sent(),[4,o_(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=ff(t);return e.Fh.delete(0),Rv(e)}(n))]}}))}))}))}(f_(hw(this._,h_)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(nf.b)(e,void 0,void 0,(function(){var e,n;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return[4,r_(t)];case 1:return e=r.sent(),[4,o_(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(nf.b)(this,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return(e=ff(t)).Fh.add(0),[4,Dv(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(f_(hw(this._,h_)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&aw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Kg;return t.fs.ys((function(){return Object(nf.b)(e,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(r){switch(r.label){case 0:return e=Ab,[4,s_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(f_(hw(this._,h_)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new nw(e);return t.fs.ys((function(){return Object(nf.b)(n,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ff(t).jh.add(e),e.next()},[4,a_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(nf.b)(n,void 0,void 0,(function(){var e;return Object(nf.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ff(t).jh.delete(e)},[4,a_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(f_(t=hw(t,h_)),N_(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new wf(bf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new cO(this,bw(this._,t))}catch(t){throw eO(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new tO(this,ww(this._,t))}catch(t){throw eO(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new sO(this,function(t,e){if(t=hw(t,gw),ow("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wf(bf.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yw(t,null,function(t){return new Ud(Mf.at(),t)}(e))}(this._,t))}catch(t){throw eO(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Kg;return t.fs.ys((function(){return Object(nf.b)(n,void 0,void 0,(function(){var n;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return n_(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new Jw(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(f_(t),(function(n){return e(new K_(t,n))}))}(this._,(function(n){return t(new Z_(e,n))}))},e.prototype.batch=function(){var t=this;return f_(this._),new Y_(new W_(this._,(function(e){return B_(t._,e)})))},e.prototype.loadBundle=function(t){throw new wf(bf.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new wf(bf.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Of),J_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(nf.c)(e,t),e.prototype.Uf=function(t){return new Sf(new _f(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return tO.Ad(e,this.firestore,null)},e}(m_),Z_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(nf.c)(e,t),e.prototype.get=function(t){var e=this,n=lO(t);return this._.get(n).then((function(t){return new iO(e.zf,t)}))},e.prototype.set=function(t,e,n){var r=lO(t);return n?(sw("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=lO(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(nf.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=lO(t);return this._.delete(e),this},e}(Of),Y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.set=function(t,e,n){var r=lO(t);return n?(sw("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=lO(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(nf.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=lO(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Of),tO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new J_(e),r}return Object(nf.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new wf(bf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new mw(n._,r,new Hf(t)))},e.Ad=function(t,n,r){return new e(n,new mw(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cO(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new cO(this.firestore,bw(this._,t))}catch(t){throw eO(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Of&&(t=t._),t instanceof mw&&_w(this._,t)},e.prototype.set=function(t,e){e=sw("DocumentReference.set",e);try{return function(t,e,n){t=hw(t,mw);var r=hw(t.firestore,h_),i=P_(t.v_,e,n);return B_(r,[kw(Aw(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,_p.Wt())])}(this._,t,e)}catch(t){throw eO(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?q_(this._,t):q_.apply(void 0,Object(nf.g)([this._,t,e],n))}catch(t){throw eO(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return B_(hw((t=this._).firestore,h_),[new Lp(t.S_,_p.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nO(e),i=rO(e,(function(e){return new iO(t.firestore,new V_(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return z_(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=hw(t,mw);var e=hw(t.firestore,h_),n=f_(e),r=new H_(e);return function(t,e){var n=this,r=new Kg;return t.fs.ys((function(){return Object(nf.b)(n,void 0,void 0,(function(){var n;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i;return Object(nf.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ff(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof yd?n.resolve(i):i instanceof vd?n.resolve(null):n.reject(new wf(bf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,i_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new V_(e,r,t.S_,n,new D_(n instanceof yd&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=hw(t,mw);var e=hw(t.firestore,h_);return u_(f_(e),t.S_,{source:"server"}).then((function(n){return G_(e,t,n)}))}(this._):function(t){t=hw(t,mw);var e=hw(t.firestore,h_);return u_(f_(e),t.S_).then((function(n){return G_(e,t,n)}))}(this._)).then((function(t){return new iO(e.firestore,new V_(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Of);function eO(t,e,n){return t.message=t.message.replace(e,n),t}function nO(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!N_(r))return r}return{}}function rO(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=N_(t[0])?t[0]:N_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new tO(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return U_(this._,t._)},e}(Of),oO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(iO),sO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new J_(e),r}return Object(nf.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,O_(this._,function(t,e,n){var r=e,i=b_("where",t);return new E_(i,r,n)}(t,n,r)))}catch(t){throw eO(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,O_(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=b_("orderBy",t);return new C_(r,n)}(t,n)))}catch(t){throw eO(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,O_(this._,function(t){return fw("limit",t),new S_("limit",t,"F")}(t)))}catch(t){throw eO(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,O_(this._,function(t){return fw("limitToLast",t),new S_("limitToLast",t,"L")}(t)))}catch(t){throw eO(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,O_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new I_("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw eO(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,O_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new I_("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw eO(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,O_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new x_("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw eO(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,O_(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new x_("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw eO(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Ow(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=hw(t,yw);var e=hw(t.firestore,h_),n=f_(e),r=new H_(e);return function(t,e){var n=this,r=new Kg;return t.fs.ys((function(){return Object(nf.b)(n,void 0,void 0,(function(){var n;return Object(nf.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(nf.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(nf.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,$y(t,e,!0)];case 1:return a=u.sent(),r=new yb(e,a.Pc),i=r.dl(a.documents),o=r.Ti(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=sm(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,i_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new M_(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=hw(t,yw);var e=hw(t.firestore,h_),n=f_(e),r=new H_(e);return c_(n,t.C_,{source:"server"}).then((function(n){return new M_(e,r,t,n)}))}(this._):function(t){t=hw(t,yw);var e=hw(t.firestore,h_),n=f_(e),r=new H_(e);return w_(t.C_),c_(n,t.C_).then((function(n){return new M_(e,r,t,n)}))}(this._)).then((function(t){return new uO(e.firestore,new M_(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nO(e),i=rO(e,(function(e){return new uO(t.firestore,new M_(t.firestore._,t.Hf,t._,e.ud))}));return z_(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Of),aO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new oO(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Of),uO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new sO(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new oO(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new aO(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new oO(n.zf,r))}))},e.prototype.isEqual=function(t){return U_(this._,t._)},e}(Of),cO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(nf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new tO(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new tO(this.firestore,void 0===t?ww(this._):ww(this._,t))}catch(t){throw eO(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=hw(t.firestore,h_),r=ww(t),i=P_(t.v_,e);return B_(n,[kw(Aw(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,_p.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new tO(e.firestore,t)}))},e.prototype.isEqual=function(t){return _w(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(sO);function lO(t){return t instanceof Of&&(t=t._),hw(t,mw)}var hO=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(rw.bind.apply(rw,Object(nf.g)([void 0],e))))||this}return Object(nf.c)(e,t),e.documentId=function(){return new e(Uf.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Of&&(t=t._),t instanceof rw&&this._.d_.isEqual(t.d_)},e}(Of),fO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(nf.c)(e,t),e.serverTimestamp=function(){var t=new Rw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Nw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dw("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vw("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Lw("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Of);!function(){function t(){this.Pd={},this.yd=new Kg,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var dO,pO=n("/6Yf"),gO={Firestore:Q_,GeoPoint:Ew,Timestamp:Df,Blob:Sf,Transaction:Z_,WriteBatch:Y_,DocumentReference:tO,DocumentSnapshot:iO,Query:sO,QueryDocumentSnapshot:oO,QuerySnapshot:uO,CollectionReference:cO,FieldPath:hO,FieldValue:fO,setLogLevel:function(t){rf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function mO(t,e){return function(t,e=Gi.b){return new Ut.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function yO(t,e){return mO(t,e).pipe(Object(Xt.a)(t=>({payload:t,type:"query"})))}function vO(t,e){return yO(t,e).pipe(_e(void 0),Qa(),Object(Xt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function bO(t,e,n){return vO(t,n).pipe(Oe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return wO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return wO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return wO(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new so(void 0,void 0)),Object(Xt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function wO(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function _O(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new pO.a("firestore",(function(t){return function(t,e){return new Q_(t,new h_(t,e),new X_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},gO)))})(dO=tu.a),dO.registerVersion("@firebase/firestore","2.1.1");class OO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=vO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Xt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(_e(void 0),Qa(),Zt(([t,e])=>e.length>0||!t),Object(Xt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Oe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=_O(t);return bO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return yO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Xt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new EO(this.ref.doc(t),this.afs)}}class EO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=jO(n,e);return new OO(r,i,this.afs)}snapshotChanges(){return mO(this.ref,this.afs.schedulers.outsideAngular).pipe(_e(void 0),Qa(),Object(Xt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Xt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(At.a)(this.ref.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}}class CO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?vO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Xt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Zt(t=>t.length>0),this.afs.keepUnstableUntilFirst):vO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Oe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=_O(t);return bO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return yO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Xt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(Si.b)(this.afs.schedulers.insideAngular))}}const SO=new r.t("angularfire2.enableFirestorePersistence"),IO=new r.t("angularfire2.firestore.persistenceSettings"),xO=new r.t("angularfire2.firestore.settings"),TO=new r.t("angularfire2.firestore.use-emulator");function jO(t,e=(t=>t)){return{query:e(t),ref:t}}let AO=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Pi.d(o),this.keepUnstableUntilFirst=Object(Pi.h)(this.schedulers);const c=Object(Pi.g)(t,o,e);!Ya.a.auth&&u&&Object(Pi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Pi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Q(i)){const e=()=>{try{return Object(At.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(dO){return"undefined"!=typeof console&&console.warn(dO),Object(jt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(jt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=jO(n,e),o=this.schedulers.ngZone.run(()=>r);return new OO(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new CO(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new EO(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.fc(Pi.c),r.fc(Pi.b,8),r.fc(SO,8),r.fc(xO,8),r.fc(r.H),r.fc(r.E),r.fc(IO,8),r.fc(TO,8),r.fc(Ri,8))},t.\u0275prov=Object(r.Ob)({factory:function(){return new t(Object(r.fc)(Pi.c),Object(r.fc)(Pi.b,8),Object(r.fc)(SO,8),Object(r.fc)(xO,8),Object(r.fc)(r.H),Object(r.fc)(r.E),Object(r.fc)(IO,8),Object(r.fc)(TO,8),Object(r.fc)(Ri,8))},token:t,providedIn:"any"}),t})(),kO=(()=>{class t{constructor(t){this.firestore=t}getAutos(){return this.firestore.collection("autos").snapshotChanges()}createAuto(t){return this.firestore.collection("autos").add(t)}updateAuto(t,e){return this.firestore.collection("autos").doc(t).update(e)}deleteAuto(t){return this.firestore.collection("autos").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.fc(AO))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NO(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr"),r.Xb(1,"td"),r.Hc(2),r.Wb(),r.Xb(3,"td"),r.Hc(4),r.Wb(),r.Xb(5,"td"),r.Hc(6),r.Wb(),r.Xb(7,"td"),r.Hc(8),r.Wb(),r.Xb(9,"td"),r.Hc(10),r.Wb(),r.Xb(11,"td"),r.Xb(12,"button",6),r.ic("click",(function(){r.zc(t);const n=e.$implicit,i=r.kc(),o=r.yc(25);return i.openEditar(o,n)})),r.Hc(13,"Editar"),r.Wb(),r.Xb(14,"button",7),r.ic("click",(function(){r.zc(t);const n=e.$implicit;return r.kc().eliminar(n)})),r.Hc(15,"Eliminar"),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit;r.Gb(2),r.Ic(t.id),r.Gb(2),r.Ic(t.marca),r.Gb(2),r.Ic(t.modelo),r.Gb(2),r.Ic(t.anio),r.Gb(2),r.Ic(t.precio)}}function PO(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",22),r.ic("click",(function(){return r.zc(t),r.kc(2).guardarAuto()})),r.Hc(1,"Save"),r.Wb()}}function RO(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",22),r.ic("click",(function(){return r.zc(t),r.kc(2).actualizarAuto()})),r.Hc(1,"Actualizar"),r.Wb()}}function DO(t,e){if(1&t&&(r.Xb(0,"div",8),r.Xb(1,"h4",9),r.Hc(2,"Nuevo Coche"),r.Wb(),r.Xb(3,"button",10),r.ic("click",(function(){return e.$implicit.dismiss("Cross click")})),r.Xb(4,"span",11),r.Hc(5,"\xd7"),r.Wb(),r.Wb(),r.Wb(),r.Xb(6,"div",12),r.Xb(7,"form"),r.Xb(8,"div",13),r.Xb(9,"form",14),r.Xb(10,"div",13),r.Xb(11,"label"),r.Hc(12,"Id"),r.Wb(),r.Tb(13,"input",15),r.Wb(),r.Xb(14,"div",13),r.Xb(15,"label"),r.Hc(16,"Marca"),r.Wb(),r.Tb(17,"input",16),r.Wb(),r.Xb(18,"div",13),r.Xb(19,"label"),r.Hc(20,"Modelo"),r.Wb(),r.Tb(21,"input",17),r.Wb(),r.Xb(22,"div",13),r.Xb(23,"label"),r.Hc(24,"A\xf1o"),r.Wb(),r.Tb(25,"input",18),r.Wb(),r.Xb(26,"div",13),r.Xb(27,"label"),r.Hc(28,"Precio"),r.Wb(),r.Tb(29,"input",19),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(30,"div",20),r.Fc(31,PO,2,0,"button",21),r.Fc(32,RO,2,0,"button",21),r.Wb()),2&t){const t=r.kc();r.Gb(9),r.qc("formGroup",t.autoForm),r.Gb(22),r.qc("ngIf",!t.actualizar),r.Gb(1),r.qc("ngIf",t.actualizar)}}const VO=function(){return["register"]},LO=function(){return["login"]},MO=fi.forRoot([{path:"home",component:(()=>{class t{constructor(t,e,n){this.modalService=t,this.fb=e,this.firebaseServiceService=n,this.closeResult="",this.collection={count:20,data:[]}}ngOnInit(){this.idFirebaseActualizar="",this.actualizar=!1,this.config={itemsPerPage:5,currentPage:1,totalItems:this.collection.count},this.autoForm=this.fb.group({id:["",No.required],marca:["",No.required],modelo:["",No.required],anio:["",No.required],precio:["",No.required]}),this.firebaseServiceService.getAutos().subscribe(t=>{this.collection.data=t.map(t=>({id:t.payload.doc.data().id,marca:t.payload.doc.data().marca,modelo:t.payload.doc.data().modelo,anio:t.payload.doc.data().anio,precio:t.payload.doc.data().precio,idFirebase:t.payload.doc.id}))},t=>{console.error(t)})}pageChanged(t){this.config.currentPage=t}eliminar(t){this.firebaseServiceService.deleteAuto(t.idFirebase)}guardarAuto(){this.firebaseServiceService.createAuto(this.autoForm.value).then(t=>{this.autoForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)})}actualizarAuto(){Object(Xa.isNullOrUndefined)(this.idFirebaseActualizar)||this.firebaseServiceService.updateAuto(this.idFirebaseActualizar,this.autoForm.value).then(t=>{this.autoForm.reset(),this.modalService.dismissAll()}).catch(t=>{console.error(t)})}openEditar(t,e){this.autoForm.setValue({id:e.id,marca:e.marca,modelo:e.modelo,anio:e.anio,precio:e.precio}),this.idFirebaseActualizar=e.idFirebase,this.actualizar=!0,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},t=>{this.closeResult="Dismissed "+this.getDismissReason(t)})}open(t){this.actualizar=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult="Closed with: "+t},t=>{this.closeResult="Dismissed "+this.getDismissReason(t)})}getDismissReason(t){return t===na.ESC?"by pressing ESC":t===na.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(oa),r.Sb(Is),r.Sb(kO))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-home"]],decls:26,vars:4,consts:[[2,"text-align","center"],["type","button",1,"btn","btn-success",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[3,"pageChange"],["content",""],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[3,"formGroup"],["type","number","formControlName","id",1,"form-control"],["type","text","formControlName","marca",1,"form-control"],["type","text","formControlName","modelo",1,"form-control"],["type","number","formControlName","anio",1,"form-control"],["type","String","formControlName","precio",1,"form-control"],[1,"modal-footer"],["type","button","class","btn btn-outline-dark",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",0),r.Xb(1,"h2"),r.Hc(2,"Sistema de Autos"),r.Wb(),r.Xb(3,"button",1),r.ic("click",(function(){r.zc(t);const n=r.yc(25);return e.open(n)})),r.Hc(4,"Nuevo Coche"),r.Wb(),r.Xb(5,"table",2),r.Xb(6,"thead"),r.Xb(7,"tr"),r.Xb(8,"th"),r.Hc(9,"ID"),r.Wb(),r.Xb(10,"th"),r.Hc(11,"Marca"),r.Wb(),r.Xb(12,"th"),r.Hc(13,"Modelo"),r.Wb(),r.Xb(14,"th"),r.Hc(15,"A\xf1o"),r.Wb(),r.Xb(16,"th"),r.Hc(17,"Precio"),r.Wb(),r.Xb(18,"th"),r.Hc(19,"Opciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(20,"tbody"),r.Fc(21,NO,16,5,"tr",3),r.lc(22,"paginate"),r.Wb(),r.Wb(),r.Xb(23,"pagination-controls",4),r.ic("pageChange",(function(t){return e.pageChanged(t)})),r.Wb(),r.Fc(24,DO,33,3,"ng-template",null,5,r.Gc),r.Wb()}2&t&&(r.Gb(21),r.qc("ngForOf",r.nc(22,1,e.collection.data,e.config)))},directives:[L,Ba,bs,Io,vs,Os,Fo,bo,So,Cs,F],pipes:[Ua],styles:[""]}),t})()},{path:"login",component:(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.loginForm=new ps({email:new ds(""),password:new ds("")})}ngOnInit(){}onLogin(){return Ei(this,void 0,void 0,(function*(){const{email:t,password:e}=this.loginForm.value;try{(yield this.authSvc.login(t,e))&&this.router.navigate(["/home"])}catch(n){console.log(n)}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(qi),r.Sb(Yr))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-login"]],features:[r.Fb([qi])],decls:23,vars:3,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h1",4),r.Hc(5,"LOGIN"),r.Wb(),r.Xb(6,"form",5),r.ic("ngSubmit",(function(){return e.onLogin()})),r.Xb(7,"div",6),r.Xb(8,"label",7),r.Hc(9,"Email"),r.Wb(),r.Tb(10,"input",8),r.Wb(),r.Xb(11,"div",6),r.Xb(12,"label",9),r.Hc(13,"Password"),r.Wb(),r.Tb(14,"input",10),r.Wb(),r.Tb(15,"br"),r.Xb(16,"button",11),r.Hc(17,"Login"),r.Wb(),r.Wb(),r.Xb(18,"div",12),r.Xb(19,"p"),r.Hc(20,"Create an account"),r.Xb(21,"a",13),r.Hc(22," Register "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(6),r.qc("formGroup",e.loginForm),r.Gb(15),r.qc("routerLink",r.tc(2,VO)))},directives:[bs,Io,Os,bo,So,Cs,ti],styles:[".btn-google[_ngcontent-%COMP%]{background:#dd4b39;color:#fff;width:100%}"]}),t})()},{path:"register",component:(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.registerForm=new ps({email:new ds(""),password:new ds("")})}ngOnInit(){}onRegister(){return Ei(this,void 0,void 0,(function*(){const{email:t,password:e}=this.registerForm.value;try{(yield this.authSvc.register(t,e))&&this.router.navigate(["/home"])}catch(n){console.log(n)}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(qi),r.Sb(Yr))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-register"]],decls:23,vars:3,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"h1",4),r.Hc(5,"REGISTER"),r.Wb(),r.Xb(6,"form",5),r.ic("ngSubmit",(function(){return e.onRegister()})),r.Xb(7,"div",6),r.Xb(8,"label",7),r.Hc(9,"Email"),r.Wb(),r.Tb(10,"input",8),r.Wb(),r.Xb(11,"div",6),r.Xb(12,"label",9),r.Hc(13,"Password"),r.Wb(),r.Tb(14,"input",10),r.Wb(),r.Tb(15,"br"),r.Xb(16,"button",11),r.Hc(17,"Register"),r.Wb(),r.Wb(),r.Xb(18,"div",12),r.Xb(19,"p"),r.Hc(20,"Do you have an account?"),r.Xb(21,"a",13),r.Hc(22," Login "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Gb(6),r.qc("formGroup",e.registerForm),r.Gb(15),r.qc("routerLink",r.tc(2,LO)))},directives:[bs,Io,Os,bo,So,Cs,ti],styles:[""]}),t})()},{path:"**",redirectTo:"home",pathMatch:"full"}]);let FO=(()=>{class t{}return t.\u0275mod=r.Qb({type:t,bootstrap:[Ia]}),t.\u0275inj=r.Pb({factory:function(e){return new(e||t)},providers:[qi],imports:[[Tt,Oi,ya,Ka,Ts,xs,MO,Hi,Pi.a.initializeApp(i)]]}),t})();Object(r.Z)(),It().bootstrapModule(FO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);